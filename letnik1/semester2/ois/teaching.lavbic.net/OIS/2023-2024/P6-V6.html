<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Poglavje 13 P6 → V6 Seja, košarica, XML in e-SLOG | Osnove informacijskih sistemov 2023/2024</title>
  <meta name="description" content="Skripta za pomoč pri predmetu Osnove informacijskih sistemov 2023/2024" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="Poglavje 13 P6 → V6 Seja, košarica, XML in e-SLOG | Osnove informacijskih sistemov 2023/2024" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Skripta za pomoč pri predmetu Osnove informacijskih sistemov 2023/2024" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Poglavje 13 P6 → V6 Seja, košarica, XML in e-SLOG | Osnove informacijskih sistemov 2023/2024" />
  
  <meta name="twitter:description" content="Skripta za pomoč pri predmetu Osnove informacijskih sistemov 2023/2024" />
  

<meta name="author" content="izr. prof. dr. Dejan Lavbič" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="P6.html"/>
<link rel="next" href="P7.html"/>
<script src="assets/lib/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="assets/lib/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/lib/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="assets/lib/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/lib/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/lib/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/lib/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="assets/lib/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="assets/lib/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="assets/lib/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="assets/lib/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="assets/lib/kePrint-0.0.1/kePrint.js"></script>
<link href="assets/lib/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="assets/style/stil.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html#terminski-plan-izvajanja-predmeta">OIS 2023/2024 terminski plan</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Uvod</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#splošne-informacije"><i class="fa fa-check"></i>Splošne informacije</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#predavatelj"><i class="fa fa-check"></i>Predavatelj</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#asistent"><i class="fa fa-check"></i>Asistent</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#terminski-plan-izvajanja-predmeta"><i class="fa fa-check"></i>Terminski plan izvajanja predmeta</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#pravila-igre"><i class="fa fa-check"></i>Pravila igre</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#predavanja"><i class="fa fa-check"></i>Predavanja</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#vaje"><i class="fa fa-check"></i>Vaje</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#ocenjevanje"><i class="fa fa-check"></i>Ocenjevanje</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#pisni-izpiti"><i class="fa fa-check"></i>Pisni izpiti</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#priporočena-literatura"><i class="fa fa-check"></i>Priporočena literatura</a></li>
</ul></li>
<li class="part"><span><b>I sklop: Poslovni informacijski sistemi in upravljanje informatike</b></span></li>
<li class="chapter" data-level="1" data-path="P1.html"><a href="P1.html"><i class="fa fa-check"></i><b>1</b> <span class="sklop1 oznaka">P1</span> Upravljanje IT</a>
<ul>
<li class="chapter" data-level="1.1" data-path="P1.html"><a href="P1.html#ogrodje-digitalne-preobrazbe"><i class="fa fa-check"></i><b>1.1</b> Ogrodje digitalne preobrazbe</a></li>
<li class="chapter" data-level="1.2" data-path="P1.html"><a href="P1.html#uvod-1"><i class="fa fa-check"></i><b>1.2</b> Uvod</a></li>
<li class="chapter" data-level="1.3" data-path="P1.html"><a href="P1.html#upravljanje-it-in-vloga-informatike"><i class="fa fa-check"></i><b>1.3</b> Upravljanje IT in vloga informatike</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="P1.html"><a href="P1.html#vloga-vodstva-pri-upravljanju-it"><i class="fa fa-check"></i><b>1.3.1</b> Vloga vodstva pri upravljanju IT</a></li>
<li class="chapter" data-level="1.3.2" data-path="P1.html"><a href="P1.html#ključna-vprašanja-o-it"><i class="fa fa-check"></i><b>1.3.2</b> Ključna vprašanja o IT</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="P1.html"><a href="P1.html#ogrodje-za-upravljanje-it"><i class="fa fa-check"></i><b>1.4</b> Ogrodje za upravljanje IT</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="P1.html"><a href="P1.html#ključne-odločitve"><i class="fa fa-check"></i><b>1.4.1</b> Ključne odločitve</a></li>
<li class="chapter" data-level="1.4.2" data-path="P1.html"><a href="P1.html#ključni-odločevalci"><i class="fa fa-check"></i><b>1.4.2</b> Ključni odločevalci</a></li>
<li class="chapter" data-level="1.4.3" data-path="P1.html"><a href="P1.html#strukture-in-procesi-odločanja"><i class="fa fa-check"></i><b>1.4.3</b> Strukture in procesi odločanja</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="P1-V1.html"><a href="P1-V1.html"><i class="fa fa-check"></i><b>2</b> <span class="sklop1 oznaka">P1</span> → <span class="sklop3 oznaka">V1</span> Obvladovanje verzij</a>
<ul>
<li class="chapter" data-level="2.1" data-path="P1-V1.html"><a href="P1-V1.html#zgodovina-vcs"><i class="fa fa-check"></i><b>2.1</b> Zgodovina VCS</a></li>
<li class="chapter" data-level="2.2" data-path="P1-V1.html"><a href="P1-V1.html#osnovne-operacije-vcs"><i class="fa fa-check"></i><b>2.2</b> Osnovne operacije VCS</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="P1-V1.html"><a href="P1-V1.html#VCS-create"><i class="fa fa-check"></i><b>2.2.1</b> Create</a></li>
<li class="chapter" data-level="2.2.2" data-path="P1-V1.html"><a href="P1-V1.html#VCS-checkout"><i class="fa fa-check"></i><b>2.2.2</b> Checkout</a></li>
<li class="chapter" data-level="2.2.3" data-path="P1-V1.html"><a href="P1-V1.html#VCS-commit"><i class="fa fa-check"></i><b>2.2.3</b> Commit</a></li>
<li class="chapter" data-level="2.2.4" data-path="P1-V1.html"><a href="P1-V1.html#VCS-update"><i class="fa fa-check"></i><b>2.2.4</b> Update</a></li>
<li class="chapter" data-level="2.2.5" data-path="P1-V1.html"><a href="P1-V1.html#VCS-add"><i class="fa fa-check"></i><b>2.2.5</b> Add</a></li>
<li class="chapter" data-level="2.2.6" data-path="P1-V1.html"><a href="P1-V1.html#VCS-edit"><i class="fa fa-check"></i><b>2.2.6</b> Edit</a></li>
<li class="chapter" data-level="2.2.7" data-path="P1-V1.html"><a href="P1-V1.html#VCS-delete"><i class="fa fa-check"></i><b>2.2.7</b> Delete</a></li>
<li class="chapter" data-level="2.2.8" data-path="P1-V1.html"><a href="P1-V1.html#VCS-rename"><i class="fa fa-check"></i><b>2.2.8</b> Rename</a></li>
<li class="chapter" data-level="2.2.9" data-path="P1-V1.html"><a href="P1-V1.html#VCS-move"><i class="fa fa-check"></i><b>2.2.9</b> Move</a></li>
<li class="chapter" data-level="2.2.10" data-path="P1-V1.html"><a href="P1-V1.html#VCS-status"><i class="fa fa-check"></i><b>2.2.10</b> Status</a></li>
<li class="chapter" data-level="2.2.11" data-path="P1-V1.html"><a href="P1-V1.html#VCS-diff"><i class="fa fa-check"></i><b>2.2.11</b> Diff</a></li>
<li class="chapter" data-level="2.2.12" data-path="P1-V1.html"><a href="P1-V1.html#VCS-revert"><i class="fa fa-check"></i><b>2.2.12</b> Revert</a></li>
<li class="chapter" data-level="2.2.13" data-path="P1-V1.html"><a href="P1-V1.html#VCS-log"><i class="fa fa-check"></i><b>2.2.13</b> Log</a></li>
<li class="chapter" data-level="2.2.14" data-path="P1-V1.html"><a href="P1-V1.html#VCS-tag"><i class="fa fa-check"></i><b>2.2.14</b> Tag</a></li>
<li class="chapter" data-level="2.2.15" data-path="P1-V1.html"><a href="P1-V1.html#VCS-branch"><i class="fa fa-check"></i><b>2.2.15</b> Branch</a></li>
<li class="chapter" data-level="2.2.16" data-path="P1-V1.html"><a href="P1-V1.html#VCS-merge"><i class="fa fa-check"></i><b>2.2.16</b> Merge</a></li>
<li class="chapter" data-level="2.2.17" data-path="P1-V1.html"><a href="P1-V1.html#VCS-resolve"><i class="fa fa-check"></i><b>2.2.17</b> Resolve</a></li>
<li class="chapter" data-level="2.2.18" data-path="P1-V1.html"><a href="P1-V1.html#VCS-lock"><i class="fa fa-check"></i><b>2.2.18</b> Lock</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="P1-V1.html"><a href="P1-V1.html#posebnosti-dvcs"><i class="fa fa-check"></i><b>2.3</b> Posebnosti DVCS</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="P1-V1.html"><a href="P1-V1.html#clone"><i class="fa fa-check"></i><b>2.3.1</b> Clone</a></li>
<li class="chapter" data-level="2.3.2" data-path="P1-V1.html"><a href="P1-V1.html#primerjava-cvcs-in-dvcs"><i class="fa fa-check"></i><b>2.3.2</b> Primerjava CVCS in DVCS</a></li>
<li class="chapter" data-level="2.3.3" data-path="P1-V1.html"><a href="P1-V1.html#push"><i class="fa fa-check"></i><b>2.3.3</b> Push</a></li>
<li class="chapter" data-level="2.3.4" data-path="P1-V1.html"><a href="P1-V1.html#pull"><i class="fa fa-check"></i><b>2.3.4</b> Pull</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="P1-V1.html"><a href="P1-V1.html#dobre-prakse-uporabe-git"><i class="fa fa-check"></i><b>2.4</b> Dobre prakse uporabe Git</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="P1-V1.html"><a href="P1-V1.html#osrednji-repozitorij-in-sodelovanje-med-skupinami"><i class="fa fa-check"></i><b>2.4.1</b> Osrednji repozitorij in sodelovanje med skupinami</a></li>
<li class="chapter" data-level="2.4.2" data-path="P1-V1.html"><a href="P1-V1.html#razdelitev-po-vejah-razvoja"><i class="fa fa-check"></i><b>2.4.2</b> Razdelitev po vejah razvoja</a></li>
<li class="chapter" data-level="2.4.3" data-path="P1-V1.html"><a href="P1-V1.html#sporočila-uveljavitev"><i class="fa fa-check"></i><b>2.4.3</b> Sporočila uveljavitev</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="P1-V1.html"><a href="P1-V1.html#dodatno-gradivo"><i class="fa fa-check"></i><b>2.5</b> Dodatno gradivo</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="P2.html"><a href="P2.html"><i class="fa fa-check"></i><b>3</b> <span class="sklop1 oznaka">P2</span> Delovni model, arhitektura podjetja in vrednotenje naložb</a>
<ul>
<li class="chapter" data-level="3.1" data-path="P2.html"><a href="P2.html#delovni-model-in-zrelost-arhitekture-podjetja"><i class="fa fa-check"></i><b>3.1</b> Delovni model in zrelost arhitekture podjetja</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="P2.html"><a href="P2.html#delovni-model"><i class="fa fa-check"></i><b>3.1.1</b> Delovni model</a></li>
<li class="chapter" data-level="3.1.2" data-path="P2.html"><a href="P2.html#arhitektura-podjetja"><i class="fa fa-check"></i><b>3.1.2</b> Arhitektura podjetja</a></li>
<li class="chapter" data-level="3.1.3" data-path="P2.html"><a href="P2.html#posledice-zrelosti-arhitekture-podjetja"><i class="fa fa-check"></i><b>3.1.3</b> Posledice zrelosti arhitekture podjetja</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="P2.html"><a href="P2.html#vrednotenje-naložb"><i class="fa fa-check"></i><b>3.2</b> Vrednotenje naložb</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="P2.html"><a href="P2.html#parametrični-pristop-od-zgoraj-navzdol"><i class="fa fa-check"></i><b>3.2.1</b> Parametrični pristop od zgoraj navzdol</a></li>
<li class="chapter" data-level="3.2.2" data-path="P2.html"><a href="P2.html#pristop-od-spodaj-navzgor"><i class="fa fa-check"></i><b>3.2.2</b> Pristop od spodaj navzgor</a></li>
<li class="chapter" data-level="3.2.3" data-path="P2.html"><a href="P2.html#ocena-proračuna"><i class="fa fa-check"></i><b>3.2.3</b> Ocena proračuna</a></li>
<li class="chapter" data-level="3.2.4" data-path="P2.html"><a href="P2.html#ocena-proracuna-s-pristopm-navzdol"><i class="fa fa-check"></i><b>3.2.4</b> Primer ocene proračuna s pristopom od zgoraj navzdol</a></li>
<li class="chapter" data-level="3.2.5" data-path="P2.html"><a href="P2.html#UCP"><i class="fa fa-check"></i><b>3.2.5</b> Formalna metoda za ocenjevanje stroškov programske opreme</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="P2.html"><a href="P2.html#nematerialne-koristi"><i class="fa fa-check"></i><b>3.3</b> Nematerialne koristi</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="P2.html"><a href="P2.html#zmogljivost-informacijske-tehnologije"><i class="fa fa-check"></i><b>3.3.1</b> Zmogljivost informacijske tehnologije</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="P2-V3.html"><a href="P2-V3.html"><i class="fa fa-check"></i><b>4</b> <span class="sklop1 oznaka">P2</span> → <span class="sklop3 oznaka">V3</span> Uvod v HTML in CSS</a>
<ul>
<li class="chapter" data-level="4.1" data-path="P2-V3.html"><a href="P2-V3.html#html"><i class="fa fa-check"></i><b>4.1</b> HTML</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="P2-V3.html"><a href="P2-V3.html#gradniki"><i class="fa fa-check"></i><b>4.1.1</b> Gradniki</a></li>
<li class="chapter" data-level="4.1.2" data-path="P2-V3.html"><a href="P2-V3.html#zaključek"><i class="fa fa-check"></i><b>4.1.2</b> Zaključek</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="P2-V3.html"><a href="P2-V3.html#CSS"><i class="fa fa-check"></i><b>4.2</b> CSS</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="P2-V3.html"><a href="P2-V3.html#gradniki-1"><i class="fa fa-check"></i><b>4.2.1</b> Gradniki</a></li>
<li class="chapter" data-level="4.2.2" data-path="P2-V3.html"><a href="P2-V3.html#zaključek-1"><i class="fa fa-check"></i><b>4.2.2</b> Zaključek</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="P3.html"><a href="P3.html"><i class="fa fa-check"></i><b>5</b> <span class="sklop1 oznaka">P3</span> Tveganja, IT naložbeni portfelj in povračilo sredstev</a>
<ul>
<li class="chapter" data-level="5.1" data-path="P3.html"><a href="P3.html#tveganja-pri-projektih-it"><i class="fa fa-check"></i><b>5.1</b> Tveganja pri projektih IT</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="P3.html"><a href="P3.html#upoštevanje-tveganja-pri-vrednotenju-naložb-v-it"><i class="fa fa-check"></i><b>5.1.1</b> Upoštevanje tveganja pri vrednotenju naložb v IT</a></li>
<li class="chapter" data-level="5.1.2" data-path="P3.html"><a href="P3.html#kako-podjetja-upoštevajo-tveganja"><i class="fa fa-check"></i><b>5.1.2</b> Kako podjetja upoštevajo tveganja?</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="P3.html"><a href="P3.html#pristop-z-opcijami-pri-naložbah-v-it"><i class="fa fa-check"></i><b>5.2</b> Pristop z opcijami pri naložbah v IT</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="P3.html"><a href="P3.html#primer-starbuck"><i class="fa fa-check"></i><b>5.2.1</b> Primer Starbuck</a></li>
<li class="chapter" data-level="5.2.2" data-path="P3.html"><a href="P3.html#primer-opcije"><i class="fa fa-check"></i><b>5.2.2</b> Primer implementacije sistema</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="P3.html"><a href="P3.html#ogrodje-za-vrednotenje-naložb-v-it"><i class="fa fa-check"></i><b>5.3</b> Ogrodje za vrednotenje naložb v IT</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="P3.html"><a href="P3.html#pasti-prekinitve"><i class="fa fa-check"></i><b>5.3.1</b> Pasti prekinitve</a></li>
<li class="chapter" data-level="5.3.2" data-path="P3.html"><a href="P3.html#pasti-odložitve"><i class="fa fa-check"></i><b>5.3.2</b> Pasti odložitve</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="P3.html"><a href="P3.html#it-naložbeni-portfelj"><i class="fa fa-check"></i><b>5.4</b> IT naložbeni portfelj</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="P3.html"><a href="P3.html#upravljanje-portfelja-it"><i class="fa fa-check"></i><b>5.4.1</b> Upravljanje portfelja IT</a></li>
<li class="chapter" data-level="5.4.2" data-path="P3.html"><a href="P3.html#lastnosti-različnih-skupin-sredstev-it"><i class="fa fa-check"></i><b>5.4.2</b> Lastnosti različnih skupin sredstev IT</a></li>
<li class="chapter" data-level="5.4.3" data-path="P3.html"><a href="P3.html#strateška-usmeritev-in-upravljanje-portfelja"><i class="fa fa-check"></i><b>5.4.3</b> Strateška usmeritev in upravljanje portfelja</a></li>
<li class="chapter" data-level="5.4.4" data-path="P3.html"><a href="P3.html#proces-upravljanja-portfelja-it"><i class="fa fa-check"></i><b>5.4.4</b> Proces upravljanja portfelja IT</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="P3.html"><a href="P3.html#povračilo-sredstev-za-it"><i class="fa fa-check"></i><b>5.5</b> Povračilo sredstev za IT</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="P3.html"><a href="P3.html#razumevanje-izziva-povračila-sredstev-za-it"><i class="fa fa-check"></i><b>5.5.1</b> Razumevanje izziva povračila sredstev za IT</a></li>
<li class="chapter" data-level="5.5.2" data-path="P3.html"><a href="P3.html#različni-pristopi-povračila-sredstev-za-it"><i class="fa fa-check"></i><b>5.5.2</b> Različni pristopi povračila sredstev za IT</a></li>
<li class="chapter" data-level="5.5.3" data-path="P3.html"><a href="P3.html#posledice-povračil-sredstev-za-it"><i class="fa fa-check"></i><b>5.5.3</b> Posledice povračil sredstev za IT</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="P3-V3.html"><a href="P3-V3.html"><i class="fa fa-check"></i><b>6</b> <span class="sklop1 oznaka">P3</span> → <span class="sklop3 oznaka">V3</span> JavaScript na strani odjemalca</a>
<ul>
<li class="chapter" data-level="6.1" data-path="P3-V3.html"><a href="P3-V3.html#JavaScript"><i class="fa fa-check"></i><b>6.1</b> JavaScript</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="P3-V3.html"><a href="P3-V3.html#gradniki-2"><i class="fa fa-check"></i><b>6.1.1</b> Gradniki</a></li>
<li class="chapter" data-level="6.1.2" data-path="P3-V3.html"><a href="P3-V3.html#zaključek-2"><i class="fa fa-check"></i><b>6.1.2</b> Zaključek</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="P4.html"><a href="P4.html"><i class="fa fa-check"></i><b>7</b> <span class="sklop1 oznaka">P4</span> Upravljanje sprememb, IS, podatek, informacija, znanje</a>
<ul>
<li class="chapter" data-level="7.1" data-path="P4.html"><a href="P4.html#upravljanje-sprememb"><i class="fa fa-check"></i><b>7.1</b> Upravljanje sprememb</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="P4.html"><a href="P4.html#razumevanje-odpora-uporabnikov"><i class="fa fa-check"></i><b>7.1.1</b> Razumevanje odpora uporabnikov</a></li>
<li class="chapter" data-level="7.1.2" data-path="P4.html"><a href="P4.html#odpor-uporabnikov-do-sprememb-perspektiva-pristranskosti"><i class="fa fa-check"></i><b>7.1.2</b> Odpor uporabnikov do sprememb: perspektiva pristranskosti</a></li>
<li class="chapter" data-level="7.1.3" data-path="P4.html"><a href="P4.html#model-prilagajanja-uporabniku"><i class="fa fa-check"></i><b>7.1.3</b> Model prilagajanja uporabniku</a></li>
<li class="chapter" data-level="7.1.4" data-path="P4.html"><a href="P4.html#različni-modeli-sprejetosti-uporabnikov"><i class="fa fa-check"></i><b>7.1.4</b> Različni modeli sprejetosti uporabnikov</a></li>
<li class="chapter" data-level="7.1.5" data-path="P4.html"><a href="P4.html#ključni-vzvodi-pri-uvajanju-informacijskega-sistema"><i class="fa fa-check"></i><b>7.1.5</b> Ključni vzvodi pri uvajanju informacijskega sistema</a></li>
<li class="chapter" data-level="7.1.6" data-path="P4.html"><a href="P4.html#kako-učinkovito-uvesti-spremembe-kritični-dejavniki-uspeha"><i class="fa fa-check"></i><b>7.1.6</b> Kako učinkovito uvesti spremembe: kritični dejavniki uspeha</a></li>
<li class="chapter" data-level="7.1.7" data-path="P4.html"><a href="P4.html#primerjava-evolucijske-in-revolucionarne-spremembe"><i class="fa fa-check"></i><b>7.1.7</b> Primerjava evolucijske in revolucionarne spremembe</a></li>
<li class="chapter" data-level="7.1.8" data-path="P4.html"><a href="P4.html#projektno-vodenje-v-primerjavi-z-učnim-pristopom"><i class="fa fa-check"></i><b>7.1.8</b> Projektno vodenje v primerjavi z učnim pristopom</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="P4.html"><a href="P4.html#sistem"><i class="fa fa-check"></i><b>7.2</b> Sistem</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="P4.html"><a href="P4.html#opredelitve-osnovnih-pojmov"><i class="fa fa-check"></i><b>7.2.1</b> Opredelitve osnovnih pojmov</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="P4.html"><a href="P4.html#podatek-informacija-in-znanje"><i class="fa fa-check"></i><b>7.3</b> Podatek, informacija in znanje</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="P4.html"><a href="P4.html#podatek-in-informacija"><i class="fa fa-check"></i><b>7.3.1</b> Podatek in informacija</a></li>
<li class="chapter" data-level="7.3.2" data-path="P4.html"><a href="P4.html#značilnosti-informacij"><i class="fa fa-check"></i><b>7.3.2</b> Značilnosti informacij</a></li>
<li class="chapter" data-level="7.3.3" data-path="P4.html"><a href="P4.html#raziskava-o-kakovosti-informacij"><i class="fa fa-check"></i><b>7.3.3</b> Raziskava o kakovosti informacij</a></li>
<li class="chapter" data-level="7.3.4" data-path="P4.html"><a href="P4.html#znanje"><i class="fa fa-check"></i><b>7.3.4</b> Znanje</a></li>
<li class="chapter" data-level="7.3.5" data-path="P4.html"><a href="P4.html#povezanost-podatka-informacije-in-znanja"><i class="fa fa-check"></i><b>7.3.5</b> Povezanost podatka, informacije in znanja</a></li>
<li class="chapter" data-level="7.3.6" data-path="P4.html"><a href="P4.html#primeri-interpretacij-informacij"><i class="fa fa-check"></i><b>7.3.6</b> Primeri interpretacij informacij</a></li>
<li class="chapter" data-level="7.3.7" data-path="P4.html"><a href="P4.html#znanje-vs.-védenje"><i class="fa fa-check"></i><b>7.3.7</b> Znanje vs. védenje</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="P4-V4.html"><a href="P4-V4.html"><i class="fa fa-check"></i><b>8</b> <span class="sklop1 oznaka">P4</span> → <span class="sklop3 oznaka">V4</span> Odjemalec/strežnik in Node.js</a>
<ul>
<li class="chapter" data-level="8.1" data-path="P4-V4.html"><a href="P4-V4.html#razvoj-enostavnega-spletnega-strežnika"><i class="fa fa-check"></i><b>8.1</b> Razvoj enostavnega spletnega strežnika</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="P4-V4.html"><a href="P4-V4.html#hello-world"><i class="fa fa-check"></i><b>8.1.1</b> Hello World</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="P4-V4.html"><a href="P4-V4.html#spremenljivke-na-strežniku"><i class="fa fa-check"></i><b>8.2</b> Spremenljivke na strežniku</a></li>
<li class="chapter" data-level="8.3" data-path="P4-V4.html"><a href="P4-V4.html#strežnik-statičnih-spletnih-strani"><i class="fa fa-check"></i><b>8.3</b> Strežnik statičnih spletnih strani</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="P4-V4.html"><a href="P4-V4.html#knjižnice-ki-jih-bo-naš-projekt-uporabljal"><i class="fa fa-check"></i><b>8.3.1</b> Knjižnice, ki jih bo naš projekt uporabljal</a></li>
<li class="chapter" data-level="8.3.2" data-path="P4-V4.html"><a href="P4-V4.html#uvoz-statičnih-datotek"><i class="fa fa-check"></i><b>8.3.2</b> Uvoz statičnih datotek</a></li>
<li class="chapter" data-level="8.3.3" data-path="P4-V4.html"><a href="P4-V4.html#začnemo-s-pisanjem-kode-na-strežniku"><i class="fa fa-check"></i><b>8.3.3</b> Začnemo s pisanjem kode na strežniku</a></li>
<li class="chapter" data-level="8.3.4" data-path="P4-V4.html"><a href="P4-V4.html#pripravimo-objekt-strežnika-in-ga-osnovno-nastavimo"><i class="fa fa-check"></i><b>8.3.4</b> Pripravimo objekt strežnika in ga osnovno nastavimo</a></li>
<li class="chapter" data-level="8.3.5" data-path="P4-V4.html"><a href="P4-V4.html#strežnik-poženemo"><i class="fa fa-check"></i><b>8.3.5</b> Strežnik poženemo</a></li>
<li class="chapter" data-level="8.3.6" data-path="P4-V4.html"><a href="P4-V4.html#pripravimo-še-manjkajočo-metodo-za-strežbo-statične-vsebine"><i class="fa fa-check"></i><b>8.3.6</b> Pripravimo še manjkajočo metodo za strežbo statične vsebine</a></li>
<li class="chapter" data-level="8.3.7" data-path="P4-V4.html"><a href="P4-V4.html#pripravimo-metodo-za-obvladovanje-napak"><i class="fa fa-check"></i><b>8.3.7</b> Pripravimo metodo za obvladovanje napak</a></li>
<li class="chapter" data-level="8.3.8" data-path="P4-V4.html"><a href="P4-V4.html#pripravimo-tudi-metodo-ki-vrne-datoteko-odjemalcu"><i class="fa fa-check"></i><b>8.3.8</b> Pripravimo tudi metodo, ki vrne datoteko odjemalcu</a></li>
<li class="chapter" data-level="8.3.9" data-path="P4-V4.html"><a href="P4-V4.html#preverimo-delovanje-strežbe-statičnih-strani"><i class="fa fa-check"></i><b>8.3.9</b> Preverimo delovanje strežbe statičnih strani</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="P4-V4.html"><a href="P4-V4.html#strežniku-statičnih-strani-dodamo-predpomnjenje"><i class="fa fa-check"></i><b>8.4</b> Strežniku statičnih strani dodamo predpomnjenje</a></li>
<li class="chapter" data-level="8.5" data-path="P4-V4.html"><a href="P4-V4.html#strežniku-dodamo-dinamične-strani"><i class="fa fa-check"></i><b>8.5</b> Strežniku dodamo dinamične strani</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="P4-V4.html"><a href="P4-V4.html#popravimo-nastavitev-strežnika"><i class="fa fa-check"></i><b>8.5.1</b> Popravimo nastavitev strežnika</a></li>
<li class="chapter" data-level="8.5.2" data-path="P4-V4.html"><a href="P4-V4.html#implementiramo-metodo-za-obdelavo-sporočila"><i class="fa fa-check"></i><b>8.5.2</b> Implementiramo metodo za obdelavo sporočila</a></li>
<li class="chapter" data-level="8.5.3" data-path="P4-V4.html"><a href="P4-V4.html#implementiramo-zahvalo-uporabniku"><i class="fa fa-check"></i><b>8.5.3</b> Implementiramo zahvalo uporabniku</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="P4-V4.html"><a href="P4-V4.html#testiranje-in-dodatno-gradivo"><i class="fa fa-check"></i><b>8.6</b> Testiranje in dodatno gradivo</a></li>
</ul></li>
<li class="part"><span><b>II sklop: Arhitektura poslovnega informacijskega sistema</b></span></li>
<li class="chapter" data-level="9" data-path="DN.html"><a href="DN.html"><i class="fa fa-check"></i><b>9</b> <span class="sklop3 oznaka">DN</span> Spletna aplikacija FRI izletnik</a>
<ul>
<li class="chapter" data-level="9.1" data-path="DN.html"><a href="DN.html#DN1"><i class="fa fa-check"></i><b>9.1</b> Spletna aplikacija <small>(1. del)</small></a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="DN.html"><a href="DN.html#opis-naloge-in-navodila"><i class="fa fa-check"></i><b>9.1.1</b> Opis naloge in navodila <i class="skrivanje fa-solid fa-circle-exclamation"></i></a></li>
<li class="chapter" data-level="9.1.2" data-path="DN.html"><a href="DN.html#vzpostavitev-repozitorija"><i class="fa fa-check"></i><b>9.1.2</b> Vzpostavitev repozitorija <i class="skrivanje fa-solid fa-circle-exclamation"></i></a></li>
<li class="chapter" data-level="9.1.3" data-path="DN.html"><a href="DN.html#DN11"><i class="fa fa-check"></i><b>9.1.3</b> Skladnja strani in stilska preobrazba <i class="skrivanje fa-solid fa-circle-exclamation"></i></a></li>
<li class="chapter" data-level="9.1.4" data-path="DN.html"><a href="DN.html#DN12"><i class="fa fa-check"></i><b>9.1.4</b> Podpora funkcionalnosti na odjemalcu in strežniku <i class="skrivanje fa-solid fa-circle-exclamation"></i></a></li>
<li class="chapter" data-level="9.1.5" data-path="DN.html"><a href="DN.html#združevanje-sprememb-v-repozitoriju"><i class="fa fa-check"></i><b>9.1.5</b> Združevanje sprememb v repozitoriju <i class="skrivanje fa-solid fa-circle-exclamation"></i></a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="DN.html"><a href="DN.html#DN2"><i class="fa fa-check"></i><b>9.2</b> Dopolnitev načrta in implementacija nove funkcionalnosti <small class="skupaj">(2. del)</small></a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="DN.html"><a href="DN.html#DN-navodila"><i class="fa fa-check"></i><b>9.2.1</b> Opis naloge in navodila <i class="skrivanje fa-solid fa-circle-exclamation"></i></a></li>
<li class="chapter" data-level="9.2.2" data-path="DN.html"><a href="DN.html#DN-ideja"><i class="fa fa-check"></i><b>9.2.2</b> Opis osnovne ideje predloga <i class="skrivanje fa-solid fa-circle-exclamation"></i></a></li>
<li class="chapter" data-level="9.2.3" data-path="DN.html"><a href="DN.html#DN-Generiranje-podatkov"><i class="fa fa-check"></i><b>9.2.3</b> Generiranje podatkov <i class="skrivanje fa-solid fa-circle-exclamation"></i></a></li>
<li class="chapter" data-level="9.2.4" data-path="DN.html"><a href="DN.html#DN-nacrt"><i class="fa fa-check"></i><b>9.2.4</b> Načrt informacijske rešitve <i class="skrivanje fa-solid fa-circle-exclamation"></i></a></li>
<li class="chapter" data-level="9.2.5" data-path="DN.html"><a href="DN.html#DN-implementacija"><i class="fa fa-check"></i><b>9.2.5</b> Implementacija funkcionalnosti <i class="skrivanje fa-solid fa-circle-exclamation"></i></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="P5.html"><a href="P5.html"><i class="fa fa-check"></i><b>10</b> <span class="sklop2 oznaka">P5</span> Metamodel delovnega sistema in arhitektura poslovnega informacijskega sistema</a>
<ul>
<li class="chapter" data-level="10.1" data-path="P5.html"><a href="P5.html#metamodel-delovnega-sistema"><i class="fa fa-check"></i><b>10.1</b> Metamodel delovnega sistema</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="P5.html"><a href="P5.html#razmerje-med-informacijskim-sistemom-in-delovnim-sistemom"><i class="fa fa-check"></i><b>10.1.1</b> Razmerje med informacijskim sistemom in delovnim sistemom</a></li>
<li class="chapter" data-level="10.1.2" data-path="P5.html"><a href="P5.html#različni-pogledi-na-metamodel-delovnega-sistema"><i class="fa fa-check"></i><b>10.1.2</b> Različni pogledi na metamodel delovnega sistema</a></li>
<li class="chapter" data-level="10.1.3" data-path="P5.html"><a href="P5.html#primeri-metamodelov-delovnega-sistema"><i class="fa fa-check"></i><b>10.1.3</b> Primeri metamodelov delovnega sistema</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="P5.html"><a href="P5.html#arhitektura-poslovnega-informacijskega-sistema"><i class="fa fa-check"></i><b>10.2</b> Arhitektura poslovnega informacijskega sistema</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="P5.html"><a href="P5.html#uvod-v-poslovne-informacijske-sisteme"><i class="fa fa-check"></i><b>10.2.1</b> Uvod v poslovne informacijske sisteme</a></li>
<li class="chapter" data-level="10.2.2" data-path="P5.html"><a href="P5.html#poklici-povezani-s-poslovnimi-informacijskimi-sistemi"><i class="fa fa-check"></i><b>10.2.2</b> Poklici, povezani s poslovnimi informacijskimi sistemi</a></li>
<li class="chapter" data-level="10.2.3" data-path="P5.html"><a href="P5.html#razumevanje-poslovnih-procesov"><i class="fa fa-check"></i><b>10.2.3</b> Razumevanje poslovnih procesov</a></li>
<li class="chapter" data-level="10.2.4" data-path="P5.html"><a href="P5.html#poslovne-funkcije"><i class="fa fa-check"></i><b>10.2.4</b> Poslovne funkcije</a></li>
<li class="chapter" data-level="10.2.5" data-path="P5.html"><a href="P5.html#primeri-poslovnih-sistemov"><i class="fa fa-check"></i><b>10.2.5</b> Primeri poslovnih sistemov</a></li>
<li class="chapter" data-level="10.2.6" data-path="P5.html"><a href="P5.html#poslovni-sistemi-in-poslovne-funkcije"><i class="fa fa-check"></i><b>10.2.6</b> Poslovni sistemi in poslovne funkcije</a></li>
<li class="chapter" data-level="10.2.7" data-path="P5.html"><a href="P5.html#podjetja-in-poslovni-procesi"><i class="fa fa-check"></i><b>10.2.7</b> Podjetja in poslovni procesi</a></li>
<li class="chapter" data-level="10.2.8" data-path="P5.html"><a href="P5.html#primerjava-največjih-ponudnikov"><i class="fa fa-check"></i><b>10.2.8</b> Primerjava največjih ponudnikov</a></li>
<li class="chapter" data-level="10.2.9" data-path="P5.html"><a href="P5.html#zgodovina-sistema-sap"><i class="fa fa-check"></i><b>10.2.9</b> Zgodovina sistema SAP</a></li>
<li class="chapter" data-level="10.2.10" data-path="P5.html"><a href="P5.html#komponente-poslovnih-informacijskih-sistemov"><i class="fa fa-check"></i><b>10.2.10</b> Komponente poslovnih informacijskih sistemov</a></li>
<li class="chapter" data-level="10.2.11" data-path="P5.html"><a href="P5.html#integracija-poslovnih-aplikacij"><i class="fa fa-check"></i><b>10.2.11</b> Integracija poslovnih aplikacij</a></li>
<li class="chapter" data-level="10.2.12" data-path="P5.html"><a href="P5.html#elektronska-izmenjava-podatkov"><i class="fa fa-check"></i><b>10.2.12</b> Elektronska izmenjava podatkov</a></li>
<li class="chapter" data-level="10.2.13" data-path="P5.html"><a href="P5.html#ERP-podrobnosti"><i class="fa fa-check"></i><b>10.2.13</b> ERP</a></li>
<li class="chapter" data-level="10.2.14" data-path="P5.html"><a href="P5.html#CRM-podrobnosti"><i class="fa fa-check"></i><b>10.2.14</b> CRM</a></li>
<li class="chapter" data-level="10.2.15" data-path="P5.html"><a href="P5.html#SCM-podrobnosti"><i class="fa fa-check"></i><b>10.2.15</b> SCM</a></li>
<li class="chapter" data-level="10.2.16" data-path="P5.html"><a href="P5.html#KM-podrobnosti"><i class="fa fa-check"></i><b>10.2.16</b> KM</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="P5-V5.html"><a href="P5-V5.html"><i class="fa fa-check"></i><b>11</b> <span class="sklop2 oznaka">P5</span> → <span class="sklop3 oznaka">V5</span> Povezovanje na podatkovno bazo</a>
<ul>
<li class="chapter" data-level="11.1" data-path="P5-V5.html"><a href="P5-V5.html#priprava-okolja"><i class="fa fa-check"></i><b>11.1</b> Priprava okolja</a></li>
<li class="chapter" data-level="11.2" data-path="P5-V5.html"><a href="P5-V5.html#razširitev-arhitekture-odjemalecstrežnik-s-podatkovno-bazo"><i class="fa fa-check"></i><b>11.2</b> Razširitev arhitekture odjemalec/strežnik s podatkovno bazo</a></li>
<li class="chapter" data-level="11.3" data-path="P5-V5.html"><a href="P5-V5.html#chinook-podatkovna-baza"><i class="fa fa-check"></i><b>11.3</b> Chinook podatkovna baza</a></li>
<li class="chapter" data-level="11.4" data-path="P5-V5.html"><a href="P5-V5.html#poizvedovalni-jezik-sql"><i class="fa fa-check"></i><b>11.4</b> Poizvedovalni jezik SQL</a></li>
<li class="chapter" data-level="11.5" data-path="P5-V5.html"><a href="P5-V5.html#podatkovna-baza-sqlite"><i class="fa fa-check"></i><b>11.5</b> Podatkovna baza SQLite</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="P5-V5.html"><a href="P5-V5.html#vsebina-podatkovne-baze"><i class="fa fa-check"></i><b>11.5.1</b> Vsebina podatkovne baze</a></li>
<li class="chapter" data-level="11.5.2" data-path="P5-V5.html"><a href="P5-V5.html#namestitev-knjižnic"><i class="fa fa-check"></i><b>11.5.2</b> Namestitev knjižnic</a></li>
<li class="chapter" data-level="11.5.3" data-path="P5-V5.html"><a href="P5-V5.html#prikaz-vseh-vrednosti-v-tabeli"><i class="fa fa-check"></i><b>11.5.3</b> Prikaz vseh vrednosti v tabeli</a></li>
<li class="chapter" data-level="11.5.4" data-path="P5-V5.html"><a href="P5-V5.html#filtriranje-zapisov"><i class="fa fa-check"></i><b>11.5.4</b> Filtriranje zapisov</a></li>
<li class="chapter" data-level="11.5.5" data-path="P5-V5.html"><a href="P5-V5.html#prikaz-podatkov-iz-več-tabel"><i class="fa fa-check"></i><b>11.5.5</b> Prikaz podatkov iz več tabel</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="P5-V5.html"><a href="P5-V5.html#uporaba-ogrodja-express.js-za-poenostavitev-razvoja-aplikacij"><i class="fa fa-check"></i><b>11.6</b> Uporaba ogrodja Express.js za poenostavitev razvoja aplikacij</a>
<ul>
<li class="chapter" data-level="11.6.1" data-path="P5-V5.html"><a href="P5-V5.html#namestitev-knjižnic-1"><i class="fa fa-check"></i><b>11.6.1</b> Namestitev knjižnic</a></li>
<li class="chapter" data-level="11.6.2" data-path="P5-V5.html"><a href="P5-V5.html#hello-world-brez-uporabe-express"><i class="fa fa-check"></i><b>11.6.2</b> Hello World brez uporabe Express</a></li>
<li class="chapter" data-level="11.6.3" data-path="P5-V5.html"><a href="P5-V5.html#hello-world-z-express"><i class="fa fa-check"></i><b>11.6.3</b> Hello World z Express</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="P5-V5.html"><a href="P5-V5.html#master-detail-načrtovalski-vzorec"><i class="fa fa-check"></i><b>11.7</b> Master-detail načrtovalski vzorec</a></li>
<li class="chapter" data-level="11.8" data-path="P5-V5.html"><a href="P5-V5.html#primer-pesmi-po-žanrih"><i class="fa fa-check"></i><b>11.8</b> Primer: Pesmi po žanrih</a>
<ul>
<li class="chapter" data-level="11.8.1" data-path="P5-V5.html"><a href="P5-V5.html#potrebne-knjižnice"><i class="fa fa-check"></i><b>11.8.1</b> Potrebne knjižnice</a></li>
<li class="chapter" data-level="11.8.2" data-path="P5-V5.html"><a href="P5-V5.html#funkcija-ki-v-povratnem-klicu-vrača-seznam-žanrov"><i class="fa fa-check"></i><b>11.8.2</b> Funkcija, ki v povratnem klicu vrača seznam žanrov</a></li>
<li class="chapter" data-level="11.8.3" data-path="P5-V5.html"><a href="P5-V5.html#zaključek-osnovne-funkcionalnosti-strežnika"><i class="fa fa-check"></i><b>11.8.3</b> Zaključek osnovne funkcionalnosti strežnika</a></li>
<li class="chapter" data-level="11.8.4" data-path="P5-V5.html"><a href="P5-V5.html#testiranje-osnovne-funkcionalnosti-master"><i class="fa fa-check"></i><b>11.8.4</b> Testiranje osnovne funkcionalnosti (master)</a></li>
<li class="chapter" data-level="11.8.5" data-path="P5-V5.html"><a href="P5-V5.html#dodajanje-seznama-pesmi-detail"><i class="fa fa-check"></i><b>11.8.5</b> Dodajanje seznama pesmi (detail)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="P6.html"><a href="P6.html"><i class="fa fa-check"></i><b>12</b> <span class="sklop2 oznaka">P6</span> Zgodovina, ključne vloge in vrste IS</a>
<ul>
<li class="chapter" data-level="12.1" data-path="P6.html"><a href="P6.html#e-poslovanje"><i class="fa fa-check"></i><b>12.1</b> E-poslovanje</a></li>
<li class="chapter" data-level="12.2" data-path="P6.html"><a href="P6.html#e-trgovanje"><i class="fa fa-check"></i><b>12.2</b> E-trgovanje</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="P6.html"><a href="P6.html#zgodovina-e-trgovanja"><i class="fa fa-check"></i><b>12.2.1</b> Zgodovina e-trgovanja</a></li>
<li class="chapter" data-level="12.2.2" data-path="P6.html"><a href="P6.html#tehnologije-e-trgovanja"><i class="fa fa-check"></i><b>12.2.2</b> Tehnologije e-trgovanja</a></li>
<li class="chapter" data-level="12.2.3" data-path="P6.html"><a href="P6.html#osnovne-komponente-e-trgovanja"><i class="fa fa-check"></i><b>12.2.3</b> Osnovne komponente e-trgovanja</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="P6.html"><a href="P6.html#zgodovina-in-ključne-vloge-is"><i class="fa fa-check"></i><b>12.3</b> Zgodovina in ključne vloge IS</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="P6.html"><a href="P6.html#zgodovinski-pregled-pomembnih-dogodkov-v-računalništvu"><i class="fa fa-check"></i><b>12.3.1</b> Zgodovinski pregled pomembnih dogodkov v računalništvu</a></li>
<li class="chapter" data-level="12.3.2" data-path="P6.html"><a href="P6.html#razvoj-tehnologij"><i class="fa fa-check"></i><b>12.3.2</b> Razvoj tehnologij</a></li>
<li class="chapter" data-level="12.3.3" data-path="P6.html"><a href="P6.html#razvoj-it-za-podporo-is"><i class="fa fa-check"></i><b>12.3.3</b> Razvoj IT za podporo IS</a></li>
<li class="chapter" data-level="12.3.4" data-path="P6.html"><a href="P6.html#razvoj-informacijske-podpore-po-ravneh-odločanja"><i class="fa fa-check"></i><b>12.3.4</b> Razvoj informacijske podpore po ravneh odločanja</a></li>
<li class="chapter" data-level="12.3.5" data-path="P6.html"><a href="P6.html#zgodovina-informacijskih-sistemov"><i class="fa fa-check"></i><b>12.3.5</b> Zgodovina informacijskih sistemov</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="P6.html"><a href="P6.html#vrste-informacijskih-sistemov"><i class="fa fa-check"></i><b>12.4</b> Vrste informacijskih sistemov</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="P6.html"><a href="P6.html#sistemi-za-podporo-poslovanju"><i class="fa fa-check"></i><b>12.4.1</b> Sistemi za podporo poslovanju</a></li>
<li class="chapter" data-level="12.4.2" data-path="P6.html"><a href="P6.html#sistemi-za-podporo-odločanju"><i class="fa fa-check"></i><b>12.4.2</b> Sistemi za podporo odločanju</a></li>
<li class="chapter" data-level="12.4.3" data-path="P6.html"><a href="P6.html#specializirani-sistemi"><i class="fa fa-check"></i><b>12.4.3</b> Specializirani sistemi</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="P6-V6.html"><a href="P6-V6.html"><i class="fa fa-check"></i><b>13</b> <span class="sklop2 oznaka">P6</span> → <span class="sklop3 oznaka">V6</span> Seja, košarica, XML in e-SLOG</a>
<ul>
<li class="chapter" data-level="13.1" data-path="P6-V6.html"><a href="P6-V6.html#priprava-okolja-1"><i class="fa fa-check"></i><b>13.1</b> Priprava okolja</a></li>
<li class="chapter" data-level="13.2" data-path="P6-V6.html"><a href="P6-V6.html#namestitev-knjižnic-in-vključitev-podatkovne-baze"><i class="fa fa-check"></i><b>13.2</b> Namestitev knjižnic in vključitev podatkovne baze</a></li>
<li class="chapter" data-level="13.3" data-path="P6-V6.html"><a href="P6-V6.html#seja"><i class="fa fa-check"></i><b>13.3</b> Seja</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="P6-V6.html"><a href="P6-V6.html#globalne-spremenljivke-vs.-seja"><i class="fa fa-check"></i><b>13.3.1</b> Globalne spremenljivke vs. seja</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="P6-V6.html"><a href="P6-V6.html#nakupovalna-košarica"><i class="fa fa-check"></i><b>13.4</b> Nakupovalna košarica</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="P6-V6.html"><a href="P6-V6.html#primer-nakupovanja-pesmi-iz-seznama-100-najbolje-prodajanih"><i class="fa fa-check"></i><b>13.4.1</b> Primer nakupovanja pesmi iz seznama 100 najbolje prodajanih</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="P6-V6.html"><a href="P6-V6.html#xml-in-e-slog"><i class="fa fa-check"></i><b>13.5</b> XML in e-SLOG</a>
<ul>
<li class="chapter" data-level="13.5.1" data-path="P6-V6.html"><a href="P6-V6.html#dokumentacija"><i class="fa fa-check"></i><b>13.5.1</b> Dokumentacija</a></li>
<li class="chapter" data-level="13.5.2" data-path="P6-V6.html"><a href="P6-V6.html#dopolnitve-primera-nakupovanja-pesmi"><i class="fa fa-check"></i><b>13.5.2</b> Dopolnitve primera nakupovanja pesmi</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III sklop: Analiza, načrtovanje in razvoj poslovnih informacijskih sistemov</b></span></li>
<li class="chapter" data-level="14" data-path="P7.html"><a href="P7.html"><i class="fa fa-check"></i><b>14</b> <span class="sklop3 oznaka">P7</span> Razvojni modeli informacijskih sistemov in metodologije razvoja</a>
<ul>
<li class="chapter" data-level="14.1" data-path="P7.html"><a href="P7.html#zgodovina-razvoja-informacijskih-sistemov"><i class="fa fa-check"></i><b>14.1</b> Zgodovina razvoja informacijskih sistemov</a></li>
<li class="chapter" data-level="14.2" data-path="P7.html"><a href="P7.html#razvojni-model-informacijskega-sistema"><i class="fa fa-check"></i><b>14.2</b> Razvojni model informacijskega sistema</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="P7.html"><a href="P7.html#SDLC-studija-izvedljivosti"><i class="fa fa-check"></i><b>14.2.1</b> Študija izvedljivosti</a></li>
<li class="chapter" data-level="14.2.2" data-path="P7.html"><a href="P7.html#SDLC-zbiranje-zahtev"><i class="fa fa-check"></i><b>14.2.2</b> Zbiranje zahtev</a></li>
<li class="chapter" data-level="14.2.3" data-path="P7.html"><a href="P7.html#SDLC-analiza"><i class="fa fa-check"></i><b>14.2.3</b> Analiza</a></li>
<li class="chapter" data-level="14.2.4" data-path="P7.html"><a href="P7.html#SDLC-nacrt"><i class="fa fa-check"></i><b>14.2.4</b> Načrtovanje</a></li>
<li class="chapter" data-level="14.2.5" data-path="P7.html"><a href="P7.html#SDLC-implementacija"><i class="fa fa-check"></i><b>14.2.5</b> Implementacija</a></li>
<li class="chapter" data-level="14.2.6" data-path="P7.html"><a href="P7.html#SDLC-pregled-in-vzdrzevanje"><i class="fa fa-check"></i><b>14.2.6</b> Pregled in vzdrževanje</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="P7.html"><a href="P7.html#metodologija"><i class="fa fa-check"></i><b>14.3</b> Metodologija</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="P7.html"><a href="P7.html#tehnike"><i class="fa fa-check"></i><b>14.3.1</b> Tehnike</a></li>
<li class="chapter" data-level="14.3.2" data-path="P7.html"><a href="P7.html#orodja"><i class="fa fa-check"></i><b>14.3.2</b> Orodja</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="P7.html"><a href="P7.html#variante-razvojnih-modelov-informacijskih-sistemov"><i class="fa fa-check"></i><b>14.4</b> Variante razvojnih modelov informacijskih sistemov</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="P7.html"><a href="P7.html#Zaporedni-razvojni-model"><i class="fa fa-check"></i><b>14.4.1</b> Zaporedni oz. slapovni razvojni model</a></li>
<li class="chapter" data-level="14.4.2" data-path="P7.html"><a href="P7.html#Iterativni-razvojni-model"><i class="fa fa-check"></i><b>14.4.2</b> Iterativni razvojni model</a></li>
<li class="chapter" data-level="14.4.3" data-path="P7.html"><a href="P7.html#Prototipni-razvojni-model"><i class="fa fa-check"></i><b>14.4.3</b> Prototipni razvojni model</a></li>
<li class="chapter" data-level="14.4.4" data-path="P7.html"><a href="P7.html#Iterativni-prototipni-razvojni-model"><i class="fa fa-check"></i><b>14.4.4</b> Iterativni/prototipni razvojni model</a></li>
<li class="chapter" data-level="14.4.5" data-path="P7.html"><a href="P7.html#Inkrementalni-razvojni-model"><i class="fa fa-check"></i><b>14.4.5</b> Inkrementalni razvojni model</a></li>
<li class="chapter" data-level="14.4.6" data-path="P7.html"><a href="P7.html#iterativnost-vs.-inkrementalnost"><i class="fa fa-check"></i><b>14.4.6</b> Iterativnost vs. inkrementalnost</a></li>
<li class="chapter" data-level="14.4.7" data-path="P7.html"><a href="P7.html#Kombinirani-razvojni-model"><i class="fa fa-check"></i><b>14.4.7</b> Kombinirani razvojni model</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="P7.html"><a href="P7.html#metodologije-razvoja"><i class="fa fa-check"></i><b>14.5</b> Metodologije razvoja</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="P7.html"><a href="P7.html#različne-opredelitve-v-literaturi"><i class="fa fa-check"></i><b>14.5.1</b> Različne opredelitve v literaturi</a></li>
<li class="chapter" data-level="14.5.2" data-path="P7.html"><a href="P7.html#metodologija-v-terminološkem-slovarju"><i class="fa fa-check"></i><b>14.5.2</b> Metodologija v terminološkem slovarju</a></li>
<li class="chapter" data-level="14.5.3" data-path="P7.html"><a href="P7.html#naša-opredelitev"><i class="fa fa-check"></i><b>14.5.3</b> Naša opredelitev</a></li>
<li class="chapter" data-level="14.5.4" data-path="P7.html"><a href="P7.html#elementi-metodologije"><i class="fa fa-check"></i><b>14.5.4</b> Elementi metodologije</a></li>
<li class="chapter" data-level="14.5.5" data-path="P7.html"><a href="P7.html#upravljanje-z-znanjem"><i class="fa fa-check"></i><b>14.5.5</b> Upravljanje z znanjem</a></li>
<li class="chapter" data-level="14.5.6" data-path="P7.html"><a href="P7.html#formalna-vs.-neformalna-metodologija"><i class="fa fa-check"></i><b>14.5.6</b> Formalna vs. neformalna metodologija</a></li>
<li class="chapter" data-level="14.5.7" data-path="P7.html"><a href="P7.html#agilni-koncepti-in-metodologije"><i class="fa fa-check"></i><b>14.5.7</b> Agilni koncepti in metodologije</a></li>
<li class="chapter" data-level="14.5.8" data-path="P7.html"><a href="P7.html#metamodel-metodologije-razvoja-informacijskega-sistema"><i class="fa fa-check"></i><b>14.5.8</b> Metamodel metodologije razvoja informacijskega sistema</a></li>
<li class="chapter" data-level="14.5.9" data-path="P7.html"><a href="P7.html#ogrodja-za-primerjavo-metodologij"><i class="fa fa-check"></i><b>14.5.9</b> Ogrodja za primerjavo metodologij</a></li>
<li class="chapter" data-level="14.5.10" data-path="P7.html"><a href="P7.html#učinkovitost-različnih-oblik-komunikacije"><i class="fa fa-check"></i><b>14.5.10</b> Učinkovitost različnih oblik komunikacije</a></li>
<li class="chapter" data-level="14.5.11" data-path="P7.html"><a href="P7.html#vpliv-velikosti-na-posebnosti-razvojne-skupine"><i class="fa fa-check"></i><b>14.5.11</b> Vpliv velikosti na posebnosti razvojne skupine</a></li>
<li class="chapter" data-level="14.5.12" data-path="P7.html"><a href="P7.html#Kriticni-projekti"><i class="fa fa-check"></i><b>14.5.12</b> Kritični projekti</a></li>
<li class="chapter" data-level="14.5.13" data-path="P7.html"><a href="P7.html#Komunikacija-in-povratne-informacije"><i class="fa fa-check"></i><b>14.5.13</b> Komunikacija in povratne informacije</a></li>
<li class="chapter" data-level="14.5.14" data-path="P7.html"><a href="P7.html#primer-google-inženirji-vs.-managerji"><i class="fa fa-check"></i><b>14.5.14</b> Primer: Google: Inženirji vs. managerji</a></li>
<li class="chapter" data-level="14.5.15" data-path="P7.html"><a href="P7.html#Discipliniranost-izkusnje-in-znanje"><i class="fa fa-check"></i><b>14.5.15</b> Discipliniranost, izkušnje in znanje</a></li>
<li class="chapter" data-level="14.5.16" data-path="P7.html"><a href="P7.html#Odkloni-od-nacrtovane-resitve"><i class="fa fa-check"></i><b>14.5.16</b> Odkloni od načrtovane rešitve</a></li>
<li class="chapter" data-level="14.5.17" data-path="P7.html"><a href="P7.html#evolucija-razvoja-programske-opreme"><i class="fa fa-check"></i><b>14.5.17</b> Evolucija razvoja programske opreme</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="P8.html"><a href="P8.html"><i class="fa fa-check"></i><b>15</b> <span class="sklop3 oznaka">P8</span> Strukturni razvoj</a>
<ul>
<li class="chapter" data-level="15.1" data-path="P8.html"><a href="P8.html#uvod-v-strukturni-razvoj"><i class="fa fa-check"></i><b>15.1</b> Uvod v strukturni razvoj</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="P8.html"><a href="P8.html#Strukturni-zajem-in-specifikaija-zahtev"><i class="fa fa-check"></i><b>15.1.1</b> Zajem in specifikacija zahtev</a></li>
<li class="chapter" data-level="15.1.2" data-path="P8.html"><a href="P8.html#Strukturni-analiza"><i class="fa fa-check"></i><b>15.1.2</b> Analiza</a></li>
<li class="chapter" data-level="15.1.3" data-path="P8.html"><a href="P8.html#Strukturni-nacrtovanje"><i class="fa fa-check"></i><b>15.1.3</b> Načrtovanje</a></li>
<li class="chapter" data-level="15.1.4" data-path="P8.html"><a href="P8.html#Strukturni-testiranje"><i class="fa fa-check"></i><b>15.1.4</b> Testiranje</a></li>
<li class="chapter" data-level="15.1.5" data-path="P8.html"><a href="P8.html#Strukturni-namestitev-in-uvedba"><i class="fa fa-check"></i><b>15.1.5</b> Namestitev in uvedba</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="P8.html"><a href="P8.html#podatkovno-načrtovanje"><i class="fa fa-check"></i><b>15.2</b> Podatkovno načrtovanje</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="P8.html"><a href="P8.html#relacijski-model"><i class="fa fa-check"></i><b>15.2.1</b> Relacijski model</a></li>
<li class="chapter" data-level="15.2.2" data-path="P8.html"><a href="P8.html#matematična-opredelitev"><i class="fa fa-check"></i><b>15.2.2</b> Matematična opredelitev</a></li>
<li class="chapter" data-level="15.2.3" data-path="P8.html"><a href="P8.html#entitetni-diagram"><i class="fa fa-check"></i><b>15.2.3</b> Entitetni diagram</a></li>
<li class="chapter" data-level="15.2.4" data-path="P8.html"><a href="P8.html#različne-ravni-podatkovnega-modeliranja"><i class="fa fa-check"></i><b>15.2.4</b> Različne ravni podatkovnega modeliranja</a></li>
<li class="chapter" data-level="15.2.5" data-path="P8.html"><a href="P8.html#Postopek-konceptualno-nacrtovanje"><i class="fa fa-check"></i><b>15.2.5</b> Konceptualno načrtovanje</a></li>
<li class="chapter" data-level="15.2.6" data-path="P8.html"><a href="P8.html#prehod-iz-konceptualnega-v-logično-načrtovanje"><i class="fa fa-check"></i><b>15.2.6</b> Prehod iz konceptualnega v logično načrtovanje</a></li>
<li class="chapter" data-level="15.2.7" data-path="P8.html"><a href="P8.html#logično-načrtovanje"><i class="fa fa-check"></i><b>15.2.7</b> Logično načrtovanje</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="P8.html"><a href="P8.html#Postopek-normalizacija"><i class="fa fa-check"></i><b>15.3</b> Normalizacija</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="P8.html"><a href="P8.html#normalna-oblika-1.-no"><i class="fa fa-check"></i><b>15.3.1</b> 1. normalna oblika (1. NO)</a></li>
<li class="chapter" data-level="15.3.2" data-path="P8.html"><a href="P8.html#normalna-oblika-2.-no"><i class="fa fa-check"></i><b>15.3.2</b> 2. normalna oblika (2. NO)</a></li>
<li class="chapter" data-level="15.3.3" data-path="P8.html"><a href="P8.html#normalna-oblika-3.-no"><i class="fa fa-check"></i><b>15.3.3</b> 3. normalna oblika (3. NO)</a></li>
<li class="chapter" data-level="15.3.4" data-path="P8.html"><a href="P8.html#poslovna-normalna-oblika-4.-pno"><i class="fa fa-check"></i><b>15.3.4</b> 4. poslovna normalna oblika (4. PNO)</a></li>
<li class="chapter" data-level="15.3.5" data-path="P8.html"><a href="P8.html#poslovna-normalna-oblika-5.-pno"><i class="fa fa-check"></i><b>15.3.5</b> 5. poslovna normalna oblika (5. PNO)</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="P8.html"><a href="P8.html#denormalizacija"><i class="fa fa-check"></i><b>15.4</b> Denormalizacija</a></li>
<li class="chapter" data-level="15.5" data-path="P8.html"><a href="P8.html#primeri-normalizacije"><i class="fa fa-check"></i><b>15.5</b> Primeri normalizacije</a>
<ul>
<li class="chapter" data-level="15.5.1" data-path="P8.html"><a href="P8.html#normalizacija-računa"><i class="fa fa-check"></i><b>15.5.1</b> Normalizacija računa</a></li>
<li class="chapter" data-level="15.5.2" data-path="P8.html"><a href="P8.html#normalizacija-reverza"><i class="fa fa-check"></i><b>15.5.2</b> Normalizacija reverza</a></li>
</ul></li>
<li class="chapter" data-level="15.6" data-path="P8.html"><a href="P8.html#procesni-vidik"><i class="fa fa-check"></i><b>15.6</b> Procesni vidik</a>
<ul>
<li class="chapter" data-level="15.6.1" data-path="P8.html"><a href="P8.html#dekompozicijski-diagrami"><i class="fa fa-check"></i><b>15.6.1</b> Dekompozicijski diagrami</a></li>
<li class="chapter" data-level="15.6.2" data-path="P8.html"><a href="P8.html#procesna-logika"><i class="fa fa-check"></i><b>15.6.2</b> Procesna logika</a></li>
<li class="chapter" data-level="15.6.3" data-path="P8.html"><a href="P8.html#BPMN-tehnika"><i class="fa fa-check"></i><b>15.6.3</b> BPMN</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="P9.html"><a href="P9.html"><i class="fa fa-check"></i><b>16</b> <span class="sklop3 oznaka">P9</span> Objektno usmerjena analiza, načrtovanje in modeliranje</a>
<ul>
<li class="chapter" data-level="16.1" data-path="P9.html"><a href="P9.html#objektno-usmerjena-analiza-in-načrtovanje"><i class="fa fa-check"></i><b>16.1</b> Objektno usmerjena analiza in načrtovanje</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="P9.html"><a href="P9.html#OO-thinking"><i class="fa fa-check"></i><b>16.1.1</b> Objektno usmerjeno razmišljanje</a></li>
<li class="chapter" data-level="16.1.2" data-path="P9.html"><a href="P9.html#načrtovanje-v-procesu-razvoja-programske-opreme"><i class="fa fa-check"></i><b>16.1.2</b> Načrtovanje v procesu razvoja programske opreme</a></li>
<li class="chapter" data-level="16.1.3" data-path="P9.html"><a href="P9.html#načrtovanje-z-upoštevanjem-kakovosti"><i class="fa fa-check"></i><b>16.1.3</b> Načrtovanje z upoštevanjem kakovosti</a></li>
<li class="chapter" data-level="16.1.4" data-path="P9.html"><a href="P9.html#razred-odgovornost-sodelovanje"><i class="fa fa-check"></i><b>16.1.4</b> Razred, odgovornost, sodelovanje</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="P9.html"><a href="P9.html#objektno-usmerjeno-načrtovanje"><i class="fa fa-check"></i><b>16.2</b> Objektno usmerjeno načrtovanje</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="P9.html"><a href="P9.html#izdelava-modelov-načrta"><i class="fa fa-check"></i><b>16.2.1</b> Izdelava modelov načrta</a></li>
<li class="chapter" data-level="16.2.2" data-path="P9.html"><a href="P9.html#razvoj-programskih-jezikov"><i class="fa fa-check"></i><b>16.2.2</b> Razvoj programskih jezikov</a></li>
<li class="chapter" data-level="16.2.3" data-path="P9.html"><a href="P9.html#stiri-nacrtovalska-nacela"><i class="fa fa-check"></i><b>16.2.3</b> Štiri načrtovalska načela</a></li>
<li class="chapter" data-level="16.2.4" data-path="P9.html"><a href="P9.html#načrtovalska-struktura-v-programskem-jeziku-java-in-uml-razrednih-diagramih"><i class="fa fa-check"></i><b>16.2.4</b> Načrtovalska struktura v programskem jeziku Java in UML razrednih diagramih</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="P9.html"><a href="P9.html#načrtovalska-načela"><i class="fa fa-check"></i><b>16.3</b> Načrtovalska načela</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="P9.html"><a href="P9.html#vrednotenje-kompleksnosti-načrta"><i class="fa fa-check"></i><b>16.3.1</b> Vrednotenje kompleksnosti načrta</a></li>
<li class="chapter" data-level="16.3.2" data-path="P9.html"><a href="P9.html#načelo-ločevanja-pomislekov"><i class="fa fa-check"></i><b>16.3.2</b> Načelo ločevanja pomislekov</a></li>
<li class="chapter" data-level="16.3.3" data-path="P9.html"><a href="P9.html#skrivanje-informacij"><i class="fa fa-check"></i><b>16.3.3</b> Skrivanje informacij</a></li>
<li class="chapter" data-level="16.3.4" data-path="P9.html"><a href="P9.html#konceptualna-celovitost"><i class="fa fa-check"></i><b>16.3.4</b> Konceptualna celovitost</a></li>
<li class="chapter" data-level="16.3.5" data-path="P9.html"><a href="P9.html#načela-posploševanja"><i class="fa fa-check"></i><b>16.3.5</b> Načela posploševanja</a></li>
<li class="chapter" data-level="16.3.6" data-path="P9.html"><a href="P9.html#preverjanje-modela"><i class="fa fa-check"></i><b>16.3.6</b> Preverjanje modela</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="P10.html"><a href="P10.html"><i class="fa fa-check"></i><b>17</b> <span class="sklop3 oznaka">P10</span> Objektni razvoj, simulacija razvoja informacijskega sistema za bankomat in simulacija projekta</a>
<ul>
<li class="chapter" data-level="17.1" data-path="P10.html"><a href="P10.html#objektni-razvoj"><i class="fa fa-check"></i><b>17.1</b> Objektni razvoj</a>
<ul>
<li class="chapter" data-level="17.1.1" data-path="P10.html"><a href="P10.html#rup-proces-razvoja"><i class="fa fa-check"></i><b>17.1.1</b> RUP proces razvoja</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="P10.html"><a href="P10.html#simulacija-razvoja-informacijskega-sistema-za-bankomat"><i class="fa fa-check"></i><b>17.2</b> Simulacija razvoja informacijskega sistema za bankomat</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="P10.html"><a href="P10.html#predstavitev-problema"><i class="fa fa-check"></i><b>17.2.1</b> Predstavitev problema</a></li>
<li class="chapter" data-level="17.2.2" data-path="P10.html"><a href="P10.html#Bankomat-Zbiranje-zahtev"><i class="fa fa-check"></i><b>17.2.2</b> Zajem zahtev</a></li>
<li class="chapter" data-level="17.2.3" data-path="P10.html"><a href="P10.html#Bankomat-Analiza"><i class="fa fa-check"></i><b>17.2.3</b> Analiza</a></li>
<li class="chapter" data-level="17.2.4" data-path="P10.html"><a href="P10.html#Bankomat-Pregledni-nacrt"><i class="fa fa-check"></i><b>17.2.4</b> Pregledni načrt</a></li>
<li class="chapter" data-level="17.2.5" data-path="P10.html"><a href="P10.html#Bankomat-Podroben-nacrt"><i class="fa fa-check"></i><b>17.2.5</b> Podroben načrt</a></li>
<li class="chapter" data-level="17.2.6" data-path="P10.html"><a href="P10.html#Bankomat-Implementacija"><i class="fa fa-check"></i><b>17.2.6</b> Implementacija</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="P10.html"><a href="P10.html#Simulacija-projekta"><i class="fa fa-check"></i><b>17.3</b> Simulacija projekta</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="P10.html"><a href="P10.html#pravila"><i class="fa fa-check"></i><b>17.3.1</b> Pravila</a></li>
<li class="chapter" data-level="17.3.2" data-path="P10.html"><a href="P10.html#izračun-točk-simulacije"><i class="fa fa-check"></i><b>17.3.2</b> Izračun točk simulacije</a></li>
<li class="chapter" data-level="17.3.3" data-path="P10.html"><a href="P10.html#potek-simulacije"><i class="fa fa-check"></i><b>17.3.3</b> Potek simulacije</a></li>
<li class="chapter" data-level="17.3.4" data-path="P10.html"><a href="P10.html#gradivo"><i class="fa fa-check"></i><b>17.3.4</b> Gradivo</a></li>
<li class="chapter" data-level="17.3.5" data-path="P10.html"><a href="P10.html#nakljucni-dogodki-simulacije"><i class="fa fa-check"></i><b>17.3.5</b> Naključni dogodki pri simulaciji</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV sklop: Infrastruktura in trendi</b></span></li>
<li class="chapter" data-level="18" data-path="P11.html"><a href="P11.html"><i class="fa fa-check"></i><b>18</b> <span class="sklop4 oznaka">P11</span> Semantični splet in tehnologija veriženja blokov</a>
<ul>
<li class="chapter" data-level="18.1" data-path="P11.html"><a href="P11.html#semantični-splet"><i class="fa fa-check"></i><b>18.1</b> Semantični splet</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="P11.html"><a href="P11.html#splet-v-številkah"><i class="fa fa-check"></i><b>18.1.1</b> Splet v številkah</a></li>
<li class="chapter" data-level="18.1.2" data-path="P11.html"><a href="P11.html#iskalniki-najdejo-le-del-spleta"><i class="fa fa-check"></i><b>18.1.2</b> Iskalniki “najdejo” le del spleta</a></li>
<li class="chapter" data-level="18.1.3" data-path="P11.html"><a href="P11.html#vloga-svetovnega-spleta"><i class="fa fa-check"></i><b>18.1.3</b> Vloga svetovnega spleta</a></li>
<li class="chapter" data-level="18.1.4" data-path="P11.html"><a href="P11.html#semantična-integracija-podatkov"><i class="fa fa-check"></i><b>18.1.4</b> Semantična integracija podatkov</a></li>
<li class="chapter" data-level="18.1.5" data-path="P11.html"><a href="P11.html#primer-organizacije-potovanj"><i class="fa fa-check"></i><b>18.1.5</b> Primer organizacije potovanj</a></li>
<li class="chapter" data-level="18.1.6" data-path="P11.html"><a href="P11.html#osnova-so-podatki"><i class="fa fa-check"></i><b>18.1.6</b> Osnova so podatki</a></li>
<li class="chapter" data-level="18.1.7" data-path="P11.html"><a href="P11.html#semantični-splet-1"><i class="fa fa-check"></i><b>18.1.7</b> Semantični splet</a></li>
<li class="chapter" data-level="18.1.8" data-path="P11.html"><a href="P11.html#web-x"><i class="fa fa-check"></i><b>18.1.8</b> Web X</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="P11.html"><a href="P11.html#tehnologija-veriženja-blokov"><i class="fa fa-check"></i><b>18.2</b> Tehnologija veriženja blokov</a>
<ul>
<li class="chapter" data-level="18.2.1" data-path="P11.html"><a href="P11.html#uvod-v-osnovne-pojme"><i class="fa fa-check"></i><b>18.2.1</b> Uvod v osnovne pojme</a></li>
<li class="chapter" data-level="18.2.2" data-path="P11.html"><a href="P11.html#osnovni-princip-delovanja"><i class="fa fa-check"></i><b>18.2.2</b> Osnovni princip delovanja</a></li>
<li class="chapter" data-level="18.2.3" data-path="P11.html"><a href="P11.html#zgodovinski-pregled-razvoja-in-trendov-tehnologije-veriženja-blokov"><i class="fa fa-check"></i><b>18.2.3</b> Zgodovinski pregled razvoja in trendov tehnologije veriženja blokov</a></li>
<li class="chapter" data-level="18.2.4" data-path="P11.html"><a href="P11.html#mehanizmi-soglasja"><i class="fa fa-check"></i><b>18.2.4</b> Mehanizmi soglasja</a></li>
<li class="chapter" data-level="18.2.5" data-path="P11.html"><a href="P11.html#področja-uporabe-tehnologije-veriženja-blokov"><i class="fa fa-check"></i><b>18.2.5</b> Področja uporabe tehnologije veriženja blokov</a></li>
<li class="chapter" data-level="18.2.6" data-path="P11.html"><a href="P11.html#pametne-pogodbe"><i class="fa fa-check"></i><b>18.2.6</b> Pametne pogodbe</a></li>
<li class="chapter" data-level="18.2.7" data-path="P11.html"><a href="P11.html#kdaj-uporabiti-tehnologijo-veriženja-blokov"><i class="fa fa-check"></i><b>18.2.7</b> Kdaj uporabiti tehnologijo veriženja blokov?</a></li>
<li class="chapter" data-level="18.2.8" data-path="P11.html"><a href="P11.html#projekti-na-fakulteti"><i class="fa fa-check"></i><b>18.2.8</b> Projekti na fakulteti</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="P12.html"><a href="P12.html"><i class="fa fa-check"></i><b>19</b> <span class="sklop5 oznaka">P12</span> Računalništvo v oblaku, IT varnost in Marshmallow challenge</a>
<ul>
<li class="chapter" data-level="19.1" data-path="P12.html"><a href="P12.html#računalništvo-v-oblaku"><i class="fa fa-check"></i><b>19.1</b> Računalništvo v oblaku</a>
<ul>
<li class="chapter" data-level="19.1.1" data-path="P12.html"><a href="P12.html#izbira-oblačne-storitve"><i class="fa fa-check"></i><b>19.1.1</b> Izbira oblačne storitve</a></li>
<li class="chapter" data-level="19.1.2" data-path="P12.html"><a href="P12.html#realizacija-računalništva-v-oblaku"><i class="fa fa-check"></i><b>19.1.2</b> Realizacija računalništva v oblaku</a></li>
<li class="chapter" data-level="19.1.3" data-path="P12.html"><a href="P12.html#virtualizacija"><i class="fa fa-check"></i><b>19.1.3</b> Virtualizacija</a></li>
<li class="chapter" data-level="19.1.4" data-path="P12.html"><a href="P12.html#modeli-računalništva-v-oblaku"><i class="fa fa-check"></i><b>19.1.4</b> Modeli računalništva v oblaku</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="P12.html"><a href="P12.html#it-varnost"><i class="fa fa-check"></i><b>19.2</b> IT varnost</a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="P12.html"><a href="P12.html#napadi"><i class="fa fa-check"></i><b>19.2.1</b> Napadi</a></li>
<li class="chapter" data-level="19.2.2" data-path="P12.html"><a href="P12.html#najboljše-prakse-protiukrepov"><i class="fa fa-check"></i><b>19.2.2</b> Najboljše prakse protiukrepov</a></li>
<li class="chapter" data-level="19.2.3" data-path="P12.html"><a href="P12.html#postopek-razkrivanja-ranljivosti"><i class="fa fa-check"></i><b>19.2.3</b> Postopek razkrivanja ranljivosti</a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="P12.html"><a href="P12.html#marshmallow-challenge"><i class="fa fa-check"></i><b>19.3</b> Marshmallow challenge</a>
<ul>
<li class="chapter" data-level="19.3.1" data-path="P12.html"><a href="P12.html#izziv"><i class="fa fa-check"></i><b>19.3.1</b> Izziv</a></li>
<li class="chapter" data-level="19.3.2" data-path="P12.html"><a href="P12.html#zaključki"><i class="fa fa-check"></i><b>19.3.2</b> Zaključki</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="literatura.html"><a href="literatura.html"><i class="fa fa-check"></i>Literatura</a></li>
<li class="divider"></li>
<li><a href="https://ucilnica.fri.uni-lj.si/course/view.php?id=54">eUčilnica</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="index.html">Osnove informacijskih sistemov 2023/2024</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="P6-V6" class="section level1 hasAnchor" number="13">
<h1><span class="header-section-number">Poglavje 13</span> <span class="sklop2 oznaka">P6</span> → <span class="sklop3 oznaka">V6</span> Seja, košarica, XML in e-SLOG<a href="P6-V6.html#P6-V6" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div class="vrstica">
<img src="assets/img/ninja/ninja_18_knee_finger_point_up.png">
<h3>
<span class="sklop2 oznaka">P6</span> → <span class="sklop3 oznaka">V6</span>
</h3>
</div>
<p>V pripravah na vaje <span class="sklop3">V6</span> bomo <strong>implementirali nakupovalno košarico</strong>, <strong>pripravili e-Račun</strong> in spoznali naslednje koncepte:</p>
<ul>
<li>globalne spremenljivke vs. seja,</li>
<li>nakupovanje pesmi iz seznama 100 najbolje prodajanih s pomočjo nakupovalne košarice,</li>
<li>izpis e-Računa po standardu <a href="https://www.epos.si/eslog"><i class='fa-solid fa-earth-europe'></i>e-SLOG</a> iz nakupovalne košarice v seji.</li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:slika-Seznam-pesmi-in-nakupovalna-kosarica"></span>
<img src="assets/img/Seznam_pesmi_in_nakupovalna_kosarica.png" alt="Primer uporabniškega vmesnika s seznamom pesmi in nakupovalno košarico" width="800" />
<p class="caption">
Slika 13.1: Primer uporabniškega vmesnika s seznamom pesmi in nakupovalno košarico
</p>
</div>
<div id="priprava-okolja-1" class="section level2 hasAnchor" number="13.1">
<h2><span class="header-section-number">13.1</span> Priprava okolja<a href="P6-V6.html#priprava-okolja-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<blockquote>
<p>Celotna izvorna koda primera v nadaljevanju je na voljo v GitHub repozitoriju <a href="https://github.com/ois-2023-2024/P6-V6"><i class="fa-brands fa-github"></i><strong>P6-V6</strong></a>. Najprej na GitHub izdelajte kopijo projekta <em>(angl. Fork)</em> z istim imenom repozitorija, nato pa si lokalno okolje nastavite z naslednjima ukazoma:</p>
<p><code>git clone git@github.com:{VAŠE-GITHUB-UPORABNIŠKO-IME}/P6-V6.git</code><br/>
<code>cd P6-V6</code></p>
<p>ali</p>
<p><code>git clone https://github.com/{VAŠE-GITHUB-UPORABNIŠKO-IME}/P6-V6.git</code><br/>
<code>cd P6-V6</code></p>
</blockquote>
</div>
<div id="namestitev-knjižnic-in-vključitev-podatkovne-baze" class="section level2 hasAnchor" number="13.2">
<h2><span class="header-section-number">13.2</span> Namestitev knjižnic in vključitev podatkovne baze<a href="P6-V6.html#namestitev-knjižnic-in-vključitev-podatkovne-baze" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<blockquote>
<p>Spremembe v repozitoriju od tega koraka naprej so na voljo na uveljavitvi s sporočilom <strong>Dodajanje odvisnosti od knjižnic in podatkovne baze Chinook</strong>.</p>
</blockquote>
<p>Najprej moramo v okolju Node.js poskrbeti za namestitev potrebnih knjižnic, zato pripravimo <code>package.json</code> z naslednjo vsebino:</p>
<p><code>package.json</code></p>
<div class="sourceCode" id="cb128"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb128-1"><a href="P6-V6.html#cb128-1" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb128-2"><a href="P6-V6.html#cb128-2" tabindex="-1"></a>  <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;eracun&quot;</span><span class="fu">,</span></span>
<span id="cb128-3"><a href="P6-V6.html#cb128-3" tabindex="-1"></a>  <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;Seja, nakupovalna košarica, XML in e-SLOG&quot;</span><span class="fu">,</span></span>
<span id="cb128-4"><a href="P6-V6.html#cb128-4" tabindex="-1"></a>  <span class="dt">&quot;author&quot;</span><span class="fu">:</span> <span class="st">&quot;Dejan Lavbič &lt;Dejan@lavbic.net&gt;&quot;</span><span class="fu">,</span></span>
<span id="cb128-5"><a href="P6-V6.html#cb128-5" tabindex="-1"></a>  <span class="dt">&quot;dependencies&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb128-6"><a href="P6-V6.html#cb128-6" tabindex="-1"></a>    <span class="dt">&quot;express&quot;</span><span class="fu">:</span> <span class="st">&quot;*&quot;</span><span class="fu">,</span></span>
<span id="cb128-7"><a href="P6-V6.html#cb128-7" tabindex="-1"></a>    <span class="dt">&quot;express-session&quot;</span><span class="fu">:</span> <span class="st">&quot;*&quot;</span><span class="fu">,</span></span>
<span id="cb128-8"><a href="P6-V6.html#cb128-8" tabindex="-1"></a>    <span class="dt">&quot;hbs&quot;</span><span class="fu">:</span> <span class="st">&quot;*&quot;</span><span class="fu">,</span></span>
<span id="cb128-9"><a href="P6-V6.html#cb128-9" tabindex="-1"></a>    <span class="dt">&quot;sqlite3&quot;</span><span class="fu">:</span> <span class="st">&quot;*&quot;</span></span>
<span id="cb128-10"><a href="P6-V6.html#cb128-10" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb128-11"><a href="P6-V6.html#cb128-11" tabindex="-1"></a>  <span class="dt">&quot;private&quot;</span><span class="fu">:</span> <span class="kw">true</span></span>
<span id="cb128-12"><a href="P6-V6.html#cb128-12" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p>in poženemo ukaz</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb129-1"><a href="P6-V6.html#cb129-1" tabindex="-1"></a><span class="ex">$</span> npm install</span></code></pre></div>
<p>V projekt vključimo tudi datoteko <a href="https://github.com/ois-2023-2024/P6-V6/blob/master/Chinook.sl3?raw=true"><i class='fa-solid fa-earth-europe'></i><code>Chinook.sl3</code></a>, ki predstavlja zbirko podatkov v obliki SQL Lite podatkovne baze.</p>
<p>Dodajmo tudi datoteko <code>.gitignore</code>, kjer zahtevamo, da se vsebina mape <code>node_modules</code> ne posreduje v oddaljeni GitHub repozitorij, saj tam ne želimo shranjevati knjižnic, ampak zgolj izvorno kodo.</p>
<p><code>.gitignore</code></p>
<div class="sourceCode" id="cb130"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb130-1"><a href="P6-V6.html#cb130-1" tabindex="-1"></a><span class="ex">node_modules</span></span></code></pre></div>
</div>
<div id="seja" class="section level2 hasAnchor" number="13.3">
<h2><span class="header-section-number">13.3</span> Seja<a href="P6-V6.html#seja" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Ker je HTTP protokol brez stanja, je potrebno podatke med HTTP zahtevami shraniti, če jih želimo med seboj prepletati in souporabiti podatke. <strong>Piškotki</strong> <em>(angl. <a href="https://en.wikipedia.org/wiki/HTTP_cookie"><i class="fa-brands fa-wikipedia-w"></i>HTTP cookies</a>)</em> ali <strong>parametri v URL zahtevi</strong> <em>(angl. <a href="https://en.wikipedia.org/wiki/Query_string"><i class="fa-brands fa-wikipedia-w"></i>query string</a>)</em> (npr. <code>http://www.lavbic.net/pokazi?parameter=vrednost</code>) sta oba primerna načina za prenašanje podatkov med dvema ali več zahtevami.</p>
<p>Po navadi takšen problem rešimo s shranjevanjem podatkov na strani strežnika, odjemalec pa pridobi <strong><code>ID</code></strong>, s katerim se identificira in ga vedno vključi pri vsaki zahtevi. Potrebno je tudi razmišljati o ostalih vidikih, kot je npr. varnost. Da zmanjšamo verjetnost prevzema seje s strani nepooblaščenega uporabnika, seje časovno omejimo, da čez čas potečejo.</p>
<blockquote>
<p><strong>Sejo</strong> <em>(angl. <a href="https://en.wikipedia.org/wiki/Session_(computer_science)"><i class="fa-brands fa-wikipedia-w"></i>session</a>)</em> si lahko enostavno predstavljamo kot <strong>prostor globalnih spremenljivk na ravni interakcije odjemalca in strežnika</strong>, ki se <strong>lahko po določenem časovnem intervalu razveljavi</strong> oz. izbriše.</p>
</blockquote>
<div id="globalne-spremenljivke-vs.-seja" class="section level3 hasAnchor" number="13.3.1">
<h3><span class="header-section-number">13.3.1</span> Globalne spremenljivke vs. seja<a href="P6-V6.html#globalne-spremenljivke-vs.-seja" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<blockquote>
<p>Spremembe v repozitoriju od tega koraka naprej so na voljo na uveljavitvi s sporočilom <strong>Globalne spremenljivke vs. seja</strong>.</p>
</blockquote>
<div id="števec-vseh-dostopov-do-spletne-strani" class="section level4 hasAnchor" number="13.3.1.1">
<h4><span class="header-section-number">13.3.1.1</span> Števec vseh dostopov do spletne strani<a href="P6-V6.html#števec-vseh-dostopov-do-spletne-strani" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Najprej pripravimo enostaven števec dostopov do spletne strani, ki smo ga že implementirali na eni izmed prejšnjih priprav na vaje <span class="sklop1">P4</span> → <span class="sklop3">V4</span> <a href="P4-V4.html#P4-V4">Odjemalec/strežnik in Node.js</a>.</p>
<p><code>seja.js</code></p>
<div class="sourceCode" id="cb131"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb131-1"><a href="P6-V6.html#cb131-1" tabindex="-1"></a><span class="cf">if</span> (<span class="op">!</span><span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">PORT</span>) <span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">PORT</span> <span class="op">=</span> <span class="dv">8080</span><span class="op">;</span></span>
<span id="cb131-2"><a href="P6-V6.html#cb131-2" tabindex="-1"></a></span>
<span id="cb131-3"><a href="P6-V6.html#cb131-3" tabindex="-1"></a><span class="kw">const</span> express <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;express&quot;</span>)<span class="op">;</span></span>
<span id="cb131-4"><a href="P6-V6.html#cb131-4" tabindex="-1"></a><span class="kw">const</span> streznik <span class="op">=</span> <span class="fu">express</span>()<span class="op">;</span></span>
<span id="cb131-5"><a href="P6-V6.html#cb131-5" tabindex="-1"></a></span>
<span id="cb131-6"><a href="P6-V6.html#cb131-6" tabindex="-1"></a><span class="kw">let</span> stDostopov <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb131-7"><a href="P6-V6.html#cb131-7" tabindex="-1"></a></span>
<span id="cb131-8"><a href="P6-V6.html#cb131-8" tabindex="-1"></a>streznik<span class="op">.</span><span class="fu">get</span>(<span class="st">&quot;/&quot;</span><span class="op">,</span> (zahteva<span class="op">,</span> odgovor) <span class="kw">=&gt;</span> {</span>
<span id="cb131-9"><a href="P6-V6.html#cb131-9" tabindex="-1"></a>  stDostopov<span class="op">++;</span></span>
<span id="cb131-10"><a href="P6-V6.html#cb131-10" tabindex="-1"></a>  odgovor<span class="op">.</span><span class="fu">send</span>(</span>
<span id="cb131-11"><a href="P6-V6.html#cb131-11" tabindex="-1"></a>    <span class="st">&quot;&lt;h1&gt;Globalne spremenljivke vs. seja&lt;/h1&gt;&quot;</span> <span class="op">+</span></span>
<span id="cb131-12"><a href="P6-V6.html#cb131-12" tabindex="-1"></a>      <span class="st">&quot;&lt;p style=&#39;font-size:150%&#39;&gt;&quot;</span> <span class="op">+</span></span>
<span id="cb131-13"><a href="P6-V6.html#cb131-13" tabindex="-1"></a>      <span class="st">&quot;To je že &lt;strong&gt;&quot;</span> <span class="op">+</span></span>
<span id="cb131-14"><a href="P6-V6.html#cb131-14" tabindex="-1"></a>      stDostopov <span class="op">+</span></span>
<span id="cb131-15"><a href="P6-V6.html#cb131-15" tabindex="-1"></a>      <span class="st">&quot;x&lt;/strong&gt; dostop do strežnika.&quot;</span> <span class="op">+</span></span>
<span id="cb131-16"><a href="P6-V6.html#cb131-16" tabindex="-1"></a>      <span class="st">&quot;&lt;/p&gt;&quot;</span></span>
<span id="cb131-17"><a href="P6-V6.html#cb131-17" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb131-18"><a href="P6-V6.html#cb131-18" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb131-19"><a href="P6-V6.html#cb131-19" tabindex="-1"></a></span>
<span id="cb131-20"><a href="P6-V6.html#cb131-20" tabindex="-1"></a>streznik<span class="op">.</span><span class="fu">listen</span>(<span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">PORT</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb131-21"><a href="P6-V6.html#cb131-21" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&quot;Strežnik je pognan!&quot;</span>)<span class="op">;</span></span>
<span id="cb131-22"><a href="P6-V6.html#cb131-22" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
</div>
<div id="števec-dostopov-uporabnika-do-spletne-strani-s-ttl" class="section level4 hasAnchor" number="13.3.1.2">
<h4><span class="header-section-number">13.3.1.2</span> Števec dostopov uporabnika do spletne strani s <a href="https://en.wikipedia.org/wiki/Time_to_live"><i class="fa-brands fa-wikipedia-w"></i>TTL</a><a href="P6-V6.html#števec-dostopov-uporabnika-do-spletne-strani-s-ttl" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Nato dodamo še <strong>podporo sejam na strežniku</strong> in <strong>nastavimo</strong> obvladovanje sej:</p>
<p><code>seja.js</code></p>
<div class="sourceCode" id="cb132"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb132-1"><a href="P6-V6.html#cb132-1" tabindex="-1"></a><span class="co">// Podpora sejam na strežniku</span></span>
<span id="cb132-2"><a href="P6-V6.html#cb132-2" tabindex="-1"></a><span class="kw">const</span> expressSession <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;express-session&quot;</span>)<span class="op">;</span></span>
<span id="cb132-3"><a href="P6-V6.html#cb132-3" tabindex="-1"></a>streznik<span class="op">.</span><span class="fu">use</span>(</span>
<span id="cb132-4"><a href="P6-V6.html#cb132-4" tabindex="-1"></a>  <span class="fu">expressSession</span>({</span>
<span id="cb132-5"><a href="P6-V6.html#cb132-5" tabindex="-1"></a>    <span class="co">// Skrivni ključ za podpisovanje piškotov</span></span>
<span id="cb132-6"><a href="P6-V6.html#cb132-6" tabindex="-1"></a>    <span class="dt">secret</span><span class="op">:</span> <span class="st">&quot;123456789QWERTY&quot;</span><span class="op">,</span></span>
<span id="cb132-7"><a href="P6-V6.html#cb132-7" tabindex="-1"></a>    <span class="co">// Novo sejo shranimo</span></span>
<span id="cb132-8"><a href="P6-V6.html#cb132-8" tabindex="-1"></a>    <span class="dt">saveUninitialized</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb132-9"><a href="P6-V6.html#cb132-9" tabindex="-1"></a>    <span class="co">// Ne zahtevamo ponovnega shranjevanja</span></span>
<span id="cb132-10"><a href="P6-V6.html#cb132-10" tabindex="-1"></a>    <span class="dt">resave</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb132-11"><a href="P6-V6.html#cb132-11" tabindex="-1"></a>    <span class="dt">cookie</span><span class="op">:</span> {</span>
<span id="cb132-12"><a href="P6-V6.html#cb132-12" tabindex="-1"></a>      <span class="co">// Seja poteče po 2 s neaktivnost</span></span>
<span id="cb132-13"><a href="P6-V6.html#cb132-13" tabindex="-1"></a>      <span class="dt">maxAge</span><span class="op">:</span> <span class="dv">2000</span><span class="op">,</span></span>
<span id="cb132-14"><a href="P6-V6.html#cb132-14" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb132-15"><a href="P6-V6.html#cb132-15" tabindex="-1"></a>  })</span>
<span id="cb132-16"><a href="P6-V6.html#cb132-16" tabindex="-1"></a>)<span class="op">;</span></span></code></pre></div>
<p>Spremenimo tudi odgovor strežnika, da <strong>štejemo dostope na ravni vseh uporabnikov in samo trenutnega uporabnika</strong>:</p>
<p><code>seja.js</code></p>
<div class="sourceCode" id="cb133"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb133-1"><a href="P6-V6.html#cb133-1" tabindex="-1"></a>streznik<span class="op">.</span><span class="fu">get</span>(<span class="st">&quot;/&quot;</span><span class="op">,</span> (zahteva<span class="op">,</span> odgovor) <span class="kw">=&gt;</span> {</span>
<span id="cb133-2"><a href="P6-V6.html#cb133-2" tabindex="-1"></a>  stDostopov<span class="op">++;</span></span>
<span id="cb133-3"><a href="P6-V6.html#cb133-3" tabindex="-1"></a>  <span class="cf">if</span> (<span class="op">!</span>zahteva<span class="op">.</span><span class="at">session</span><span class="op">.</span><span class="at">stDostopov</span>) zahteva<span class="op">.</span><span class="at">session</span><span class="op">.</span><span class="at">stDostopov</span> <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb133-4"><a href="P6-V6.html#cb133-4" tabindex="-1"></a>  <span class="cf">else</span> zahteva<span class="op">.</span><span class="at">session</span><span class="op">.</span><span class="at">stDostopov</span><span class="op">++;</span></span>
<span id="cb133-5"><a href="P6-V6.html#cb133-5" tabindex="-1"></a>  odgovor<span class="op">.</span><span class="fu">send</span>(</span>
<span id="cb133-6"><a href="P6-V6.html#cb133-6" tabindex="-1"></a>    <span class="st">&quot;&lt;h1&gt;Globalne spremenljivke vs. seja&lt;/h1&gt;&quot;</span> <span class="op">+</span></span>
<span id="cb133-7"><a href="P6-V6.html#cb133-7" tabindex="-1"></a>      <span class="st">&quot;&lt;p style=&#39;font-size:150%&#39;&gt;&quot;</span> <span class="op">+</span></span>
<span id="cb133-8"><a href="P6-V6.html#cb133-8" tabindex="-1"></a>      <span class="st">&quot;To je že &lt;strong&gt;&quot;</span> <span class="op">+</span></span>
<span id="cb133-9"><a href="P6-V6.html#cb133-9" tabindex="-1"></a>      stDostopov <span class="op">+</span></span>
<span id="cb133-10"><a href="P6-V6.html#cb133-10" tabindex="-1"></a>      <span class="st">&quot;x&lt;/strong&gt; dostop do strežnika, &quot;</span> <span class="op">+</span></span>
<span id="cb133-11"><a href="P6-V6.html#cb133-11" tabindex="-1"></a>      <span class="st">&quot;medtem ko ste v tej seji dostopali &lt;strong&gt;&quot;</span> <span class="op">+</span></span>
<span id="cb133-12"><a href="P6-V6.html#cb133-12" tabindex="-1"></a>      zahteva<span class="op">.</span><span class="at">session</span><span class="op">.</span><span class="at">stDostopov</span> <span class="op">+</span> <span class="st">&quot;x&lt;/strong&gt;.&quot;</span> <span class="op">+</span></span>
<span id="cb133-13"><a href="P6-V6.html#cb133-13" tabindex="-1"></a>      <span class="st">&quot;&lt;/p&gt;&quot;</span></span>
<span id="cb133-14"><a href="P6-V6.html#cb133-14" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb133-15"><a href="P6-V6.html#cb133-15" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
</div>
</div>
</div>
<div id="nakupovalna-košarica" class="section level2 hasAnchor" number="13.4">
<h2><span class="header-section-number">13.4</span> Nakupovalna košarica<a href="P6-V6.html#nakupovalna-košarica" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Če namesto enostavnih spremenljivk <strong>v seji hranimo uporabnikovo izbiro v spletni trgovini</strong>, dobimo funkcionalnost nakupovalne košarice <em>(angl. <a href="https://en.wikipedia.org/wiki/Shopping_cart_software"><i class="fa-brands fa-wikipedia-w"></i>shopping cart</a>)</em>.</p>
<div id="primer-nakupovanja-pesmi-iz-seznama-100-najbolje-prodajanih" class="section level3 hasAnchor" number="13.4.1">
<h3><span class="header-section-number">13.4.1</span> Primer nakupovanja pesmi iz seznama 100 najbolje prodajanih<a href="P6-V6.html#primer-nakupovanja-pesmi-iz-seznama-100-najbolje-prodajanih" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<blockquote>
<p>Spremembe v repozitoriju od tega koraka naprej so na voljo na uveljavitvi s sporočilom <strong>Seznam pesmi iz podatkovne baze in košarica s pomočjo seje</strong>.</p>
</blockquote>
<div id="spletna-stran-s-seznamom-pesmi" class="section level4 hasAnchor" number="13.4.1.1">
<h4><span class="header-section-number">13.4.1.1</span> Spletna stran s seznamom pesmi<a href="P6-V6.html#spletna-stran-s-seznamom-pesmi" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Iz podatkovne baze pridobimo 100 najbolje prodajanih pesmi in rezultat poizvedbe vrnemo v prikaz predloge <code>seznam.hbs</code>, ki se nahaja v mapi <code>views</code>.</p>
<blockquote>
<p><strong>Opomba</strong>: Na tem mestu smo vpeljali vgrajene JavaScript predloge <a href="https://handlebarsjs.com/"><i class='fa-solid fa-earth-europe'></i>Handlebars</a>, ki so dejansko HTML predloge z določenimi parametriziranimi deli (v našem primeru seznam pesmi) in se izvajajo na strani strežnika. Takšen pristop uporabljamo zato, da ni potrebno graditi celotne HTML strani v obliki niza (kot smo to izvajali do sedaj, npr. pri prikazu števila dostopov v prejšnjem primeru) in lahko takšne predloge potem ponovno uporabimo na več mestih.</p>
</blockquote>
<p><code>kosarica.js</code></p>
<div class="sourceCode" id="cb134"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb134-1"><a href="P6-V6.html#cb134-1" tabindex="-1"></a><span class="cf">if</span> (<span class="op">!</span><span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">PORT</span>) <span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">PORT</span> <span class="op">=</span> <span class="dv">8080</span><span class="op">;</span></span>
<span id="cb134-2"><a href="P6-V6.html#cb134-2" tabindex="-1"></a></span>
<span id="cb134-3"><a href="P6-V6.html#cb134-3" tabindex="-1"></a><span class="co">// Priprava povezave na podatkovno bazo</span></span>
<span id="cb134-4"><a href="P6-V6.html#cb134-4" tabindex="-1"></a><span class="kw">const</span> sqlite3 <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;sqlite3&quot;</span>)<span class="op">.</span><span class="fu">verbose</span>()<span class="op">;</span></span>
<span id="cb134-5"><a href="P6-V6.html#cb134-5" tabindex="-1"></a><span class="kw">const</span> pb <span class="op">=</span> <span class="kw">new</span> sqlite3<span class="op">.</span><span class="fu">Database</span>(<span class="st">&quot;Chinook.sl3&quot;</span>)<span class="op">;</span></span>
<span id="cb134-6"><a href="P6-V6.html#cb134-6" tabindex="-1"></a></span>
<span id="cb134-7"><a href="P6-V6.html#cb134-7" tabindex="-1"></a><span class="co">// Priprava strežnika</span></span>
<span id="cb134-8"><a href="P6-V6.html#cb134-8" tabindex="-1"></a><span class="kw">const</span> express <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;express&quot;</span>)<span class="op">;</span></span>
<span id="cb134-9"><a href="P6-V6.html#cb134-9" tabindex="-1"></a><span class="kw">const</span> streznik <span class="op">=</span> <span class="fu">express</span>()<span class="op">;</span></span>
<span id="cb134-10"><a href="P6-V6.html#cb134-10" tabindex="-1"></a>streznik<span class="op">.</span><span class="fu">set</span>(<span class="st">&quot;view engine&quot;</span><span class="op">,</span> <span class="st">&quot;hbs&quot;</span>)<span class="op">;</span></span>
<span id="cb134-11"><a href="P6-V6.html#cb134-11" tabindex="-1"></a></span>
<span id="cb134-12"><a href="P6-V6.html#cb134-12" tabindex="-1"></a><span class="kw">const</span> razmerje_USD_EUR <span class="op">=</span> <span class="fl">0.84</span><span class="op">;</span></span>
<span id="cb134-13"><a href="P6-V6.html#cb134-13" tabindex="-1"></a></span>
<span id="cb134-14"><a href="P6-V6.html#cb134-14" tabindex="-1"></a><span class="co">// Prikaz seznama pesmi na strani</span></span>
<span id="cb134-15"><a href="P6-V6.html#cb134-15" tabindex="-1"></a>streznik<span class="op">.</span><span class="fu">get</span>(<span class="st">&quot;/&quot;</span><span class="op">,</span> (zahteva<span class="op">,</span> odgovor) <span class="kw">=&gt;</span> {</span>
<span id="cb134-16"><a href="P6-V6.html#cb134-16" tabindex="-1"></a>  pb<span class="op">.</span><span class="fu">all</span>(</span>
<span id="cb134-17"><a href="P6-V6.html#cb134-17" tabindex="-1"></a>    <span class="st">&quot;SELECT   Track.TrackId AS id, </span><span class="sc">\</span></span>
<span id="cb134-18"><a href="P6-V6.html#cb134-18" tabindex="-1"></a><span class="st">              TRACK.Name AS pesem, </span><span class="sc">\</span></span>
<span id="cb134-19"><a href="P6-V6.html#cb134-19" tabindex="-1"></a><span class="st">              Artist.Name AS izvajalec, </span><span class="sc">\</span></span>
<span id="cb134-20"><a href="P6-V6.html#cb134-20" tabindex="-1"></a><span class="st">              ROUND(Track.UnitPrice * &quot;</span> <span class="op">+</span></span>
<span id="cb134-21"><a href="P6-V6.html#cb134-21" tabindex="-1"></a>      razmerje_USD_EUR <span class="op">+</span></span>
<span id="cb134-22"><a href="P6-V6.html#cb134-22" tabindex="-1"></a>      <span class="st">&quot;, 2) AS cena, </span><span class="sc">\</span></span>
<span id="cb134-23"><a href="P6-V6.html#cb134-23" tabindex="-1"></a><span class="st">              COUNT(InvoiceLine.InvoiceId) AS steviloProdaj </span><span class="sc">\</span></span>
<span id="cb134-24"><a href="P6-V6.html#cb134-24" tabindex="-1"></a><span class="st">     FROM     Track, Album, Artist, InvoiceLine </span><span class="sc">\</span></span>
<span id="cb134-25"><a href="P6-V6.html#cb134-25" tabindex="-1"></a><span class="st">     WHERE    Track.AlbumId = Album.AlbumId AND </span><span class="sc">\</span></span>
<span id="cb134-26"><a href="P6-V6.html#cb134-26" tabindex="-1"></a><span class="st">              Artist.ArtistId = Album.ArtistId AND </span><span class="sc">\</span></span>
<span id="cb134-27"><a href="P6-V6.html#cb134-27" tabindex="-1"></a><span class="st">              InvoiceLine.TrackId = Track.TrackId </span><span class="sc">\</span></span>
<span id="cb134-28"><a href="P6-V6.html#cb134-28" tabindex="-1"></a><span class="st">     GROUP BY Track.TrackId </span><span class="sc">\</span></span>
<span id="cb134-29"><a href="P6-V6.html#cb134-29" tabindex="-1"></a><span class="st">     ORDER BY steviloProdaj DESC, pesem ASC </span><span class="sc">\</span></span>
<span id="cb134-30"><a href="P6-V6.html#cb134-30" tabindex="-1"></a><span class="st">     LIMIT    100&quot;</span><span class="op">,</span></span>
<span id="cb134-31"><a href="P6-V6.html#cb134-31" tabindex="-1"></a>    (napaka<span class="op">,</span> vrstice) <span class="kw">=&gt;</span> {</span>
<span id="cb134-32"><a href="P6-V6.html#cb134-32" tabindex="-1"></a>      <span class="cf">if</span> (napaka) odgovor<span class="op">.</span><span class="fu">sendStatus</span>(<span class="dv">500</span>)<span class="op">;</span></span>
<span id="cb134-33"><a href="P6-V6.html#cb134-33" tabindex="-1"></a>      <span class="cf">else</span> odgovor<span class="op">.</span><span class="fu">render</span>(<span class="st">&quot;seznam&quot;</span><span class="op">,</span> { <span class="dt">seznamPesmi</span><span class="op">:</span> vrstice })<span class="op">;</span></span>
<span id="cb134-34"><a href="P6-V6.html#cb134-34" tabindex="-1"></a>    }</span>
<span id="cb134-35"><a href="P6-V6.html#cb134-35" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb134-36"><a href="P6-V6.html#cb134-36" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb134-37"><a href="P6-V6.html#cb134-37" tabindex="-1"></a></span>
<span id="cb134-38"><a href="P6-V6.html#cb134-38" tabindex="-1"></a>streznik<span class="op">.</span><span class="fu">listen</span>(<span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">PORT</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb134-39"><a href="P6-V6.html#cb134-39" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&quot;Strežnik je pognan!&quot;</span>)<span class="op">;</span></span>
<span id="cb134-40"><a href="P6-V6.html#cb134-40" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>Dodamo še sposobnost strežbe statičnih strani:</p>
<p><code>kosarica.js</code></p>
<div class="sourceCode" id="cb135"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb135-1"><a href="P6-V6.html#cb135-1" tabindex="-1"></a><span class="co">// Priprava strežnika</span></span>
<span id="cb135-2"><a href="P6-V6.html#cb135-2" tabindex="-1"></a><span class="kw">const</span> express <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;express&quot;</span>)<span class="op">;</span></span>
<span id="cb135-3"><a href="P6-V6.html#cb135-3" tabindex="-1"></a><span class="kw">const</span> streznik <span class="op">=</span> <span class="fu">express</span>()<span class="op">;</span></span>
<span id="cb135-4"><a href="P6-V6.html#cb135-4" tabindex="-1"></a>streznik<span class="op">.</span><span class="fu">set</span>(<span class="st">&quot;view engine&quot;</span><span class="op">,</span> <span class="st">&quot;hbs&quot;</span>)<span class="op">;</span></span>
<span id="cb135-5"><a href="P6-V6.html#cb135-5" tabindex="-1"></a>streznik<span class="op">.</span><span class="fu">use</span>(express<span class="op">.</span><span class="fu">static</span>(<span class="st">&quot;public&quot;</span>))<span class="op">;</span></span></code></pre></div>
<p>V predlogi <code>seznam.hbs</code> je opredeljen izgled spletne strani, pesmi pa so posredovane kot parameter <code>seznamPesmi</code> (JSON tabela). V predlogi se preprosto sprehodimo po seznamu pesmi in jih izpišemo na spletno stran.</p>
<p><code>views/seznam.hbs</code></p>
<div class="sourceCode" id="cb136"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb136-1"><a href="P6-V6.html#cb136-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="ot"> lang</span><span class="op">=</span><span class="st">&quot;en&quot;</span><span class="dt">&gt;</span></span>
<span id="cb136-2"><a href="P6-V6.html#cb136-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb136-3"><a href="P6-V6.html#cb136-3" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">meta</span><span class="ot"> charset</span><span class="op">=</span><span class="st">&quot;utf-8&quot;</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb136-4"><a href="P6-V6.html#cb136-4" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">meta</span><span class="ot"> name</span><span class="op">=</span><span class="st">&quot;viewport&quot;</span><span class="ot"> content</span><span class="op">=</span><span class="st">&quot;width=device-width, initial-scale=1&quot;</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb136-5"><a href="P6-V6.html#cb136-5" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Prodajalna pesmi<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb136-6"><a href="P6-V6.html#cb136-6" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">link</span></span>
<span id="cb136-7"><a href="P6-V6.html#cb136-7" tabindex="-1"></a><span class="ot">      href</span><span class="op">=</span><span class="st">&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot;</span></span>
<span id="cb136-8"><a href="P6-V6.html#cb136-8" tabindex="-1"></a><span class="ot">      rel</span><span class="op">=</span><span class="st">&quot;stylesheet&quot;</span></span>
<span id="cb136-9"><a href="P6-V6.html#cb136-9" tabindex="-1"></a><span class="ot">    </span><span class="dt">/&gt;</span></span>
<span id="cb136-10"><a href="P6-V6.html#cb136-10" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">link</span></span>
<span id="cb136-11"><a href="P6-V6.html#cb136-11" tabindex="-1"></a><span class="ot">      rel</span><span class="op">=</span><span class="st">&quot;stylesheet&quot;</span></span>
<span id="cb136-12"><a href="P6-V6.html#cb136-12" tabindex="-1"></a><span class="ot">      href</span><span class="op">=</span><span class="st">&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css&quot;</span></span>
<span id="cb136-13"><a href="P6-V6.html#cb136-13" tabindex="-1"></a><span class="ot">    </span><span class="dt">/&gt;</span></span>
<span id="cb136-14"><a href="P6-V6.html#cb136-14" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> rel</span><span class="op">=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href</span><span class="op">=</span><span class="st">&quot;/css/style.css&quot;</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb136-15"><a href="P6-V6.html#cb136-15" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb136-16"><a href="P6-V6.html#cb136-16" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb136-17"><a href="P6-V6.html#cb136-17" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;container text-center&quot;</span><span class="dt">&gt;</span></span>
<span id="cb136-18"><a href="P6-V6.html#cb136-18" tabindex="-1"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;row&quot;</span><span class="dt">&gt;</span></span>
<span id="cb136-19"><a href="P6-V6.html#cb136-19" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;col-md-12&quot;</span><span class="dt">&gt;</span></span>
<span id="cb136-20"><a href="P6-V6.html#cb136-20" tabindex="-1"></a>          <span class="dt">&lt;</span><span class="kw">h3</span><span class="dt">&gt;&lt;</span><span class="kw">i</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;fa-solid fa-music&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">i</span><span class="dt">&gt;</span>Seznam 100 najbolje prodajanih pesmi<span class="dt">&lt;/</span><span class="kw">h3</span><span class="dt">&gt;</span></span>
<span id="cb136-21"><a href="P6-V6.html#cb136-21" tabindex="-1"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">&quot;pesmi&quot;</span><span class="dt">&gt;</span></span>
<span id="cb136-22"><a href="P6-V6.html#cb136-22" tabindex="-1"></a>            {{#each seznamPesmi as |pesem|}}</span>
<span id="cb136-23"><a href="P6-V6.html#cb136-23" tabindex="-1"></a>              <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">&quot;{{pesem.id}}&quot;</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;pesem&quot;</span><span class="dt">&gt;</span></span>
<span id="cb136-24"><a href="P6-V6.html#cb136-24" tabindex="-1"></a>                <span class="dt">&lt;</span><span class="kw">button</span><span class="ot"> type</span><span class="op">=</span><span class="st">&quot;button&quot;</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;btn btn-light btn-sm&quot;</span><span class="dt">&gt;</span></span>
<span id="cb136-25"><a href="P6-V6.html#cb136-25" tabindex="-1"></a>                  <span class="dt">&lt;</span><span class="kw">i</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;fa-solid fa-plus&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">i</span><span class="dt">&gt;</span></span>
<span id="cb136-26"><a href="P6-V6.html#cb136-26" tabindex="-1"></a>                  <span class="dt">&lt;</span><span class="kw">strong</span><span class="dt">&gt;&lt;</span><span class="kw">span</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;naziv&quot;</span><span class="dt">&gt;</span>{{pesem.pesem}}<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;&lt;/</span><span class="kw">strong</span><span class="dt">&gt;</span></span>
<span id="cb136-27"><a href="P6-V6.html#cb136-27" tabindex="-1"></a>                  (<span class="dt">&lt;</span><span class="kw">span</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;izvajalec&quot;</span><span class="dt">&gt;</span>{{pesem.izvajalec}}<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span>) @</span>
<span id="cb136-28"><a href="P6-V6.html#cb136-28" tabindex="-1"></a>                  <span class="dt">&lt;</span><span class="kw">span</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;cena&quot;</span><span class="dt">&gt;</span>{{pesem.cena}}<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb136-29"><a href="P6-V6.html#cb136-29" tabindex="-1"></a>                  €</span>
<span id="cb136-30"><a href="P6-V6.html#cb136-30" tabindex="-1"></a>                <span class="dt">&lt;/</span><span class="kw">button</span><span class="dt">&gt;</span></span>
<span id="cb136-31"><a href="P6-V6.html#cb136-31" tabindex="-1"></a>              <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb136-32"><a href="P6-V6.html#cb136-32" tabindex="-1"></a>            {{/each}}</span>
<span id="cb136-33"><a href="P6-V6.html#cb136-33" tabindex="-1"></a>          <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb136-34"><a href="P6-V6.html#cb136-34" tabindex="-1"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb136-35"><a href="P6-V6.html#cb136-35" tabindex="-1"></a>      <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb136-36"><a href="P6-V6.html#cb136-36" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb136-37"><a href="P6-V6.html#cb136-37" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">&quot;https://code.jquery.com/jquery-3.5.1.min.js&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb136-38"><a href="P6-V6.html#cb136-38" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">script</span></span>
<span id="cb136-39"><a href="P6-V6.html#cb136-39" tabindex="-1"></a><span class="ot">      src</span><span class="op">=</span><span class="st">&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js&quot;</span></span>
<span id="cb136-40"><a href="P6-V6.html#cb136-40" tabindex="-1"></a><span class="ot">    </span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb136-41"><a href="P6-V6.html#cb136-41" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb136-42"><a href="P6-V6.html#cb136-42" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code></pre></div>
<p>Kreiramo tudi mapo <code>public/css</code> in dodamo naslednje opredelitve stila:</p>
<p><code>public/css/style.css</code></p>
<div class="sourceCode" id="cb137"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb137-1"><a href="P6-V6.html#cb137-1" tabindex="-1"></a><span class="fu">.pesem</span> button {</span>
<span id="cb137-2"><a href="P6-V6.html#cb137-2" tabindex="-1"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb137-3"><a href="P6-V6.html#cb137-3" tabindex="-1"></a>  <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb137-4"><a href="P6-V6.html#cb137-4" tabindex="-1"></a>}</span>
<span id="cb137-5"><a href="P6-V6.html#cb137-5" tabindex="-1"></a>i<span class="fu">.fa-solid</span> {</span>
<span id="cb137-6"><a href="P6-V6.html#cb137-6" tabindex="-1"></a>  <span class="kw">padding-right</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb137-7"><a href="P6-V6.html#cb137-7" tabindex="-1"></a>}</span>
<span id="cb137-8"><a href="P6-V6.html#cb137-8" tabindex="-1"></a>h3 {</span>
<span id="cb137-9"><a href="P6-V6.html#cb137-9" tabindex="-1"></a>  <span class="kw">padding-top</span><span class="ch">:</span> <span class="dv">20</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb137-10"><a href="P6-V6.html#cb137-10" tabindex="-1"></a>  <span class="kw">padding-bottom</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb137-11"><a href="P6-V6.html#cb137-11" tabindex="-1"></a>}</span></code></pre></div>
<p>Slika <a href="P6-V6.html#fig:slika-Seznam-pesmi#fig:slika-Seznam-pesmi">13.2</a> prikazuje primer dela seznama 100 najbolje prodajanih pesmi, ki je implementiran do tega trenutka.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:slika-Seznam-pesmi"></span>
<img src="assets/img/P3.1_V6_Seznam_pesmi.png" alt="Seznam pesmi" width="400" />
<p class="caption">
Slika 13.2: Seznam pesmi
</p>
</div>
<blockquote>
<p><strong>Opomba</strong>: Pri opredelitvi seznama pesmi smo uporabili odprtokodno ogrodje <a href="https://getbootstrap.com/docs/5.1/getting-started/"><i class='fa-solid fa-earth-europe'></i>Bootstrap 5.1.x</a> za prikaz uporabniškega vmesnika, ki pohitri in olajša razvoj spletnih aplikacij.</p>
<p>Ključna prednost uporabe omenjenega ogrodja je pozicioniranje elementov na strani, kjer je vsebina strani razdeljena v 12 stolpcev. V našem primeru opredelimo, naj bo vsebina čez celotno stran <span class="skupaj">(<code>&lt;div class="col-md-12"&gt;</code>)</span>, prav tako pa uporabimo ikone <a href="https://fontawesome.com/"><i class='fa-solid fa-earth-europe'></i>Font Awesome</a> (npr. <a href="https://fontawesome.com/icons/music?style=solid"><i class='fa-solid fa-earth-europe'></i><code>fa-music</code></a>).</p>
</blockquote>
</div>
<div id="dodajanje-funkcionalnosti-košarice" class="section level4 hasAnchor" number="13.4.1.2">
<h4><span class="header-section-number">13.4.1.2</span> Dodajanje funkcionalnosti košarice<a href="P6-V6.html#dodajanje-funkcionalnosti-košarice" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div id="funkcionalnost-na-strežniku-kosarica.js" class="section level5 hasAnchor" number="13.4.1.2.1">
<h5><span class="header-section-number">13.4.1.2.1</span> Funkcionalnost na strežniku <code>kosarica.js</code><a href="P6-V6.html#funkcionalnost-na-strežniku-kosarica.js" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Dodamo <strong>podporo za obvladovanje seje</strong>, kjer seja poteče po 1 min neaktivnosti.</p>
<p><code>kosarica.js</code></p>
<div class="sourceCode" id="cb138"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb138-1"><a href="P6-V6.html#cb138-1" tabindex="-1"></a><span class="co">// Podpora sejam na strežniku</span></span>
<span id="cb138-2"><a href="P6-V6.html#cb138-2" tabindex="-1"></a><span class="kw">const</span> expressSession <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;express-session&quot;</span>)<span class="op">;</span></span>
<span id="cb138-3"><a href="P6-V6.html#cb138-3" tabindex="-1"></a>streznik<span class="op">.</span><span class="fu">use</span>(</span>
<span id="cb138-4"><a href="P6-V6.html#cb138-4" tabindex="-1"></a>  <span class="fu">expressSession</span>({</span>
<span id="cb138-5"><a href="P6-V6.html#cb138-5" tabindex="-1"></a>    <span class="co">// Skrivni ključ za podpisovanje piškotov</span></span>
<span id="cb138-6"><a href="P6-V6.html#cb138-6" tabindex="-1"></a>    <span class="dt">secret</span><span class="op">:</span> <span class="st">&quot;123456789QWERTY&quot;</span><span class="op">,</span></span>
<span id="cb138-7"><a href="P6-V6.html#cb138-7" tabindex="-1"></a>    <span class="co">// Novo sejo shranimo</span></span>
<span id="cb138-8"><a href="P6-V6.html#cb138-8" tabindex="-1"></a>    <span class="dt">saveUninitialized</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb138-9"><a href="P6-V6.html#cb138-9" tabindex="-1"></a>    <span class="co">// Ne zahtevamo ponovnega shranjevanja</span></span>
<span id="cb138-10"><a href="P6-V6.html#cb138-10" tabindex="-1"></a>    <span class="dt">resave</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb138-11"><a href="P6-V6.html#cb138-11" tabindex="-1"></a>    <span class="dt">cookie</span><span class="op">:</span> {</span>
<span id="cb138-12"><a href="P6-V6.html#cb138-12" tabindex="-1"></a>      <span class="co">// Seja poteče po 60 s (1 min) neaktivnosti</span></span>
<span id="cb138-13"><a href="P6-V6.html#cb138-13" tabindex="-1"></a>      <span class="dt">maxAge</span><span class="op">:</span> <span class="dv">60000</span><span class="op">,</span></span>
<span id="cb138-14"><a href="P6-V6.html#cb138-14" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb138-15"><a href="P6-V6.html#cb138-15" tabindex="-1"></a>  })</span>
<span id="cb138-16"><a href="P6-V6.html#cb138-16" tabindex="-1"></a>)<span class="op">;</span></span></code></pre></div>
<p>Dodamo funkcionalnost na strežniku, ki poskrbi za <strong>dodajanje oz. brisanje pesmi iz košarice</strong>.</p>
<p><code>kosarica.js</code></p>
<div class="sourceCode" id="cb139"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb139-1"><a href="P6-V6.html#cb139-1" tabindex="-1"></a><span class="co">// Dodajanje oz. brisanje pesmi iz košarice</span></span>
<span id="cb139-2"><a href="P6-V6.html#cb139-2" tabindex="-1"></a>streznik<span class="op">.</span><span class="fu">get</span>(<span class="st">&quot;/kosarica/:idPesmi&quot;</span><span class="op">,</span> (zahteva<span class="op">,</span> odgovor) <span class="kw">=&gt;</span> {</span>
<span id="cb139-3"><a href="P6-V6.html#cb139-3" tabindex="-1"></a>  <span class="kw">let</span> idPesmi <span class="op">=</span> <span class="pp">parseInt</span>(zahteva<span class="op">.</span><span class="at">params</span><span class="op">.</span><span class="at">idPesmi</span>)<span class="op">;</span></span>
<span id="cb139-4"><a href="P6-V6.html#cb139-4" tabindex="-1"></a>  <span class="cf">if</span> (<span class="op">!</span>zahteva<span class="op">.</span><span class="at">session</span><span class="op">.</span><span class="at">kosarica</span>) zahteva<span class="op">.</span><span class="at">session</span><span class="op">.</span><span class="at">kosarica</span> <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb139-5"><a href="P6-V6.html#cb139-5" tabindex="-1"></a>  <span class="cf">if</span> (zahteva<span class="op">.</span><span class="at">session</span><span class="op">.</span><span class="at">kosarica</span><span class="op">.</span><span class="fu">indexOf</span>(idPesmi) <span class="op">&gt;</span> <span class="op">-</span><span class="dv">1</span>) {</span>
<span id="cb139-6"><a href="P6-V6.html#cb139-6" tabindex="-1"></a>    <span class="co">// Če je pesem v košarici, jo izbrišemo</span></span>
<span id="cb139-7"><a href="P6-V6.html#cb139-7" tabindex="-1"></a>    zahteva<span class="op">.</span><span class="at">session</span><span class="op">.</span><span class="at">kosarica</span><span class="op">.</span><span class="fu">splice</span>(</span>
<span id="cb139-8"><a href="P6-V6.html#cb139-8" tabindex="-1"></a>      zahteva<span class="op">.</span><span class="at">session</span><span class="op">.</span><span class="at">kosarica</span><span class="op">.</span><span class="fu">indexOf</span>(idPesmi)<span class="op">,</span></span>
<span id="cb139-9"><a href="P6-V6.html#cb139-9" tabindex="-1"></a>      <span class="dv">1</span></span>
<span id="cb139-10"><a href="P6-V6.html#cb139-10" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb139-11"><a href="P6-V6.html#cb139-11" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb139-12"><a href="P6-V6.html#cb139-12" tabindex="-1"></a>    <span class="co">// Če pesmi ni v košarici, jo dodamo</span></span>
<span id="cb139-13"><a href="P6-V6.html#cb139-13" tabindex="-1"></a>    zahteva<span class="op">.</span><span class="at">session</span><span class="op">.</span><span class="at">kosarica</span><span class="op">.</span><span class="fu">push</span>(idPesmi)<span class="op">;</span></span>
<span id="cb139-14"><a href="P6-V6.html#cb139-14" tabindex="-1"></a>  }</span>
<span id="cb139-15"><a href="P6-V6.html#cb139-15" tabindex="-1"></a>  <span class="co">// V odgovoru vrnemo vsebino celotne košarice</span></span>
<span id="cb139-16"><a href="P6-V6.html#cb139-16" tabindex="-1"></a>  odgovor<span class="op">.</span><span class="fu">send</span>(zahteva<span class="op">.</span><span class="at">session</span><span class="op">.</span><span class="at">kosarica</span>)<span class="op">;</span></span>
<span id="cb139-17"><a href="P6-V6.html#cb139-17" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>Pripravimo funkcijo, ki <strong>na podlagi ID-jev pesmi v košarici dostopa do podatkovne baze in vrne podrobnosti teh pesmi v košarici</strong>.</p>
<p><code>kosarica.js</code></p>
<div class="sourceCode" id="cb140"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb140-1"><a href="P6-V6.html#cb140-1" tabindex="-1"></a><span class="co">// Vrni podrobnosti pesmi v košarici iz podatkovne baze</span></span>
<span id="cb140-2"><a href="P6-V6.html#cb140-2" tabindex="-1"></a><span class="kw">const</span> pesmiIzKosarice <span class="op">=</span> (zahteva<span class="op">,</span> povratniKlic) <span class="kw">=&gt;</span> {</span>
<span id="cb140-3"><a href="P6-V6.html#cb140-3" tabindex="-1"></a>  <span class="co">// Če je košarica prazna</span></span>
<span id="cb140-4"><a href="P6-V6.html#cb140-4" tabindex="-1"></a>  <span class="cf">if</span> (<span class="op">!</span>zahteva<span class="op">.</span><span class="at">session</span><span class="op">.</span><span class="at">kosarica</span> <span class="op">||</span> zahteva<span class="op">.</span><span class="at">session</span><span class="op">.</span><span class="at">kosarica</span><span class="op">.</span><span class="at">length</span> <span class="op">==</span> <span class="dv">0</span>) {</span>
<span id="cb140-5"><a href="P6-V6.html#cb140-5" tabindex="-1"></a>    <span class="fu">povratniKlic</span>([])<span class="op">;</span></span>
<span id="cb140-6"><a href="P6-V6.html#cb140-6" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb140-7"><a href="P6-V6.html#cb140-7" tabindex="-1"></a>    <span class="co">// Sicer dostopaj do podatkovne baze in pridobi podrobnosti</span></span>
<span id="cb140-8"><a href="P6-V6.html#cb140-8" tabindex="-1"></a>    pb<span class="op">.</span><span class="fu">all</span>(</span>
<span id="cb140-9"><a href="P6-V6.html#cb140-9" tabindex="-1"></a>      <span class="st">&quot;SELECT Track.TrackId AS stevilkaArtikla, </span><span class="sc">\</span></span>
<span id="cb140-10"><a href="P6-V6.html#cb140-10" tabindex="-1"></a><span class="st">              1 AS kolicina, </span><span class="sc">\</span></span>
<span id="cb140-11"><a href="P6-V6.html#cb140-11" tabindex="-1"></a><span class="st">              Track.Name || &#39; (&#39; || Artist.Name || &#39;)&#39; AS opisArtikla, </span><span class="sc">\</span></span>
<span id="cb140-12"><a href="P6-V6.html#cb140-12" tabindex="-1"></a><span class="st">              ROUND(Track.UnitPrice * &quot;</span> <span class="op">+</span></span>
<span id="cb140-13"><a href="P6-V6.html#cb140-13" tabindex="-1"></a>        razmerje_USD_EUR <span class="op">+</span></span>
<span id="cb140-14"><a href="P6-V6.html#cb140-14" tabindex="-1"></a>        <span class="st">&quot;, 2) AS cena, </span><span class="sc">\</span></span>
<span id="cb140-15"><a href="P6-V6.html#cb140-15" tabindex="-1"></a><span class="st">              0 AS popust </span><span class="sc">\</span></span>
<span id="cb140-16"><a href="P6-V6.html#cb140-16" tabindex="-1"></a><span class="st">       FROM   Track, Album, Artist </span><span class="sc">\</span></span>
<span id="cb140-17"><a href="P6-V6.html#cb140-17" tabindex="-1"></a><span class="st">       WHERE  Track.AlbumId = Album.AlbumId AND </span><span class="sc">\</span></span>
<span id="cb140-18"><a href="P6-V6.html#cb140-18" tabindex="-1"></a><span class="st">              Artist.ArtistId = Album.ArtistId AND </span><span class="sc">\</span></span>
<span id="cb140-19"><a href="P6-V6.html#cb140-19" tabindex="-1"></a><span class="st">              Track.TrackId IN (&quot;</span> <span class="op">+</span></span>
<span id="cb140-20"><a href="P6-V6.html#cb140-20" tabindex="-1"></a>        zahteva<span class="op">.</span><span class="at">session</span><span class="op">.</span><span class="at">kosarica</span><span class="op">.</span><span class="fu">join</span>(<span class="st">&quot;,&quot;</span>) <span class="op">+</span></span>
<span id="cb140-21"><a href="P6-V6.html#cb140-21" tabindex="-1"></a>        <span class="st">&quot;)&quot;</span><span class="op">,</span></span>
<span id="cb140-22"><a href="P6-V6.html#cb140-22" tabindex="-1"></a>      (napaka<span class="op">,</span> vrstice) <span class="kw">=&gt;</span> {</span>
<span id="cb140-23"><a href="P6-V6.html#cb140-23" tabindex="-1"></a>        <span class="cf">if</span> (napaka) <span class="fu">povratniKlic</span>(<span class="kw">false</span>)<span class="op">;</span></span>
<span id="cb140-24"><a href="P6-V6.html#cb140-24" tabindex="-1"></a>        <span class="cf">else</span> <span class="fu">povratniKlic</span>(vrstice)<span class="op">;</span></span>
<span id="cb140-25"><a href="P6-V6.html#cb140-25" tabindex="-1"></a>      }</span>
<span id="cb140-26"><a href="P6-V6.html#cb140-26" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb140-27"><a href="P6-V6.html#cb140-27" tabindex="-1"></a>  }</span>
<span id="cb140-28"><a href="P6-V6.html#cb140-28" tabindex="-1"></a>}<span class="op">;</span></span></code></pre></div>
<p>Pripravimo še <strong>storitev na strežniku, ki posluša na <code>/kosarica</code></strong> in jo bomo uporabljali, da ob ponovnem nalaganju strani prikažemo dejansko stanje nakupovalne košarice (glede na izbrane pesmi, ki so shranjene v seji).</p>
<p><code>kosarica.js</code></p>
<div class="sourceCode" id="cb141"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb141-1"><a href="P6-V6.html#cb141-1" tabindex="-1"></a><span class="co">// Podrobnosti košarice</span></span>
<span id="cb141-2"><a href="P6-V6.html#cb141-2" tabindex="-1"></a>streznik<span class="op">.</span><span class="fu">get</span>(<span class="st">&quot;/kosarica&quot;</span><span class="op">,</span> (zahteva<span class="op">,</span> odgovor) <span class="kw">=&gt;</span> {</span>
<span id="cb141-3"><a href="P6-V6.html#cb141-3" tabindex="-1"></a>  <span class="fu">pesmiIzKosarice</span>(zahteva<span class="op">,</span> (pesmi) <span class="kw">=&gt;</span> {</span>
<span id="cb141-4"><a href="P6-V6.html#cb141-4" tabindex="-1"></a>    <span class="cf">if</span> (<span class="op">!</span>pesmi) odgovor<span class="op">.</span><span class="fu">sendStatus</span>(<span class="dv">500</span>)<span class="op">;</span></span>
<span id="cb141-5"><a href="P6-V6.html#cb141-5" tabindex="-1"></a>    <span class="cf">else</span> odgovor<span class="op">.</span><span class="fu">send</span>(pesmi)<span class="op">;</span></span>
<span id="cb141-6"><a href="P6-V6.html#cb141-6" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb141-7"><a href="P6-V6.html#cb141-7" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
</div>
<div id="predloga-seznam.hbs-za-prikaz-spletne-strani" class="section level5 hasAnchor" number="13.4.1.2.2">
<h5><span class="header-section-number">13.4.1.2.2</span> Predloga <code>seznam.hbs</code> za prikaz spletne strani<a href="P6-V6.html#predloga-seznam.hbs-za-prikaz-spletne-strani" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Obstoječi seznam pesmi naj bo širok le <strong>polovico trenutne širine</strong>, nato <strong>dodamo na desni strani</strong> še prostor za <strong>seznam pesmi v nakupovalni košarici</strong>.</p>
<p><code>views/seznam.hbs</code></p>
<div class="sourceCode" id="cb142"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb142-1"><a href="P6-V6.html#cb142-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;container text-center&quot;</span><span class="dt">&gt;</span></span>
<span id="cb142-2"><a href="P6-V6.html#cb142-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;row&quot;</span><span class="dt">&gt;</span></span>
<span id="cb142-3"><a href="P6-V6.html#cb142-3" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;col-md-612&quot;</span><span class="dt">&gt;</span></span>
<span id="cb142-4"><a href="P6-V6.html#cb142-4" tabindex="-1"></a>      <span class="dt">&lt;</span><span class="kw">h3</span><span class="dt">&gt;&lt;</span><span class="kw">i</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;fa-solid fa-music&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">i</span><span class="dt">&gt;</span>Seznam 100 najbolje prodajanih pesmi<span class="dt">&lt;/</span><span class="kw">h3</span><span class="dt">&gt;</span></span>
<span id="cb142-5"><a href="P6-V6.html#cb142-5" tabindex="-1"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">&quot;pesmi&quot;</span><span class="dt">&gt;</span></span>
<span id="cb142-6"><a href="P6-V6.html#cb142-6" tabindex="-1"></a>        {{#each seznamPesmi as |pesem|}}</span>
<span id="cb142-7"><a href="P6-V6.html#cb142-7" tabindex="-1"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">&quot;{{pesem.id}}&quot;</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;pesem&quot;</span><span class="dt">&gt;</span></span>
<span id="cb142-8"><a href="P6-V6.html#cb142-8" tabindex="-1"></a>            <span class="dt">&lt;</span><span class="kw">button</span><span class="ot"> type</span><span class="op">=</span><span class="st">&quot;button&quot;</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;btn btn-light btn-sm&quot;</span><span class="dt">&gt;</span></span>
<span id="cb142-9"><a href="P6-V6.html#cb142-9" tabindex="-1"></a>              <span class="dt">&lt;</span><span class="kw">i</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;fa-solid fa-plus&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">i</span><span class="dt">&gt;</span></span>
<span id="cb142-10"><a href="P6-V6.html#cb142-10" tabindex="-1"></a>              <span class="dt">&lt;</span><span class="kw">strong</span><span class="dt">&gt;&lt;</span><span class="kw">span</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;naziv&quot;</span><span class="dt">&gt;</span>{{pesem.pesem}}<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;&lt;/</span><span class="kw">strong</span><span class="dt">&gt;</span></span>
<span id="cb142-11"><a href="P6-V6.html#cb142-11" tabindex="-1"></a>              (<span class="dt">&lt;</span><span class="kw">span</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;izvajalec&quot;</span><span class="dt">&gt;</span>{{pesem.izvajalec}}<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span>) @</span>
<span id="cb142-12"><a href="P6-V6.html#cb142-12" tabindex="-1"></a>              <span class="dt">&lt;</span><span class="kw">span</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;cena&quot;</span><span class="dt">&gt;</span>{{pesem.cena}}<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb142-13"><a href="P6-V6.html#cb142-13" tabindex="-1"></a>              €</span>
<span id="cb142-14"><a href="P6-V6.html#cb142-14" tabindex="-1"></a>            <span class="dt">&lt;/</span><span class="kw">button</span><span class="dt">&gt;</span></span>
<span id="cb142-15"><a href="P6-V6.html#cb142-15" tabindex="-1"></a>          <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb142-16"><a href="P6-V6.html#cb142-16" tabindex="-1"></a>        {{/each}}</span>
<span id="cb142-17"><a href="P6-V6.html#cb142-17" tabindex="-1"></a>      <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb142-18"><a href="P6-V6.html#cb142-18" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb142-19"><a href="P6-V6.html#cb142-19" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;col-md-6&quot;</span><span class="dt">&gt;</span></span>
<span id="cb142-20"><a href="P6-V6.html#cb142-20" tabindex="-1"></a>      <span class="dt">&lt;</span><span class="kw">h3</span><span class="dt">&gt;&lt;</span><span class="kw">i</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;fa-solid fa-cart-shopping&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">i</span><span class="dt">&gt;</span>Nakupovalna košarica<span class="dt">&lt;/</span><span class="kw">h3</span><span class="dt">&gt;</span></span>
<span id="cb142-21"><a href="P6-V6.html#cb142-21" tabindex="-1"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">&quot;kosarica&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb142-22"><a href="P6-V6.html#cb142-22" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb142-23"><a href="P6-V6.html#cb142-23" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb142-24"><a href="P6-V6.html#cb142-24" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span></code></pre></div>
<p>Poskrbimo tudi za <strong>dinamiko na strani</strong> v datoteki <code>views/seznam.hbs</code>, in sicer:</p>
<ul>
<li>ko se stran naloži (tudi ob ponovnem nalaganju), pokličemo funkcionalnost strežnika <code>/kosarica</code>, kjer pridobimo podatke o izbranih pesmih v seji,</li>
<li>ob kliku na pesem na seznamu na levi strani kličemo funkcijo <code>premakniPesemIzSeznamaVKosarico</code>, ki poskrbi za premikanje pesmi iz levega stolpca (seznama vseh pesmi) v desni stolpec (nakupovalna košarica) in ažuriranje stanja v seji,</li>
<li>ob kliku na pesem na desni strani v nakupovalni košarici jo odstranimo z desne strani in jo dodamo nazaj v seznam ter poskrbimo za ažuriranje stanja v seji.</li>
</ul>
<blockquote>
<p><strong>Opomba</strong>: Zaradi lažjega dela s HTML elementi na strani odjemalca smo od tega trenutka naprej vpeljali knjižnico <a href="https://jquery.com/"><i class='fa-solid fa-earth-europe'></i>jQuery</a>. V večini primerov nam predvsem olajša izvajanje obstoječih ukazov, in sicer:</p>
<ul>
<li>ukaz <code>$.get("...")</code> uporabimo za AJAX klice, s katerimi smo asinhrono dostopali do podatkov spletnih storitev (glej <span class="sklop1">P3</span> → <span class="sklop3">V3</span> v okviru poglavja <a href="P3-V3.html#ajax">AJAX</a>),</li>
<li>ukaz <code>$("...")</code> je enakovreden obstoječemu ukazu <code>document.querySelector("...")</code>,</li>
<li>ukaz <code>$(document).ready(...)</code> počaka, da se celotna stran naloži in je enakovreden obstoječemu ukazu <code>window.addEventListener("load", ...)</code>,</li>
<li>ukaz <code>element.find("...")</code> nam v okviru elementa <code>element</code> poišče odvisen element (uporabite CSS izbirnik) in nam ga vrne.</li>
</ul>
</blockquote>
<p><code>views/seznam.hbs</code></p>
<div class="sourceCode" id="cb143"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb143-1"><a href="P6-V6.html#cb143-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="ot"> lang</span><span class="op">=</span><span class="st">&quot;en&quot;</span><span class="dt">&gt;</span></span>
<span id="cb143-2"><a href="P6-V6.html#cb143-2" tabindex="-1"></a>  ...</span>
<span id="cb143-3"><a href="P6-V6.html#cb143-3" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb143-4"><a href="P6-V6.html#cb143-4" tabindex="-1"></a>    ...</span>
<span id="cb143-5"><a href="P6-V6.html#cb143-5" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> type=</span><span class="st">&quot;text/javascript&quot;</span><span class="ot"> src</span><span class="op">=</span><span class="st">&quot;/js/script.js&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb143-6"><a href="P6-V6.html#cb143-6" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb143-7"><a href="P6-V6.html#cb143-7" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code></pre></div>
<p><code>public/js/script.js</code></p>
<div class="sourceCode" id="cb144"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb144-1"><a href="P6-V6.html#cb144-1" tabindex="-1"></a><span class="kw">const</span> premakniPesemIzSeznamaVKosarico <span class="op">=</span> (</span>
<span id="cb144-2"><a href="P6-V6.html#cb144-2" tabindex="-1"></a>  id<span class="op">,</span></span>
<span id="cb144-3"><a href="P6-V6.html#cb144-3" tabindex="-1"></a>  naziv<span class="op">,</span></span>
<span id="cb144-4"><a href="P6-V6.html#cb144-4" tabindex="-1"></a>  izvajalec<span class="op">,</span></span>
<span id="cb144-5"><a href="P6-V6.html#cb144-5" tabindex="-1"></a>  cena<span class="op">,</span></span>
<span id="cb144-6"><a href="P6-V6.html#cb144-6" tabindex="-1"></a>  azuriraj</span>
<span id="cb144-7"><a href="P6-V6.html#cb144-7" tabindex="-1"></a>) <span class="kw">=&gt;</span> {</span>
<span id="cb144-8"><a href="P6-V6.html#cb144-8" tabindex="-1"></a>  <span class="cf">if</span> (azuriraj)</span>
<span id="cb144-9"><a href="P6-V6.html#cb144-9" tabindex="-1"></a>    $<span class="op">.</span><span class="fu">get</span>(<span class="st">&quot;/kosarica/&quot;</span> <span class="op">+</span> id<span class="op">,</span> (podatki) <span class="kw">=&gt;</span> {</span>
<span id="cb144-10"><a href="P6-V6.html#cb144-10" tabindex="-1"></a>      <span class="co">/* Dodaj izbramo pesem v sejo */</span></span>
<span id="cb144-11"><a href="P6-V6.html#cb144-11" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb144-12"><a href="P6-V6.html#cb144-12" tabindex="-1"></a></span>
<span id="cb144-13"><a href="P6-V6.html#cb144-13" tabindex="-1"></a>  <span class="co">// Dodaj pesem v desni seznam</span></span>
<span id="cb144-14"><a href="P6-V6.html#cb144-14" tabindex="-1"></a>  <span class="fu">$</span>(<span class="st">&quot;#kosarica&quot;</span>)<span class="op">.</span><span class="fu">append</span>(</span>
<span id="cb144-15"><a href="P6-V6.html#cb144-15" tabindex="-1"></a>    <span class="st">&quot;&lt;div id=&#39;&quot;</span> <span class="op">+</span></span>
<span id="cb144-16"><a href="P6-V6.html#cb144-16" tabindex="-1"></a>      id <span class="op">+</span></span>
<span id="cb144-17"><a href="P6-V6.html#cb144-17" tabindex="-1"></a>      <span class="st">&quot;&#39; class=&#39;pesem&#39;&gt; </span><span class="sc">\</span></span>
<span id="cb144-18"><a href="P6-V6.html#cb144-18" tabindex="-1"></a><span class="st">      &lt;button type=&#39;button&#39; class=&#39;btn btn-light btn-sm&#39;&gt; </span><span class="sc">\</span></span>
<span id="cb144-19"><a href="P6-V6.html#cb144-19" tabindex="-1"></a><span class="st">        &lt;i class=&#39;fa-solid fa-minus&#39;&gt;&lt;/i&gt; </span><span class="sc">\</span></span>
<span id="cb144-20"><a href="P6-V6.html#cb144-20" tabindex="-1"></a><span class="st">        &lt;strong&gt;&lt;span class=&#39;naziv&#39;&gt;&quot;</span> <span class="op">+</span></span>
<span id="cb144-21"><a href="P6-V6.html#cb144-21" tabindex="-1"></a>      naziv <span class="op">+</span></span>
<span id="cb144-22"><a href="P6-V6.html#cb144-22" tabindex="-1"></a>      <span class="st">&quot;&lt;/span&gt;&lt;/strong&gt; </span><span class="sc">\</span></span>
<span id="cb144-23"><a href="P6-V6.html#cb144-23" tabindex="-1"></a><span class="st">        (&lt;span class=&#39;izvajalec&#39;&gt;&quot;</span> <span class="op">+</span></span>
<span id="cb144-24"><a href="P6-V6.html#cb144-24" tabindex="-1"></a>      izvajalec <span class="op">+</span></span>
<span id="cb144-25"><a href="P6-V6.html#cb144-25" tabindex="-1"></a>      <span class="st">&quot;&lt;/span&gt;) </span><span class="sc">\</span></span>
<span id="cb144-26"><a href="P6-V6.html#cb144-26" tabindex="-1"></a><span class="st">        @ &lt;span class=&#39;cena&#39;&gt;&quot;</span> <span class="op">+</span></span>
<span id="cb144-27"><a href="P6-V6.html#cb144-27" tabindex="-1"></a>      cena <span class="op">+</span></span>
<span id="cb144-28"><a href="P6-V6.html#cb144-28" tabindex="-1"></a>      <span class="st">&quot;&lt;/span&gt; € </span><span class="sc">\</span></span>
<span id="cb144-29"><a href="P6-V6.html#cb144-29" tabindex="-1"></a><span class="st">      &lt;/button&gt; </span><span class="sc">\</span></span>
<span id="cb144-30"><a href="P6-V6.html#cb144-30" tabindex="-1"></a><span class="st">    &lt;/div&gt;&quot;</span></span>
<span id="cb144-31"><a href="P6-V6.html#cb144-31" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb144-32"><a href="P6-V6.html#cb144-32" tabindex="-1"></a></span>
<span id="cb144-33"><a href="P6-V6.html#cb144-33" tabindex="-1"></a>  <span class="co">// Dogodek ob kliku na pesem v košarici (na desnem seznamu)</span></span>
<span id="cb144-34"><a href="P6-V6.html#cb144-34" tabindex="-1"></a>  <span class="fu">$</span>(<span class="st">&quot;#kosarica #&quot;</span> <span class="op">+</span> id)<span class="op">.</span><span class="fu">click</span>(<span class="kw">function</span> () {</span>
<span id="cb144-35"><a href="P6-V6.html#cb144-35" tabindex="-1"></a>    <span class="kw">let</span> pesem_kosarica <span class="op">=</span> <span class="fu">$</span>(<span class="kw">this</span>)<span class="op">;</span></span>
<span id="cb144-36"><a href="P6-V6.html#cb144-36" tabindex="-1"></a>    $<span class="op">.</span><span class="fu">get</span>(<span class="st">&quot;/kosarica/&quot;</span> <span class="op">+</span> id<span class="op">,</span> (podatki) <span class="kw">=&gt;</span> {</span>
<span id="cb144-37"><a href="P6-V6.html#cb144-37" tabindex="-1"></a>      <span class="co">/* Odstrani izbrano pesem iz seje */</span></span>
<span id="cb144-38"><a href="P6-V6.html#cb144-38" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb144-39"><a href="P6-V6.html#cb144-39" tabindex="-1"></a>    <span class="co">// Izbriši pesem iz desnega seznama</span></span>
<span id="cb144-40"><a href="P6-V6.html#cb144-40" tabindex="-1"></a>    pesem_kosarica<span class="op">.</span><span class="fu">remove</span>()<span class="op">;</span></span>
<span id="cb144-41"><a href="P6-V6.html#cb144-41" tabindex="-1"></a>    <span class="co">// Pokaži pesem v levem seznamu</span></span>
<span id="cb144-42"><a href="P6-V6.html#cb144-42" tabindex="-1"></a>    <span class="fu">$</span>(<span class="st">&quot;#pesmi #&quot;</span> <span class="op">+</span> id)<span class="op">.</span><span class="fu">show</span>()<span class="op">;</span></span>
<span id="cb144-43"><a href="P6-V6.html#cb144-43" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb144-44"><a href="P6-V6.html#cb144-44" tabindex="-1"></a></span>
<span id="cb144-45"><a href="P6-V6.html#cb144-45" tabindex="-1"></a>  <span class="co">// Skrij pesem v levem seznamu</span></span>
<span id="cb144-46"><a href="P6-V6.html#cb144-46" tabindex="-1"></a>  <span class="fu">$</span>(<span class="st">&quot;#pesmi #&quot;</span> <span class="op">+</span> id)<span class="op">.</span><span class="fu">hide</span>()<span class="op">;</span></span>
<span id="cb144-47"><a href="P6-V6.html#cb144-47" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb144-48"><a href="P6-V6.html#cb144-48" tabindex="-1"></a></span>
<span id="cb144-49"><a href="P6-V6.html#cb144-49" tabindex="-1"></a><span class="fu">$</span>(<span class="bu">document</span>)<span class="op">.</span><span class="fu">ready</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb144-50"><a href="P6-V6.html#cb144-50" tabindex="-1"></a>  <span class="co">// Posodobi podatke iz košarice na spletni strani</span></span>
<span id="cb144-51"><a href="P6-V6.html#cb144-51" tabindex="-1"></a>  $<span class="op">.</span><span class="fu">get</span>(<span class="st">&quot;/kosarica&quot;</span><span class="op">,</span> (kosarica) <span class="kw">=&gt;</span> {</span>
<span id="cb144-52"><a href="P6-V6.html#cb144-52" tabindex="-1"></a>    kosarica<span class="op">.</span><span class="fu">forEach</span>((pesem) <span class="kw">=&gt;</span> {</span>
<span id="cb144-53"><a href="P6-V6.html#cb144-53" tabindex="-1"></a>      <span class="fu">premakniPesemIzSeznamaVKosarico</span>(</span>
<span id="cb144-54"><a href="P6-V6.html#cb144-54" tabindex="-1"></a>        pesem<span class="op">.</span><span class="at">stevilkaArtikla</span><span class="op">,</span></span>
<span id="cb144-55"><a href="P6-V6.html#cb144-55" tabindex="-1"></a>        pesem<span class="op">.</span><span class="at">opisArtikla</span><span class="op">.</span><span class="fu">split</span>(<span class="st">&quot; (&quot;</span>)[<span class="dv">0</span>]<span class="op">,</span></span>
<span id="cb144-56"><a href="P6-V6.html#cb144-56" tabindex="-1"></a>        pesem<span class="op">.</span><span class="at">opisArtikla</span><span class="op">.</span><span class="fu">split</span>(<span class="st">&quot; (&quot;</span>)[<span class="dv">1</span>]<span class="op">.</span><span class="fu">split</span>(<span class="st">&quot;)&quot;</span>)[<span class="dv">0</span>]<span class="op">,</span></span>
<span id="cb144-57"><a href="P6-V6.html#cb144-57" tabindex="-1"></a>        pesem<span class="op">.</span><span class="at">cena</span><span class="op">,</span></span>
<span id="cb144-58"><a href="P6-V6.html#cb144-58" tabindex="-1"></a>        <span class="kw">false</span></span>
<span id="cb144-59"><a href="P6-V6.html#cb144-59" tabindex="-1"></a>      )<span class="op">;</span></span>
<span id="cb144-60"><a href="P6-V6.html#cb144-60" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb144-61"><a href="P6-V6.html#cb144-61" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb144-62"><a href="P6-V6.html#cb144-62" tabindex="-1"></a></span>
<span id="cb144-63"><a href="P6-V6.html#cb144-63" tabindex="-1"></a>  <span class="co">// Klik na pesem v levem seznamu sproži</span></span>
<span id="cb144-64"><a href="P6-V6.html#cb144-64" tabindex="-1"></a>  <span class="co">// dodajanje pesmi v desni seznam (košarica)</span></span>
<span id="cb144-65"><a href="P6-V6.html#cb144-65" tabindex="-1"></a>  <span class="fu">$</span>(<span class="st">&quot;#pesmi .pesem&quot;</span>)<span class="op">.</span><span class="fu">click</span>(<span class="kw">function</span> () {</span>
<span id="cb144-66"><a href="P6-V6.html#cb144-66" tabindex="-1"></a>    <span class="kw">let</span> pesem <span class="op">=</span> <span class="fu">$</span>(<span class="kw">this</span>)<span class="op">;</span></span>
<span id="cb144-67"><a href="P6-V6.html#cb144-67" tabindex="-1"></a>    <span class="fu">premakniPesemIzSeznamaVKosarico</span>(</span>
<span id="cb144-68"><a href="P6-V6.html#cb144-68" tabindex="-1"></a>      pesem<span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;id&quot;</span>)<span class="op">,</span></span>
<span id="cb144-69"><a href="P6-V6.html#cb144-69" tabindex="-1"></a>      pesem<span class="op">.</span><span class="fu">find</span>(<span class="st">&quot;button .naziv&quot;</span>)<span class="op">.</span><span class="fu">text</span>()<span class="op">,</span></span>
<span id="cb144-70"><a href="P6-V6.html#cb144-70" tabindex="-1"></a>      pesem<span class="op">.</span><span class="fu">find</span>(<span class="st">&quot;button .izvajalec&quot;</span>)<span class="op">.</span><span class="fu">text</span>()<span class="op">,</span></span>
<span id="cb144-71"><a href="P6-V6.html#cb144-71" tabindex="-1"></a>      pesem<span class="op">.</span><span class="fu">find</span>(<span class="st">&quot;button .cena&quot;</span>)<span class="op">.</span><span class="fu">text</span>()<span class="op">,</span></span>
<span id="cb144-72"><a href="P6-V6.html#cb144-72" tabindex="-1"></a>      <span class="kw">true</span></span>
<span id="cb144-73"><a href="P6-V6.html#cb144-73" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb144-74"><a href="P6-V6.html#cb144-74" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb144-75"><a href="P6-V6.html#cb144-75" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>Slika <a href="P6-V6.html#fig:slika-Seznam-pesmi-in-kosarica#fig:slika-Seznam-pesmi-in-kosarica">13.3</a> prikazuje seznam 100 najbolje prodajanih pesmi, ki jih lahko po želji dodajamo v nakupovalno košarico.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:slika-Seznam-pesmi-in-kosarica"></span>
<img src="assets/img/P3.1_V6_Seznam_pesmi_in_kosarica.png" alt="Seznam pesmi in košarica" width="800" />
<p class="caption">
Slika 13.3: Seznam pesmi in košarica
</p>
</div>
<p>Če <strong>uporabnik 1</strong> odpre aplikacijo in napolni košarico z izbranimi pesmimi ter isto naredi <strong>uporabnik 2</strong> v drugem brskalniku, ki prav tako napolni košarico z drugimi pesmimi, se ob ponovnem nalaganju strani, pri vsakem uporabniku, neodvisno en od drugega, prikažejo prvotno izbrane pesmi.</p>
</div>
</div>
</div>
</div>
<div id="xml-in-e-slog" class="section level2 hasAnchor" number="13.5">
<h2><span class="header-section-number">13.5</span> XML in e-SLOG<a href="P6-V6.html#xml-in-e-slog" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="dokumentacija" class="section level3 hasAnchor" number="13.5.1">
<h3><span class="header-section-number">13.5.1</span> Dokumentacija<a href="P6-V6.html#dokumentacija" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Veljavno dokumentacijo za e-SLOG lahko najdemo na <a href="https://www.epos.si/eslog"><i class='fa-solid fa-earth-europe'></i>Centru za ePoslovanje Slovenije</a>.</p>
<p>V okviru našega predmeta bomo uporabljali <a href="https://epos.si/assets/docs/e-SLOG-2.0-08-2020-SL.zip"><i class='fa-solid fa-earth-europe'></i>e-SLOG eRačun 2.0</a>. Primer e-Računa v XML obliki in XSLT dokument za vizualizacijo XML računa v obliki HTML spletne strani bomo prenesli v mapo <a href="https://github.com/ois-2023-2024/P6-V6/tree/master/public/eSLOG"><i class='fa-solid fa-earth-europe'></i><code>public/eSLOG</code></a> našega projekta.</p>
</div>
<div id="dopolnitve-primera-nakupovanja-pesmi" class="section level3 hasAnchor" number="13.5.2">
<h3><span class="header-section-number">13.5.2</span> Dopolnitve primera nakupovanja pesmi<a href="P6-V6.html#dopolnitve-primera-nakupovanja-pesmi" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<blockquote>
<p>Spremembe v repozitoriju od tega koraka naprej so na voljo na uveljavitvi s sporočilom <strong>Testni primer e-Računa</strong>.</p>
</blockquote>
<div id="testni-primer-e-računa" class="section level4 hasAnchor" number="13.5.2.1">
<h4><span class="header-section-number">13.5.2.1</span> Testni primer e-Računa<a href="P6-V6.html#testni-primer-e-računa" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>V testnem primeru <a href="https://github.com/ois-2023-2024/P6-V6/blob/master/public/eSLOG/primer.xml"><i class='fa-solid fa-earth-europe'></i><code>public/eSLOG/primer.xml</code></a> se nahaja povezava na datoteko XSLT<a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a>, ki poskrbi za ustrezno vizualizacijo e-Računa.</p>
<p><code>public/eSLOG/primer.xml</code></p>
<div class="sourceCode" id="cb145"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb145-1"><a href="P6-V6.html#cb145-1" tabindex="-1"></a><span class="fu">&lt;?xml</span><span class="ot"> version=</span><span class="st">&quot;1.0&quot;</span><span class="ot"> encoding=</span><span class="st">&quot;UTF-8&quot;</span><span class="fu">?&gt;</span></span>
<span id="cb145-2"><a href="P6-V6.html#cb145-2" tabindex="-1"></a><span class="fu">&lt;?xml-stylesheet</span> type=&quot;text/xsl&quot; href=&quot;vizualizacija.xslt&quot;<span class="fu">?&gt;</span></span></code></pre></div>
<p>Za potrebe testiranja smo v projekt prenesli tudi XSLT dokument v datoteki <a href="https://github.com/ois-2023-2024/P6-V6/blob/master/public/eSLOG/vizualizacija.xslt"><i class='fa-solid fa-earth-europe'></i><code>public/eSLOG/vizualizacija.xslt</code></a>.</p>
</div>
<div id="vizualizacija-testnega-xml-dokumenta" class="section level4 hasAnchor" number="13.5.2.2">
<h4><span class="header-section-number">13.5.2.2</span> Vizualizacija testnega XML dokumenta<a href="P6-V6.html#vizualizacija-testnega-xml-dokumenta" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Če ravnokar dodani XML dokument odpremo v spletnem brskalniku na naslovu <code>http://{strežnik}/eSLOG/primer.xml</code>, vidimo, da brskalnik samodejno upošteva 2. vrstico <span class="skupaj"><code>&lt;?xml-stylesheet type="text/xsl" href="vizualizacija.xslt"?&gt;</code></span> v datoteki <code>public/eSLOG/primer.xml</code> in požene XSLT transformacijo v datoteki <code>public/eSLOG/vizualizacija.xslt</code>. To je privzeto delovanje spletnih brskalnikov, ki imajo to funkcionalnost vgrajeno.</p>
<blockquote>
<p>Več o XML dokumentih in XSLT transformacijah boste izvedeli v višjih letnikih pri predmetih, ki govorijo o <strong>storitveno usmerjenih arhitekturah (SOA)</strong>.</p>
</blockquote>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:slika-primer-xml"></span>
<img src="assets/img/P3.1_V6_primer.xml.png" alt="Primer prikaza testnega e-Računa" width="800" />
<p class="caption">
Slika 13.4: Primer prikaza testnega e-Računa
</p>
</div>
</div>
<div id="dodajanje-izpisa-e-računa-iz-nakupovalne-košarice-v-seji" class="section level4 hasAnchor" number="13.5.2.3">
<h4><span class="header-section-number">13.5.2.3</span> Dodajanje izpisa e-Računa iz nakupovalne košarice v seji<a href="P6-V6.html#dodajanje-izpisa-e-računa-iz-nakupovalne-košarice-v-seji" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<blockquote>
<p>Spremembe v repozitoriju od tega koraka naprej so na voljo na uveljavitvi s sporočilom <strong>Izpis e-Računa iz nakupovalne košarice v seji</strong>.</p>
</blockquote>
<div id="funkcionalnost-na-strežniku-eracun.js" class="section level5 hasAnchor" number="13.5.2.3.1">
<h5><span class="header-section-number">13.5.2.3.1</span> Funkcionalnost na strežniku <code>eracun.js</code><a href="P6-V6.html#funkcionalnost-na-strežniku-eracun.js" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Razvoj naše aplikacije bomo nadaljevali v datoteki <code>eracun.js</code>, kamor najprej prenesemo vsebino obstoječe datoteke <code>kosarica.js</code>, ki vsebuje implementirano košarico nad problemsko domeno 100 najbolje prodajanih pesmi iz podatkovne baze Chinook.</p>
<p>Za boljšo uporabniško izkušnjo bomo najprej podaljšali čas, po katerem seja poteče.</p>
<p><code>eracun.js</code></p>
<div class="sourceCode" id="cb146"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb146-1"><a href="P6-V6.html#cb146-1" tabindex="-1"></a><span class="co">// Podpora sejam na strežniku</span></span>
<span id="cb146-2"><a href="P6-V6.html#cb146-2" tabindex="-1"></a><span class="kw">const</span> expressSession <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;express-session&quot;</span>)<span class="op">;</span></span>
<span id="cb146-3"><a href="P6-V6.html#cb146-3" tabindex="-1"></a>streznik<span class="op">.</span><span class="fu">use</span>(</span>
<span id="cb146-4"><a href="P6-V6.html#cb146-4" tabindex="-1"></a>  <span class="fu">expressSession</span>({</span>
<span id="cb146-5"><a href="P6-V6.html#cb146-5" tabindex="-1"></a>    <span class="co">// Skrivni ključ za podpisovanje piškotov</span></span>
<span id="cb146-6"><a href="P6-V6.html#cb146-6" tabindex="-1"></a>    <span class="dt">secret</span><span class="op">:</span> <span class="st">&quot;123456789QWERTY&quot;</span><span class="op">,</span></span>
<span id="cb146-7"><a href="P6-V6.html#cb146-7" tabindex="-1"></a>    <span class="co">// Novo sejo shranimo</span></span>
<span id="cb146-8"><a href="P6-V6.html#cb146-8" tabindex="-1"></a>    <span class="dt">saveUninitialized</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb146-9"><a href="P6-V6.html#cb146-9" tabindex="-1"></a>    <span class="co">// Ne zahtevamo ponovnega shranjevanja</span></span>
<span id="cb146-10"><a href="P6-V6.html#cb146-10" tabindex="-1"></a>    <span class="dt">resave</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb146-11"><a href="P6-V6.html#cb146-11" tabindex="-1"></a>    <span class="dt">cookie</span><span class="op">:</span> {</span>
<span id="cb146-12"><a href="P6-V6.html#cb146-12" tabindex="-1"></a>      <span class="co">// Seja poteče po 60 s (1 min) 1 h neaktivnosti</span></span>
<span id="cb146-13"><a href="P6-V6.html#cb146-13" tabindex="-1"></a>      <span class="dt">maxAge</span><span class="op">:</span>   <span class="dv">60000</span><span class="op">,</span></span>
<span id="cb146-14"><a href="P6-V6.html#cb146-14" tabindex="-1"></a>      <span class="dt">maxAge</span><span class="op">:</span> <span class="dv">3600000</span><span class="op">,</span></span>
<span id="cb146-15"><a href="P6-V6.html#cb146-15" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb146-16"><a href="P6-V6.html#cb146-16" tabindex="-1"></a>  })</span>
<span id="cb146-17"><a href="P6-V6.html#cb146-17" tabindex="-1"></a>)<span class="op">;</span></span></code></pre></div>
<p>Dodati je treba tudi novo storitev <code>izpisiRacun/:oblika</code>, ki najprej pridobi pesmi iz košarice in v primeru, da le-te obstajajo zahteva XML datoteko, ki jo vrača predloga <code>eslog</code> in v tem trenutku še ne obstaja. Omenjena predloga prejme 2 parametra:</p>
<ul>
<li><code>vizualiziraj</code> predstavlja logično vrednost, na podlagi katere izberemo HTML ali XML prikaz e-Računa in</li>
<li><code>postavkeRacuna</code>, ki predstavlja seznam pesmi iz košarice in jih je potrebno vključiti v e-Račun.</li>
</ul>
<p><code>eracun.js</code></p>
<div class="sourceCode" id="cb147"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb147-1"><a href="P6-V6.html#cb147-1" tabindex="-1"></a><span class="co">// Izpis računa v HTML predstavitvi ali izvorni XML obliki</span></span>
<span id="cb147-2"><a href="P6-V6.html#cb147-2" tabindex="-1"></a>streznik<span class="op">.</span><span class="fu">get</span>(<span class="st">&quot;/izpisiRacun/:oblika&quot;</span><span class="op">,</span> (zahteva<span class="op">,</span> odgovor) <span class="kw">=&gt;</span> {</span>
<span id="cb147-3"><a href="P6-V6.html#cb147-3" tabindex="-1"></a>  <span class="fu">pesmiIzKosarice</span>(zahteva<span class="op">,</span> (pesmi) <span class="kw">=&gt;</span> {</span>
<span id="cb147-4"><a href="P6-V6.html#cb147-4" tabindex="-1"></a>    <span class="cf">if</span> (<span class="op">!</span>pesmi) {</span>
<span id="cb147-5"><a href="P6-V6.html#cb147-5" tabindex="-1"></a>      odgovor<span class="op">.</span><span class="fu">sendStatus</span>(<span class="dv">500</span>)<span class="op">;</span></span>
<span id="cb147-6"><a href="P6-V6.html#cb147-6" tabindex="-1"></a>    } <span class="cf">else</span> <span class="cf">if</span> (pesmi<span class="op">.</span><span class="at">length</span> <span class="op">==</span> <span class="dv">0</span>) {</span>
<span id="cb147-7"><a href="P6-V6.html#cb147-7" tabindex="-1"></a>      odgovor<span class="op">.</span><span class="fu">send</span>(</span>
<span id="cb147-8"><a href="P6-V6.html#cb147-8" tabindex="-1"></a>        <span class="st">&quot;&lt;p&gt;V košarici nimate nobene pesmi, zato računa ni mogoče pripraviti!&lt;/p&gt;&quot;</span></span>
<span id="cb147-9"><a href="P6-V6.html#cb147-9" tabindex="-1"></a>      )<span class="op">;</span></span>
<span id="cb147-10"><a href="P6-V6.html#cb147-10" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb147-11"><a href="P6-V6.html#cb147-11" tabindex="-1"></a>      odgovor<span class="op">.</span><span class="fu">setHeader</span>(<span class="st">&quot;Content-Type&quot;</span><span class="op">,</span> <span class="st">&quot;text/xml&quot;</span>)<span class="op">;</span></span>
<span id="cb147-12"><a href="P6-V6.html#cb147-12" tabindex="-1"></a>      odgovor<span class="op">.</span><span class="fu">render</span>(<span class="st">&quot;eslog&quot;</span><span class="op">,</span> {</span>
<span id="cb147-13"><a href="P6-V6.html#cb147-13" tabindex="-1"></a>        <span class="dt">vizualiziraj</span><span class="op">:</span> zahteva<span class="op">.</span><span class="at">params</span><span class="op">.</span><span class="at">oblika</span> <span class="op">==</span> <span class="st">&quot;html&quot;</span><span class="op">,</span></span>
<span id="cb147-14"><a href="P6-V6.html#cb147-14" tabindex="-1"></a>        <span class="dt">postavkeRacuna</span><span class="op">:</span> pesmi<span class="op">,</span></span>
<span id="cb147-15"><a href="P6-V6.html#cb147-15" tabindex="-1"></a>      })<span class="op">;</span></span>
<span id="cb147-16"><a href="P6-V6.html#cb147-16" tabindex="-1"></a>    }</span>
<span id="cb147-17"><a href="P6-V6.html#cb147-17" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb147-18"><a href="P6-V6.html#cb147-18" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>Dodamo še storitev <code>izpisiRacun</code>, ki nam privzeto vrača račun v HTML obliki.</p>
<p><code>eracun.js</code></p>
<div class="sourceCode" id="cb148"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb148-1"><a href="P6-V6.html#cb148-1" tabindex="-1"></a><span class="co">// Privzeto izpiši račun v HTML obliki</span></span>
<span id="cb148-2"><a href="P6-V6.html#cb148-2" tabindex="-1"></a>streznik<span class="op">.</span><span class="fu">get</span>(<span class="st">&quot;/izpisiRacun&quot;</span><span class="op">,</span> (zahteva<span class="op">,</span> odgovor) <span class="kw">=&gt;</span> {</span>
<span id="cb148-3"><a href="P6-V6.html#cb148-3" tabindex="-1"></a>  odgovor<span class="op">.</span><span class="fu">redirect</span>(<span class="st">&quot;/izpisiRacun/html&quot;</span>)<span class="op">;</span></span>
<span id="cb148-4"><a href="P6-V6.html#cb148-4" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
</div>
<div id="predloga-seznam.hbs-za-prikaz-spletne-strani-1" class="section level5 hasAnchor" number="13.5.2.3.2">
<h5><span class="header-section-number">13.5.2.3.2</span> Predloga <code>seznam.hbs</code> za prikaz spletne strani<a href="P6-V6.html#predloga-seznam.hbs-za-prikaz-spletne-strani-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Najprej na predlogo spletne strani <strong>dodamo (onemogočena) gumba za pripravo računa</strong> v HTML ali XML obliki.</p>
<p><code>views/seznam.hbs</code></p>
<div class="sourceCode" id="cb149"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb149-1"><a href="P6-V6.html#cb149-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;col-md-6&quot;</span><span class="dt">&gt;</span></span>
<span id="cb149-2"><a href="P6-V6.html#cb149-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">h3</span><span class="dt">&gt;&lt;</span><span class="kw">i</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;fa-solid fa-cart-shopping&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">i</span><span class="dt">&gt;</span>Nakupovalna košarica<span class="dt">&lt;/</span><span class="kw">h3</span><span class="dt">&gt;</span></span>
<span id="cb149-3"><a href="P6-V6.html#cb149-3" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">&quot;kosarica&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb149-4"><a href="P6-V6.html#cb149-4" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">button</span></span>
<span id="cb149-5"><a href="P6-V6.html#cb149-5" tabindex="-1"></a><span class="ot">    id</span><span class="op">=</span><span class="st">&quot;racun_html&quot;</span></span>
<span id="cb149-6"><a href="P6-V6.html#cb149-6" tabindex="-1"></a><span class="ot">    type</span><span class="op">=</span><span class="st">&quot;button&quot;</span></span>
<span id="cb149-7"><a href="P6-V6.html#cb149-7" tabindex="-1"></a><span class="ot">    class</span><span class="op">=</span><span class="st">&quot;btn btn-success btn-sm&quot;</span></span>
<span id="cb149-8"><a href="P6-V6.html#cb149-8" tabindex="-1"></a><span class="ot">    disabled</span></span>
<span id="cb149-9"><a href="P6-V6.html#cb149-9" tabindex="-1"></a><span class="ot">  </span><span class="dt">&gt;</span></span>
<span id="cb149-10"><a href="P6-V6.html#cb149-10" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">i</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;fa-solid fa-euro-sign&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">i</span><span class="dt">&gt;</span>Pripravi račun (HTML)</span>
<span id="cb149-11"><a href="P6-V6.html#cb149-11" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">button</span><span class="dt">&gt;</span></span>
<span id="cb149-12"><a href="P6-V6.html#cb149-12" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">button</span></span>
<span id="cb149-13"><a href="P6-V6.html#cb149-13" tabindex="-1"></a><span class="ot">    id</span><span class="op">=</span><span class="st">&quot;racun_xml&quot;</span></span>
<span id="cb149-14"><a href="P6-V6.html#cb149-14" tabindex="-1"></a><span class="ot">    type</span><span class="op">=</span><span class="st">&quot;button&quot;</span></span>
<span id="cb149-15"><a href="P6-V6.html#cb149-15" tabindex="-1"></a><span class="ot">    class</span><span class="op">=</span><span class="st">&quot;btn btn-success btn-sm&quot;</span></span>
<span id="cb149-16"><a href="P6-V6.html#cb149-16" tabindex="-1"></a><span class="ot">    disabled</span></span>
<span id="cb149-17"><a href="P6-V6.html#cb149-17" tabindex="-1"></a><span class="ot">  </span><span class="dt">&gt;</span></span>
<span id="cb149-18"><a href="P6-V6.html#cb149-18" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">i</span><span class="ot"> class</span><span class="op">=</span><span class="st">&quot;fa-solid fa-euro-sign&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">i</span><span class="dt">&gt;</span>Pripravi račun (XML)</span>
<span id="cb149-19"><a href="P6-V6.html#cb149-19" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">button</span><span class="dt">&gt;</span></span>
<span id="cb149-20"><a href="P6-V6.html#cb149-20" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span></code></pre></div>
<p>Ko odstranimo element iz košarice (dogodek klika na pesem v košarici), preverimo, ali je košarica prazna in takrat gumba ponovno onemogočimo.</p>
<p><code>public/js/script.js</code></p>
<div class="sourceCode" id="cb150"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb150-1"><a href="P6-V6.html#cb150-1" tabindex="-1"></a><span class="co">// Dogodek ob kliku na pesem v košarici (na desnem seznamu)</span></span>
<span id="cb150-2"><a href="P6-V6.html#cb150-2" tabindex="-1"></a><span class="fu">$</span>(<span class="st">&quot;#kosarica #&quot;</span> <span class="op">+</span> id)<span class="op">.</span><span class="fu">click</span>(<span class="kw">function</span> () {</span>
<span id="cb150-3"><a href="P6-V6.html#cb150-3" tabindex="-1"></a>  <span class="kw">let</span> pesem_kosarica <span class="op">=</span> <span class="fu">$</span>(<span class="kw">this</span>)<span class="op">;</span></span>
<span id="cb150-4"><a href="P6-V6.html#cb150-4" tabindex="-1"></a>  $<span class="op">.</span><span class="fu">get</span>(<span class="st">&quot;/kosarica/&quot;</span> <span class="op">+</span> id<span class="op">,</span> (podatki) <span class="kw">=&gt;</span> {</span>
<span id="cb150-5"><a href="P6-V6.html#cb150-5" tabindex="-1"></a>    <span class="co">/* Odstrani izbrano pesem iz seje */</span></span>
<span id="cb150-6"><a href="P6-V6.html#cb150-6" tabindex="-1"></a>    <span class="co">// Če je košarica prazna, onemogoči gumbe za pripravo računa</span></span>
<span id="cb150-7"><a href="P6-V6.html#cb150-7" tabindex="-1"></a>    <span class="cf">if</span> (<span class="op">!</span>podatki <span class="op">||</span> podatki<span class="op">.</span><span class="at">length</span> <span class="op">==</span> <span class="dv">0</span>) {</span>
<span id="cb150-8"><a href="P6-V6.html#cb150-8" tabindex="-1"></a>      <span class="fu">$</span>(<span class="st">&quot;#racun_html&quot;</span>)<span class="op">.</span><span class="fu">prop</span>(<span class="st">&quot;disabled&quot;</span><span class="op">,</span> <span class="kw">true</span>)<span class="op">;</span></span>
<span id="cb150-9"><a href="P6-V6.html#cb150-9" tabindex="-1"></a>      <span class="fu">$</span>(<span class="st">&quot;#racun_xml&quot;</span>)<span class="op">.</span><span class="fu">prop</span>(<span class="st">&quot;disabled&quot;</span><span class="op">,</span> <span class="kw">true</span>)<span class="op">;</span></span>
<span id="cb150-10"><a href="P6-V6.html#cb150-10" tabindex="-1"></a>    }</span>
<span id="cb150-11"><a href="P6-V6.html#cb150-11" tabindex="-1"></a>  })</span>
<span id="cb150-12"><a href="P6-V6.html#cb150-12" tabindex="-1"></a>  <span class="co">// Izbriši pesem iz desnega seznama</span></span>
<span id="cb150-13"><a href="P6-V6.html#cb150-13" tabindex="-1"></a>  pesem_kosarica<span class="op">.</span><span class="fu">remove</span>()<span class="op">;</span></span>
<span id="cb150-14"><a href="P6-V6.html#cb150-14" tabindex="-1"></a>  <span class="co">// Pokaži pesem v levem seznamu</span></span>
<span id="cb150-15"><a href="P6-V6.html#cb150-15" tabindex="-1"></a>  <span class="fu">$</span>(<span class="st">&quot;#pesmi #&quot;</span> <span class="op">+</span> id)<span class="op">.</span><span class="fu">show</span>()<span class="op">;</span></span>
<span id="cb150-16"><a href="P6-V6.html#cb150-16" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>Ko dodamo element iz seznama v košarico, gumb omogočimo.</p>
<p><code>public/js/script.js</code></p>
<div class="sourceCode" id="cb151"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb151-1"><a href="P6-V6.html#cb151-1" tabindex="-1"></a><span class="kw">const</span> premakniPesemIzSeznamaVKosarico <span class="op">=</span> (id<span class="op">,</span> naziv<span class="op">,</span> izvajalec<span class="op">,</span> cena<span class="op">,</span> azuriraj) <span class="kw">=&gt;</span> {</span>
<span id="cb151-2"><a href="P6-V6.html#cb151-2" tabindex="-1"></a>  <span class="op">...</span></span>
<span id="cb151-3"><a href="P6-V6.html#cb151-3" tabindex="-1"></a>  <span class="co">// Skrij pesem v levem seznamu</span></span>
<span id="cb151-4"><a href="P6-V6.html#cb151-4" tabindex="-1"></a>  <span class="fu">$</span>(<span class="st">&quot;#pesmi #&quot;</span> <span class="op">+</span> id)<span class="op">.</span><span class="fu">hide</span>()<span class="op">;</span></span>
<span id="cb151-5"><a href="P6-V6.html#cb151-5" tabindex="-1"></a>  <span class="co">// Ker košarica ni prazna, omogoči gumbe za pripravo računa</span></span>
<span id="cb151-6"><a href="P6-V6.html#cb151-6" tabindex="-1"></a>  <span class="fu">$</span>(<span class="st">&quot;#racun_html&quot;</span>)<span class="op">.</span><span class="fu">prop</span>(<span class="st">&quot;disabled&quot;</span><span class="op">,</span> <span class="kw">false</span>)<span class="op">;</span></span>
<span id="cb151-7"><a href="P6-V6.html#cb151-7" tabindex="-1"></a>  <span class="fu">$</span>(<span class="st">&quot;#racun_xml&quot;</span>)<span class="op">.</span><span class="fu">prop</span>(<span class="st">&quot;disabled&quot;</span><span class="op">,</span> <span class="kw">false</span>)<span class="op">;</span></span>
<span id="cb151-8"><a href="P6-V6.html#cb151-8" tabindex="-1"></a>}<span class="op">;</span></span></code></pre></div>
<p>Dodamo tudi klic storitve na strežniku ob kliku na oba gumba.</p>
<p><code>public/js/script.js</code></p>
<div class="sourceCode" id="cb152"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb152-1"><a href="P6-V6.html#cb152-1" tabindex="-1"></a><span class="fu">$</span>(<span class="bu">document</span>)<span class="op">.</span><span class="fu">ready</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb152-2"><a href="P6-V6.html#cb152-2" tabindex="-1"></a>  <span class="op">...</span></span>
<span id="cb152-3"><a href="P6-V6.html#cb152-3" tabindex="-1"></a>  <span class="co">// Klik na gumba za pripravo računov</span></span>
<span id="cb152-4"><a href="P6-V6.html#cb152-4" tabindex="-1"></a>  <span class="fu">$</span>(<span class="st">&quot;#racun_html&quot;</span>)<span class="op">.</span><span class="fu">click</span>(() <span class="kw">=&gt;</span> <span class="bu">window</span><span class="op">.</span><span class="at">location</span> <span class="op">=</span> <span class="st">&quot;/izpisiRacun/html&quot;</span>)<span class="op">;</span></span>
<span id="cb152-5"><a href="P6-V6.html#cb152-5" tabindex="-1"></a>  <span class="fu">$</span>(<span class="st">&quot;#racun_xml&quot;</span>)<span class="op">.</span><span class="fu">click</span>(() <span class="kw">=&gt;</span> <span class="bu">window</span><span class="op">.</span><span class="at">location</span> <span class="op">=</span> <span class="st">&quot;/izpisiRacun/xml&quot;</span>)<span class="op">;</span></span>
<span id="cb152-6"><a href="P6-V6.html#cb152-6" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
</div>
<div id="predloga-eslog.hbs-za-prikaz-e-računa" class="section level5 hasAnchor" number="13.5.2.3.3">
<h5><span class="header-section-number">13.5.2.3.3</span> Predloga <code>eslog.hbs</code> za prikaz e-Računa<a href="P6-V6.html#predloga-eslog.hbs-za-prikaz-e-računa" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Za predlogo enostavnega e-Računa bomo uporabili kar primer e-Računa v datoteki <code>public/eSLOG/primer.xml</code>. Na prvi pogled izgleda zelo kompleksna, saj vsebuje več kot 500 vrstic, ki predstavljajo implementacijo standarda e-SLOG.</p>
<p>Opazimo lahko, da je v 3. vrstici predloge e-Računa opredeljena povezava do transformacijske datoteke <code>vizualizacija.xslt</code>, če želimo račun prikazati v HTML obliki, kar določa logična vrednost parametra <code>vizualiziraj</code>.</p>
<p><code>views/eslog.hbs</code></p>
<div class="sourceCode" id="cb153"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb153-1"><a href="P6-V6.html#cb153-1" tabindex="-1"></a><span class="fu">&lt;?xml</span><span class="ot"> version=</span><span class="st">&quot;1.0&quot;</span><span class="ot"> encoding=</span><span class="st">&quot;UTF-8&quot;</span><span class="fu">?&gt;</span></span>
<span id="cb153-2"><a href="P6-V6.html#cb153-2" tabindex="-1"></a>{{#if vizualiziraj}}</span>
<span id="cb153-3"><a href="P6-V6.html#cb153-3" tabindex="-1"></a><span class="fu">&lt;?xml-stylesheet</span> type=&quot;text/xsl&quot; href=&quot;../eSLOG/vizualizacija.xslt&quot;<span class="fu">?&gt;</span></span>
<span id="cb153-4"><a href="P6-V6.html#cb153-4" tabindex="-1"></a>{{/if}}</span></code></pre></div>
<p>Najpomembnejši del predloge e-Računa z vidika dodajanja obstoječih pesmi na račun se nahaja v okviru oznak <code>&lt;PostavkeRacuna&gt;</code>. V tem delu se v zanki sprehodimo čez vse pesmi v košarici in za vsako pesem pridobimo shranjene podatke.</p>
<p>Nato v nadaljevanju zgolj na ustrezna mesta na računu izpišemo zahtevane podatke.</p>
<p><code>views/eslog.hbs</code></p>
<div class="sourceCode" id="cb154"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb154-1"><a href="P6-V6.html#cb154-1" tabindex="-1"></a>{{#each postavkeRacuna as |postavkaRacuna|}}</span>
<span id="cb154-2"><a href="P6-V6.html#cb154-2" tabindex="-1"></a>&lt;<span class="kw">G_SG26</span>&gt;</span>
<span id="cb154-3"><a href="P6-V6.html#cb154-3" tabindex="-1"></a>  &lt;<span class="kw">S_LIN</span>&gt;</span>
<span id="cb154-4"><a href="P6-V6.html#cb154-4" tabindex="-1"></a>    <span class="co">&lt;!-- BT-126: A unique identifier for the individual line within the Invoice. --&gt;</span></span>
<span id="cb154-5"><a href="P6-V6.html#cb154-5" tabindex="-1"></a>    &lt;<span class="kw">D_1082</span>&gt;{{ postavkaRacuna.zapSt }}&lt;/<span class="kw">D_1082</span>&gt;</span>
<span id="cb154-6"><a href="P6-V6.html#cb154-6" tabindex="-1"></a>  &lt;/<span class="kw">S_LIN</span>&gt;</span>
<span id="cb154-7"><a href="P6-V6.html#cb154-7" tabindex="-1"></a>  <span class="co">&lt;!-- BT-146: Neto cena postavke --&gt;</span></span>
<span id="cb154-8"><a href="P6-V6.html#cb154-8" tabindex="-1"></a>  <span class="co">&lt;!-- /Invoice/M_INVOIC/G_SG26/G_SG29[S_PRI/C_C509/D_5125=&#39;AAA&#39;]/S_PRI/C_C509/D_5118 --&gt;</span></span>
<span id="cb154-9"><a href="P6-V6.html#cb154-9" tabindex="-1"></a>  &lt;<span class="kw">G_SG29</span>&gt;</span>
<span id="cb154-10"><a href="P6-V6.html#cb154-10" tabindex="-1"></a>    &lt;<span class="kw">S_PRI</span>&gt;</span>
<span id="cb154-11"><a href="P6-V6.html#cb154-11" tabindex="-1"></a>      &lt;<span class="kw">C_C509</span>&gt;</span>
<span id="cb154-12"><a href="P6-V6.html#cb154-12" tabindex="-1"></a>        &lt;<span class="kw">D_5125</span>&gt;AAA&lt;/<span class="kw">D_5125</span>&gt;</span>
<span id="cb154-13"><a href="P6-V6.html#cb154-13" tabindex="-1"></a>      &lt;/<span class="kw">C_C509</span>&gt;</span>
<span id="cb154-14"><a href="P6-V6.html#cb154-14" tabindex="-1"></a>    &lt;/<span class="kw">S_PRI</span>&gt;</span>
<span id="cb154-15"><a href="P6-V6.html#cb154-15" tabindex="-1"></a>    &lt;<span class="kw">S_PRI</span>&gt;</span>
<span id="cb154-16"><a href="P6-V6.html#cb154-16" tabindex="-1"></a>      &lt;<span class="kw">C_C509</span>&gt;</span>
<span id="cb154-17"><a href="P6-V6.html#cb154-17" tabindex="-1"></a>        &lt;<span class="kw">D_5118</span>&gt;{{ postavkaRacuna.cena }}&lt;/<span class="kw">D_5118</span>&gt;</span>
<span id="cb154-18"><a href="P6-V6.html#cb154-18" tabindex="-1"></a>      &lt;/<span class="kw">C_C509</span>&gt;</span>
<span id="cb154-19"><a href="P6-V6.html#cb154-19" tabindex="-1"></a>    &lt;/<span class="kw">S_PRI</span>&gt;</span>
<span id="cb154-20"><a href="P6-V6.html#cb154-20" tabindex="-1"></a>  &lt;/<span class="kw">G_SG29</span>&gt;</span>
<span id="cb154-21"><a href="P6-V6.html#cb154-21" tabindex="-1"></a>  <span class="co">&lt;!-- BT-138: Odstotek popusta vrstice računa --&gt;</span></span>
<span id="cb154-22"><a href="P6-V6.html#cb154-22" tabindex="-1"></a>  <span class="co">&lt;!-- /Invoice/M_INVOIC/G_SG26/G_SG39[S_ALC/D_5463=&#39;A&#39;]/G_SG41[S_PCD/C_C501/D_5245=&#39;1&#39;]/S_PCD/C_C501/D_5482 --&gt;</span></span>
<span id="cb154-23"><a href="P6-V6.html#cb154-23" tabindex="-1"></a>  &lt;<span class="kw">G_SG39</span>&gt;</span>
<span id="cb154-24"><a href="P6-V6.html#cb154-24" tabindex="-1"></a>    &lt;<span class="kw">S_ALC</span>&gt;</span>
<span id="cb154-25"><a href="P6-V6.html#cb154-25" tabindex="-1"></a>      &lt;<span class="kw">D_5463</span>&gt;A&lt;/<span class="kw">D_5463</span>&gt;</span>
<span id="cb154-26"><a href="P6-V6.html#cb154-26" tabindex="-1"></a>    &lt;/<span class="kw">S_ALC</span>&gt;</span>
<span id="cb154-27"><a href="P6-V6.html#cb154-27" tabindex="-1"></a>    &lt;<span class="kw">G_SG41</span>&gt;</span>
<span id="cb154-28"><a href="P6-V6.html#cb154-28" tabindex="-1"></a>      &lt;<span class="kw">S_PCD</span>&gt;</span>
<span id="cb154-29"><a href="P6-V6.html#cb154-29" tabindex="-1"></a>        &lt;<span class="kw">C_C501</span>&gt;</span>
<span id="cb154-30"><a href="P6-V6.html#cb154-30" tabindex="-1"></a>          &lt;<span class="kw">D_5245</span>&gt;1&lt;/<span class="kw">D_5245</span>&gt;</span>
<span id="cb154-31"><a href="P6-V6.html#cb154-31" tabindex="-1"></a>        &lt;/<span class="kw">C_C501</span>&gt;</span>
<span id="cb154-32"><a href="P6-V6.html#cb154-32" tabindex="-1"></a>      &lt;/<span class="kw">S_PCD</span>&gt;</span>
<span id="cb154-33"><a href="P6-V6.html#cb154-33" tabindex="-1"></a>      &lt;<span class="kw">S_PCD</span>&gt;</span>
<span id="cb154-34"><a href="P6-V6.html#cb154-34" tabindex="-1"></a>        &lt;<span class="kw">C_C501</span>&gt;</span>
<span id="cb154-35"><a href="P6-V6.html#cb154-35" tabindex="-1"></a>          &lt;<span class="kw">D_5482</span>&gt;{{ postavkaRacuna.popustStopnja }}&lt;/<span class="kw">D_5482</span>&gt;</span>
<span id="cb154-36"><a href="P6-V6.html#cb154-36" tabindex="-1"></a>        &lt;/<span class="kw">C_C501</span>&gt;</span>
<span id="cb154-37"><a href="P6-V6.html#cb154-37" tabindex="-1"></a>      &lt;/<span class="kw">S_PCD</span>&gt;</span>
<span id="cb154-38"><a href="P6-V6.html#cb154-38" tabindex="-1"></a>    &lt;/<span class="kw">G_SG41</span>&gt;</span>
<span id="cb154-39"><a href="P6-V6.html#cb154-39" tabindex="-1"></a>  &lt;/<span class="kw">G_SG39</span>&gt;</span>
<span id="cb154-40"><a href="P6-V6.html#cb154-40" tabindex="-1"></a>  <span class="co">&lt;!-- BT-137: Popust na enoto --&gt;</span></span>
<span id="cb154-41"><a href="P6-V6.html#cb154-41" tabindex="-1"></a>  <span class="co">&lt;!-- /Invoice/M_INVOIC/G_SG26/G_SG39[S_ALC/D_5463=&#39;A&#39;]/G_SG42[S_MOA/C_C516/D_5025=&#39;25&#39;]/S_MOA/C_C516/D_5004 --&gt;</span></span>
<span id="cb154-42"><a href="P6-V6.html#cb154-42" tabindex="-1"></a>  &lt;<span class="kw">G_SG39</span>&gt;</span>
<span id="cb154-43"><a href="P6-V6.html#cb154-43" tabindex="-1"></a>    &lt;<span class="kw">S_ALC</span>&gt;</span>
<span id="cb154-44"><a href="P6-V6.html#cb154-44" tabindex="-1"></a>      &lt;<span class="kw">D_5463</span>&gt;A&lt;/<span class="kw">D_5463</span>&gt;</span>
<span id="cb154-45"><a href="P6-V6.html#cb154-45" tabindex="-1"></a>    &lt;/<span class="kw">S_ALC</span>&gt;</span>
<span id="cb154-46"><a href="P6-V6.html#cb154-46" tabindex="-1"></a>    &lt;<span class="kw">G_SG42</span>&gt;</span>
<span id="cb154-47"><a href="P6-V6.html#cb154-47" tabindex="-1"></a>      &lt;<span class="kw">S_MOA</span>&gt;</span>
<span id="cb154-48"><a href="P6-V6.html#cb154-48" tabindex="-1"></a>        &lt;<span class="kw">C_C516</span>&gt;</span>
<span id="cb154-49"><a href="P6-V6.html#cb154-49" tabindex="-1"></a>          &lt;<span class="kw">D_5025</span>&gt;25&lt;/<span class="kw">D_5025</span>&gt;</span>
<span id="cb154-50"><a href="P6-V6.html#cb154-50" tabindex="-1"></a>        &lt;/<span class="kw">C_C516</span>&gt;</span>
<span id="cb154-51"><a href="P6-V6.html#cb154-51" tabindex="-1"></a>      &lt;/<span class="kw">S_MOA</span>&gt;</span>
<span id="cb154-52"><a href="P6-V6.html#cb154-52" tabindex="-1"></a>      &lt;<span class="kw">S_MOA</span>&gt;</span>
<span id="cb154-53"><a href="P6-V6.html#cb154-53" tabindex="-1"></a>        &lt;<span class="kw">C_C516</span>&gt;</span>
<span id="cb154-54"><a href="P6-V6.html#cb154-54" tabindex="-1"></a>          &lt;<span class="kw">D_5004</span>&gt;{{ postavkaRacuna.vrednost }}&lt;/<span class="kw">D_5004</span>&gt;</span>
<span id="cb154-55"><a href="P6-V6.html#cb154-55" tabindex="-1"></a>        &lt;/<span class="kw">C_C516</span>&gt;</span>
<span id="cb154-56"><a href="P6-V6.html#cb154-56" tabindex="-1"></a>      &lt;/<span class="kw">S_MOA</span>&gt;</span>
<span id="cb154-57"><a href="P6-V6.html#cb154-57" tabindex="-1"></a>    &lt;/<span class="kw">G_SG42</span>&gt;</span>
<span id="cb154-58"><a href="P6-V6.html#cb154-58" tabindex="-1"></a>  &lt;/<span class="kw">G_SG39</span>&gt;</span>
<span id="cb154-59"><a href="P6-V6.html#cb154-59" tabindex="-1"></a>  <span class="co">&lt;!-- Znesek popusta vrstice računa --&gt;</span></span>
<span id="cb154-60"><a href="P6-V6.html#cb154-60" tabindex="-1"></a>  <span class="co">&lt;!-- /Invoice/M_INVOIC/G_SG26/G_SG39[S_ALC/D_5463=&#39;A&#39;]/G_SG42[S_MOA/C_C516/D_5025=&#39;204&#39;]/S_MOA/C_C516/D_5004 --&gt;</span></span>
<span id="cb154-61"><a href="P6-V6.html#cb154-61" tabindex="-1"></a>  &lt;<span class="kw">G_SG39</span>&gt;</span>
<span id="cb154-62"><a href="P6-V6.html#cb154-62" tabindex="-1"></a>    &lt;<span class="kw">G_SG42</span>&gt;</span>
<span id="cb154-63"><a href="P6-V6.html#cb154-63" tabindex="-1"></a>      &lt;<span class="kw">S_MOA</span>&gt;</span>
<span id="cb154-64"><a href="P6-V6.html#cb154-64" tabindex="-1"></a>        &lt;<span class="kw">C_C516</span>&gt;</span>
<span id="cb154-65"><a href="P6-V6.html#cb154-65" tabindex="-1"></a>          &lt;<span class="kw">D_5025</span>&gt;204&lt;/<span class="kw">D_5025</span>&gt;</span>
<span id="cb154-66"><a href="P6-V6.html#cb154-66" tabindex="-1"></a>        &lt;/<span class="kw">C_C516</span>&gt;</span>
<span id="cb154-67"><a href="P6-V6.html#cb154-67" tabindex="-1"></a>      &lt;/<span class="kw">S_MOA</span>&gt;</span>
<span id="cb154-68"><a href="P6-V6.html#cb154-68" tabindex="-1"></a>      &lt;<span class="kw">S_MOA</span>&gt;</span>
<span id="cb154-69"><a href="P6-V6.html#cb154-69" tabindex="-1"></a>        &lt;<span class="kw">C_C516</span>&gt;</span>
<span id="cb154-70"><a href="P6-V6.html#cb154-70" tabindex="-1"></a>          &lt;<span class="kw">D_5004</span>&gt;{{ postavkaRacuna.popust }}&lt;/<span class="kw">D_5004</span>&gt;</span>
<span id="cb154-71"><a href="P6-V6.html#cb154-71" tabindex="-1"></a>        &lt;/<span class="kw">C_C516</span>&gt;</span>
<span id="cb154-72"><a href="P6-V6.html#cb154-72" tabindex="-1"></a>      &lt;/<span class="kw">S_MOA</span>&gt;</span>
<span id="cb154-73"><a href="P6-V6.html#cb154-73" tabindex="-1"></a>    &lt;/<span class="kw">G_SG42</span>&gt;</span>
<span id="cb154-74"><a href="P6-V6.html#cb154-74" tabindex="-1"></a>    &lt;<span class="kw">S_ALC</span>&gt;</span>
<span id="cb154-75"><a href="P6-V6.html#cb154-75" tabindex="-1"></a>      &lt;<span class="kw">D_5463</span>&gt;A&lt;/<span class="kw">D_5463</span>&gt;</span>
<span id="cb154-76"><a href="P6-V6.html#cb154-76" tabindex="-1"></a>    &lt;/<span class="kw">S_ALC</span>&gt;</span>
<span id="cb154-77"><a href="P6-V6.html#cb154-77" tabindex="-1"></a>  &lt;/<span class="kw">G_SG39</span>&gt;</span>
<span id="cb154-78"><a href="P6-V6.html#cb154-78" tabindex="-1"></a>  <span class="co">&lt;!-- BT-157: Identifikator standarda postavke --&gt;</span></span>
<span id="cb154-79"><a href="P6-V6.html#cb154-79" tabindex="-1"></a>  <span class="co">&lt;!-- /Invoice/M_INVOIC/G_SG26/S_LIN/C_C212/D_7140 --&gt;</span></span>
<span id="cb154-80"><a href="P6-V6.html#cb154-80" tabindex="-1"></a>  &lt;<span class="kw">S_LIN</span>&gt;</span>
<span id="cb154-81"><a href="P6-V6.html#cb154-81" tabindex="-1"></a>    &lt;<span class="kw">C_C212</span>&gt;</span>
<span id="cb154-82"><a href="P6-V6.html#cb154-82" tabindex="-1"></a>      &lt;<span class="kw">D_7140</span>&gt;{{ postavkaRacuna.stevilkaArtikla }}&lt;/<span class="kw">D_7140</span>&gt;</span>
<span id="cb154-83"><a href="P6-V6.html#cb154-83" tabindex="-1"></a>    &lt;/<span class="kw">C_C212</span>&gt;</span>
<span id="cb154-84"><a href="P6-V6.html#cb154-84" tabindex="-1"></a>  &lt;/<span class="kw">S_LIN</span>&gt;</span>
<span id="cb154-85"><a href="P6-V6.html#cb154-85" tabindex="-1"></a>  &lt;<span class="kw">S_IMD</span>&gt;</span>
<span id="cb154-86"><a href="P6-V6.html#cb154-86" tabindex="-1"></a>    &lt;<span class="kw">D_7077</span>&gt;F&lt;/<span class="kw">D_7077</span>&gt;</span>
<span id="cb154-87"><a href="P6-V6.html#cb154-87" tabindex="-1"></a>    &lt;<span class="kw">C_C273</span>&gt;</span>
<span id="cb154-88"><a href="P6-V6.html#cb154-88" tabindex="-1"></a>      <span class="co">&lt;!-- BT-153: A name for an item. --&gt;</span></span>
<span id="cb154-89"><a href="P6-V6.html#cb154-89" tabindex="-1"></a>      &lt;<span class="kw">D_7008</span>&gt;{{ postavkaRacuna.opisArtikla }}&lt;/<span class="kw">D_7008</span>&gt;</span>
<span id="cb154-90"><a href="P6-V6.html#cb154-90" tabindex="-1"></a>    &lt;/<span class="kw">C_C273</span>&gt;</span>
<span id="cb154-91"><a href="P6-V6.html#cb154-91" tabindex="-1"></a>  &lt;/<span class="kw">S_IMD</span>&gt;</span>
<span id="cb154-92"><a href="P6-V6.html#cb154-92" tabindex="-1"></a>  &lt;<span class="kw">S_QTY</span>&gt;</span>
<span id="cb154-93"><a href="P6-V6.html#cb154-93" tabindex="-1"></a>    &lt;<span class="kw">C_C186</span>&gt;</span>
<span id="cb154-94"><a href="P6-V6.html#cb154-94" tabindex="-1"></a>      &lt;<span class="kw">D_6063</span>&gt;47&lt;/<span class="kw">D_6063</span>&gt;</span>
<span id="cb154-95"><a href="P6-V6.html#cb154-95" tabindex="-1"></a>      <span class="co">&lt;!-- BT-129: The quantity of items (goods or services) that is charged in the Invoice line. --&gt;</span></span>
<span id="cb154-96"><a href="P6-V6.html#cb154-96" tabindex="-1"></a>      &lt;<span class="kw">D_6060</span>&gt;{{ postavkaRacuna.kolicina }}&lt;/<span class="kw">D_6060</span>&gt;</span>
<span id="cb154-97"><a href="P6-V6.html#cb154-97" tabindex="-1"></a>      <span class="co">&lt;!-- BT-130: The unit of measure that applies to the invoiced quantity. --&gt;</span></span>
<span id="cb154-98"><a href="P6-V6.html#cb154-98" tabindex="-1"></a>      &lt;<span class="kw">D_6411</span>&gt;Pesem&lt;/<span class="kw">D_6411</span>&gt;</span>
<span id="cb154-99"><a href="P6-V6.html#cb154-99" tabindex="-1"></a>    &lt;/<span class="kw">C_C186</span>&gt;</span>
<span id="cb154-100"><a href="P6-V6.html#cb154-100" tabindex="-1"></a>  &lt;/<span class="kw">S_QTY</span>&gt;</span>
<span id="cb154-101"><a href="P6-V6.html#cb154-101" tabindex="-1"></a>  &lt;<span class="kw">G_SG27</span>&gt;</span>
<span id="cb154-102"><a href="P6-V6.html#cb154-102" tabindex="-1"></a>    &lt;<span class="kw">S_MOA</span>&gt;</span>
<span id="cb154-103"><a href="P6-V6.html#cb154-103" tabindex="-1"></a>      &lt;<span class="kw">C_C516</span>&gt;</span>
<span id="cb154-104"><a href="P6-V6.html#cb154-104" tabindex="-1"></a>        &lt;<span class="kw">D_5025</span>&gt;203&lt;/<span class="kw">D_5025</span>&gt;</span>
<span id="cb154-105"><a href="P6-V6.html#cb154-105" tabindex="-1"></a>        <span class="co">&lt;!-- BT-131: The total amount of the Invoice line. --&gt;</span></span>
<span id="cb154-106"><a href="P6-V6.html#cb154-106" tabindex="-1"></a>        &lt;<span class="kw">D_5004</span>&gt;{{ postavkaRacuna.vrednost }}&lt;/<span class="kw">D_5004</span>&gt;</span>
<span id="cb154-107"><a href="P6-V6.html#cb154-107" tabindex="-1"></a>      &lt;/<span class="kw">C_C516</span>&gt;</span>
<span id="cb154-108"><a href="P6-V6.html#cb154-108" tabindex="-1"></a>    &lt;/<span class="kw">S_MOA</span>&gt;</span>
<span id="cb154-109"><a href="P6-V6.html#cb154-109" tabindex="-1"></a>  &lt;/<span class="kw">G_SG27</span>&gt;</span>
<span id="cb154-110"><a href="P6-V6.html#cb154-110" tabindex="-1"></a>  &lt;<span class="kw">G_SG27</span>&gt;</span>
<span id="cb154-111"><a href="P6-V6.html#cb154-111" tabindex="-1"></a>    &lt;<span class="kw">S_MOA</span>&gt;</span>
<span id="cb154-112"><a href="P6-V6.html#cb154-112" tabindex="-1"></a>      &lt;<span class="kw">C_C516</span>&gt;</span>
<span id="cb154-113"><a href="P6-V6.html#cb154-113" tabindex="-1"></a>        &lt;<span class="kw">D_5025</span>&gt;38&lt;/<span class="kw">D_5025</span>&gt;</span>
<span id="cb154-114"><a href="P6-V6.html#cb154-114" tabindex="-1"></a>        <span class="co">&lt;!-- NBT-031: The total amount of the Invoice line including VAT. --&gt;</span></span>
<span id="cb154-115"><a href="P6-V6.html#cb154-115" tabindex="-1"></a>        &lt;<span class="kw">D_5004</span>&gt;{{ postavkaRacuna.osnovaZaDdvInDdv }}&lt;/<span class="kw">D_5004</span>&gt;</span>
<span id="cb154-116"><a href="P6-V6.html#cb154-116" tabindex="-1"></a>      &lt;/<span class="kw">C_C516</span>&gt;</span>
<span id="cb154-117"><a href="P6-V6.html#cb154-117" tabindex="-1"></a>    &lt;/<span class="kw">S_MOA</span>&gt;</span>
<span id="cb154-118"><a href="P6-V6.html#cb154-118" tabindex="-1"></a>  &lt;/<span class="kw">G_SG27</span>&gt;</span>
<span id="cb154-119"><a href="P6-V6.html#cb154-119" tabindex="-1"></a>  &lt;<span class="kw">G_SG34</span>&gt;</span>
<span id="cb154-120"><a href="P6-V6.html#cb154-120" tabindex="-1"></a>    &lt;<span class="kw">S_TAX</span>&gt;</span>
<span id="cb154-121"><a href="P6-V6.html#cb154-121" tabindex="-1"></a>      &lt;<span class="kw">D_5283</span>&gt;7&lt;/<span class="kw">D_5283</span>&gt;</span>
<span id="cb154-122"><a href="P6-V6.html#cb154-122" tabindex="-1"></a>      &lt;<span class="kw">C_C241</span>&gt;</span>
<span id="cb154-123"><a href="P6-V6.html#cb154-123" tabindex="-1"></a>        &lt;<span class="kw">D_5153</span>&gt;VAT&lt;/<span class="kw">D_5153</span>&gt;</span>
<span id="cb154-124"><a href="P6-V6.html#cb154-124" tabindex="-1"></a>      &lt;/<span class="kw">C_C241</span>&gt;</span>
<span id="cb154-125"><a href="P6-V6.html#cb154-125" tabindex="-1"></a>      &lt;<span class="kw">C_C243</span>&gt;</span>
<span id="cb154-126"><a href="P6-V6.html#cb154-126" tabindex="-1"></a>        &lt;<span class="kw">D_5278</span>&gt;{{ postavkaRacuna.davcnaStopnja }}&lt;/<span class="kw">D_5278</span>&gt;</span>
<span id="cb154-127"><a href="P6-V6.html#cb154-127" tabindex="-1"></a>      &lt;/<span class="kw">C_C243</span>&gt;</span>
<span id="cb154-128"><a href="P6-V6.html#cb154-128" tabindex="-1"></a>    &lt;/<span class="kw">S_TAX</span>&gt;</span>
<span id="cb154-129"><a href="P6-V6.html#cb154-129" tabindex="-1"></a>    &lt;<span class="kw">S_MOA</span>&gt;</span>
<span id="cb154-130"><a href="P6-V6.html#cb154-130" tabindex="-1"></a>      &lt;<span class="kw">C_C516</span>&gt;</span>
<span id="cb154-131"><a href="P6-V6.html#cb154-131" tabindex="-1"></a>        &lt;<span class="kw">D_5025</span>&gt;125&lt;/<span class="kw">D_5025</span>&gt;</span>
<span id="cb154-132"><a href="P6-V6.html#cb154-132" tabindex="-1"></a>        &lt;<span class="kw">D_5004</span>&gt;{{ postavkaRacuna.osnovaZaDdv }}&lt;/<span class="kw">D_5004</span>&gt;</span>
<span id="cb154-133"><a href="P6-V6.html#cb154-133" tabindex="-1"></a>      &lt;/<span class="kw">C_C516</span>&gt;</span>
<span id="cb154-134"><a href="P6-V6.html#cb154-134" tabindex="-1"></a>    &lt;/<span class="kw">S_MOA</span>&gt;</span>
<span id="cb154-135"><a href="P6-V6.html#cb154-135" tabindex="-1"></a>    &lt;<span class="kw">S_MOA</span>&gt;</span>
<span id="cb154-136"><a href="P6-V6.html#cb154-136" tabindex="-1"></a>      &lt;<span class="kw">C_C516</span>&gt;</span>
<span id="cb154-137"><a href="P6-V6.html#cb154-137" tabindex="-1"></a>        &lt;<span class="kw">D_5025</span>&gt;124&lt;/<span class="kw">D_5025</span>&gt;</span>
<span id="cb154-138"><a href="P6-V6.html#cb154-138" tabindex="-1"></a>        &lt;<span class="kw">D_5004</span>&gt;{{ postavkaRacuna.ddv }}&lt;/<span class="kw">D_5004</span>&gt;</span>
<span id="cb154-139"><a href="P6-V6.html#cb154-139" tabindex="-1"></a>      &lt;/<span class="kw">C_C516</span>&gt;</span>
<span id="cb154-140"><a href="P6-V6.html#cb154-140" tabindex="-1"></a>    &lt;/<span class="kw">S_MOA</span>&gt;</span>
<span id="cb154-141"><a href="P6-V6.html#cb154-141" tabindex="-1"></a>  &lt;/<span class="kw">G_SG34</span>&gt;</span>
<span id="cb154-142"><a href="P6-V6.html#cb154-142" tabindex="-1"></a>  <span class="co">&lt;!-- POPUSTI --&gt;</span></span>
<span id="cb154-143"><a href="P6-V6.html#cb154-143" tabindex="-1"></a>&lt;/<span class="kw">G_SG26</span>&gt;</span>
<span id="cb154-144"><a href="P6-V6.html#cb154-144" tabindex="-1"></a>{{/each}}</span></code></pre></div>
<p>Na ravni celotnega računa za vse pesmi v datoteki <code>eracun.js</code> agregiramo tudi podatke o skupnem popustu, davkih, osnovi za DDV in vrednosti.</p>
<p><code>eracun.js</code></p>
<div class="sourceCode" id="cb155"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb155-1"><a href="P6-V6.html#cb155-1" tabindex="-1"></a><span class="co">// Izpis računa v HTML predstavitvi ali izvorni XML obliki</span></span>
<span id="cb155-2"><a href="P6-V6.html#cb155-2" tabindex="-1"></a>streznik<span class="op">.</span><span class="fu">get</span>(<span class="st">&quot;/izpisiRacun/:oblika&quot;</span><span class="op">,</span> (zahteva<span class="op">,</span> odgovor) <span class="kw">=&gt;</span> {</span>
<span id="cb155-3"><a href="P6-V6.html#cb155-3" tabindex="-1"></a>  <span class="fu">pesmiIzKosarice</span>(zahteva<span class="op">,</span> (pesmi) <span class="kw">=&gt;</span> {</span>
<span id="cb155-4"><a href="P6-V6.html#cb155-4" tabindex="-1"></a>    <span class="cf">if</span> (<span class="op">!</span>pesmi) {</span>
<span id="cb155-5"><a href="P6-V6.html#cb155-5" tabindex="-1"></a>      odgovor<span class="op">.</span><span class="fu">sendStatus</span>(<span class="dv">500</span>)<span class="op">;</span></span>
<span id="cb155-6"><a href="P6-V6.html#cb155-6" tabindex="-1"></a>    } <span class="cf">else</span> <span class="cf">if</span> (pesmi<span class="op">.</span><span class="at">length</span> <span class="op">==</span> <span class="dv">0</span>) {</span>
<span id="cb155-7"><a href="P6-V6.html#cb155-7" tabindex="-1"></a>      odgovor<span class="op">.</span><span class="fu">send</span>(</span>
<span id="cb155-8"><a href="P6-V6.html#cb155-8" tabindex="-1"></a>        <span class="st">&quot;&lt;p&gt;V košarici nimate nobene pesmi, zato računa ni mogoče pripraviti!&lt;/p&gt;&quot;</span></span>
<span id="cb155-9"><a href="P6-V6.html#cb155-9" tabindex="-1"></a>      )<span class="op">;</span></span>
<span id="cb155-10"><a href="P6-V6.html#cb155-10" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb155-11"><a href="P6-V6.html#cb155-11" tabindex="-1"></a>      <span class="kw">let</span> povzetek <span class="op">=</span> {</span>
<span id="cb155-12"><a href="P6-V6.html#cb155-12" tabindex="-1"></a>        <span class="dt">vsotaSPopustiInDavki</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb155-13"><a href="P6-V6.html#cb155-13" tabindex="-1"></a>        <span class="dt">vsotaZneskovDdv</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb155-14"><a href="P6-V6.html#cb155-14" tabindex="-1"></a>        <span class="dt">vsotaOsnovZaDdv</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb155-15"><a href="P6-V6.html#cb155-15" tabindex="-1"></a>        <span class="dt">vsotaVrednosti</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb155-16"><a href="P6-V6.html#cb155-16" tabindex="-1"></a>        <span class="dt">vsotaPopustov</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb155-17"><a href="P6-V6.html#cb155-17" tabindex="-1"></a>      }<span class="op">;</span></span>
<span id="cb155-18"><a href="P6-V6.html#cb155-18" tabindex="-1"></a></span>
<span id="cb155-19"><a href="P6-V6.html#cb155-19" tabindex="-1"></a>      pesmi<span class="op">.</span><span class="fu">forEach</span>(<span class="kw">function</span> (pesem<span class="op">,</span> i) {</span>
<span id="cb155-20"><a href="P6-V6.html#cb155-20" tabindex="-1"></a>        pesem<span class="op">.</span><span class="at">zapSt</span> <span class="op">=</span> i <span class="op">+</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb155-21"><a href="P6-V6.html#cb155-21" tabindex="-1"></a>        pesem<span class="op">.</span><span class="at">vrednost</span> <span class="op">=</span> pesem<span class="op">.</span><span class="at">kolicina</span> <span class="op">*</span> pesem<span class="op">.</span><span class="at">cena</span><span class="op">;</span></span>
<span id="cb155-22"><a href="P6-V6.html#cb155-22" tabindex="-1"></a>        pesem<span class="op">.</span><span class="at">davcnaStopnja</span> <span class="op">=</span> <span class="dv">22</span><span class="op">;</span></span>
<span id="cb155-23"><a href="P6-V6.html#cb155-23" tabindex="-1"></a>        pesem<span class="op">.</span><span class="at">popustStopnja</span> <span class="op">=</span> pesem<span class="op">.</span><span class="at">popust</span><span class="op">;</span></span>
<span id="cb155-24"><a href="P6-V6.html#cb155-24" tabindex="-1"></a>        pesem<span class="op">.</span><span class="at">popust</span> <span class="op">=</span></span>
<span id="cb155-25"><a href="P6-V6.html#cb155-25" tabindex="-1"></a>          pesem<span class="op">.</span><span class="at">kolicina</span> <span class="op">*</span> pesem<span class="op">.</span><span class="at">cena</span> <span class="op">*</span> (pesem<span class="op">.</span><span class="at">popustStopnja</span> <span class="op">/</span> <span class="dv">100</span>)<span class="op">;</span></span>
<span id="cb155-26"><a href="P6-V6.html#cb155-26" tabindex="-1"></a>        pesem<span class="op">.</span><span class="at">osnovaZaDdv</span> <span class="op">=</span> pesem<span class="op">.</span><span class="at">vrednost</span> <span class="op">-</span> pesem<span class="op">.</span><span class="at">popust</span><span class="op">;</span></span>
<span id="cb155-27"><a href="P6-V6.html#cb155-27" tabindex="-1"></a>        pesem<span class="op">.</span><span class="at">ddv</span> <span class="op">=</span> pesem<span class="op">.</span><span class="at">osnovaZaDdv</span> <span class="op">*</span> (pesem<span class="op">.</span><span class="at">davcnaStopnja</span> <span class="op">/</span> <span class="dv">100</span>)<span class="op">;</span></span>
<span id="cb155-28"><a href="P6-V6.html#cb155-28" tabindex="-1"></a>        pesem<span class="op">.</span><span class="at">osnovaZaDdvInDdv</span> <span class="op">=</span> pesem<span class="op">.</span><span class="at">osnovaZaDdv</span> <span class="op">+</span> pesem<span class="op">.</span><span class="at">ddv</span><span class="op">;</span></span>
<span id="cb155-29"><a href="P6-V6.html#cb155-29" tabindex="-1"></a></span>
<span id="cb155-30"><a href="P6-V6.html#cb155-30" tabindex="-1"></a>        povzetek<span class="op">.</span><span class="at">vsotaSPopustiInDavki</span> <span class="op">+=</span> pesem<span class="op">.</span><span class="at">osnovaZaDdv</span> <span class="op">+</span> pesem<span class="op">.</span><span class="at">ddv</span><span class="op">;</span></span>
<span id="cb155-31"><a href="P6-V6.html#cb155-31" tabindex="-1"></a>        povzetek<span class="op">.</span><span class="at">vsotaZneskovDdv</span> <span class="op">+=</span> pesem<span class="op">.</span><span class="at">ddv</span><span class="op">;</span></span>
<span id="cb155-32"><a href="P6-V6.html#cb155-32" tabindex="-1"></a>        povzetek<span class="op">.</span><span class="at">vsotaOsnovZaDdv</span> <span class="op">+=</span> pesem<span class="op">.</span><span class="at">osnovaZaDdv</span><span class="op">;</span></span>
<span id="cb155-33"><a href="P6-V6.html#cb155-33" tabindex="-1"></a>        povzetek<span class="op">.</span><span class="at">vsotaVrednosti</span> <span class="op">+=</span> pesem<span class="op">.</span><span class="at">vrednost</span><span class="op">;</span></span>
<span id="cb155-34"><a href="P6-V6.html#cb155-34" tabindex="-1"></a>        povzetek<span class="op">.</span><span class="at">vsotaPopustov</span> <span class="op">+=</span> pesem<span class="op">.</span><span class="at">popust</span><span class="op">;</span></span>
<span id="cb155-35"><a href="P6-V6.html#cb155-35" tabindex="-1"></a>      })<span class="op">;</span></span>
<span id="cb155-36"><a href="P6-V6.html#cb155-36" tabindex="-1"></a></span>
<span id="cb155-37"><a href="P6-V6.html#cb155-37" tabindex="-1"></a>      odgovor<span class="op">.</span><span class="fu">setHeader</span>(<span class="st">&quot;Content-Type&quot;</span><span class="op">,</span> <span class="st">&quot;text/xml&quot;</span>)<span class="op">;</span></span>
<span id="cb155-38"><a href="P6-V6.html#cb155-38" tabindex="-1"></a>      odgovor<span class="op">.</span><span class="fu">render</span>(<span class="st">&quot;eslog&quot;</span><span class="op">,</span> {</span>
<span id="cb155-39"><a href="P6-V6.html#cb155-39" tabindex="-1"></a>        <span class="dt">vizualiziraj</span><span class="op">:</span> zahteva<span class="op">.</span><span class="at">params</span><span class="op">.</span><span class="at">oblika</span> <span class="op">==</span> <span class="st">&quot;html&quot;</span><span class="op">,</span></span>
<span id="cb155-40"><a href="P6-V6.html#cb155-40" tabindex="-1"></a>        <span class="dt">postavkeRacuna</span><span class="op">:</span> pesmi<span class="op">,</span></span>
<span id="cb155-41"><a href="P6-V6.html#cb155-41" tabindex="-1"></a>        <span class="dt">povzetekRacuna</span><span class="op">:</span> povzetek<span class="op">,</span></span>
<span id="cb155-42"><a href="P6-V6.html#cb155-42" tabindex="-1"></a>      })<span class="op">;</span></span>
<span id="cb155-43"><a href="P6-V6.html#cb155-43" tabindex="-1"></a>    }</span>
<span id="cb155-44"><a href="P6-V6.html#cb155-44" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb155-45"><a href="P6-V6.html#cb155-45" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>Nato v nadaljevanju zgolj na ustrezna mesta na računu izpišemo skupne podatke, ki so na voljo v spremenljivki <code>povzetekRacuna</code>.</p>
<p><code>views/eslog.hbs</code></p>
<div class="sourceCode" id="cb156"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb156-1"><a href="P6-V6.html#cb156-1" tabindex="-1"></a>&lt;<span class="kw">G_SG50</span>&gt;</span>
<span id="cb156-2"><a href="P6-V6.html#cb156-2" tabindex="-1"></a>  &lt;<span class="kw">S_MOA</span>&gt;</span>
<span id="cb156-3"><a href="P6-V6.html#cb156-3" tabindex="-1"></a>    &lt;<span class="kw">C_C516</span>&gt;</span>
<span id="cb156-4"><a href="P6-V6.html#cb156-4" tabindex="-1"></a>      &lt;<span class="kw">D_5025</span>&gt;79&lt;/<span class="kw">D_5025</span>&gt;</span>
<span id="cb156-5"><a href="P6-V6.html#cb156-5" tabindex="-1"></a>      <span class="co">&lt;!-- BT-106: Sum of all Invoice line net amounts in the Invoice. --&gt;</span></span>
<span id="cb156-6"><a href="P6-V6.html#cb156-6" tabindex="-1"></a>      &lt;<span class="kw">D_5004</span>&gt;{{ povzetekRacuna.vsotaVrednosti }}&lt;/<span class="kw">D_5004</span>&gt;</span>
<span id="cb156-7"><a href="P6-V6.html#cb156-7" tabindex="-1"></a>    &lt;/<span class="kw">C_C516</span>&gt;</span>
<span id="cb156-8"><a href="P6-V6.html#cb156-8" tabindex="-1"></a>  &lt;/<span class="kw">S_MOA</span>&gt;</span>
<span id="cb156-9"><a href="P6-V6.html#cb156-9" tabindex="-1"></a>&lt;/<span class="kw">G_SG50</span>&gt;</span>
<span id="cb156-10"><a href="P6-V6.html#cb156-10" tabindex="-1"></a>&lt;<span class="kw">G_SG50</span>&gt;</span>
<span id="cb156-11"><a href="P6-V6.html#cb156-11" tabindex="-1"></a>  &lt;<span class="kw">S_MOA</span>&gt;</span>
<span id="cb156-12"><a href="P6-V6.html#cb156-12" tabindex="-1"></a>    &lt;<span class="kw">C_C516</span>&gt;</span>
<span id="cb156-13"><a href="P6-V6.html#cb156-13" tabindex="-1"></a>      <span class="co">&lt;!-- Skupna vrednost brez DDV --&gt;</span></span>
<span id="cb156-14"><a href="P6-V6.html#cb156-14" tabindex="-1"></a>      &lt;<span class="kw">D_5025</span>&gt;389&lt;/<span class="kw">D_5025</span>&gt;</span>
<span id="cb156-15"><a href="P6-V6.html#cb156-15" tabindex="-1"></a>      <span class="co">&lt;!-- BT-109: The total amount of the Invoice without VAT. --&gt;</span></span>
<span id="cb156-16"><a href="P6-V6.html#cb156-16" tabindex="-1"></a>      &lt;<span class="kw">D_5004</span>&gt;{{ povzetekRacuna.vsotaOsnovZaDdv }}&lt;/<span class="kw">D_5004</span>&gt;</span>
<span id="cb156-17"><a href="P6-V6.html#cb156-17" tabindex="-1"></a>    &lt;/<span class="kw">C_C516</span>&gt;</span>
<span id="cb156-18"><a href="P6-V6.html#cb156-18" tabindex="-1"></a>  &lt;/<span class="kw">S_MOA</span>&gt;</span>
<span id="cb156-19"><a href="P6-V6.html#cb156-19" tabindex="-1"></a>&lt;/<span class="kw">G_SG50</span>&gt;</span>
<span id="cb156-20"><a href="P6-V6.html#cb156-20" tabindex="-1"></a>&lt;<span class="kw">G_SG50</span>&gt;</span>
<span id="cb156-21"><a href="P6-V6.html#cb156-21" tabindex="-1"></a>  &lt;<span class="kw">S_MOA</span>&gt;</span>
<span id="cb156-22"><a href="P6-V6.html#cb156-22" tabindex="-1"></a>    &lt;<span class="kw">C_C516</span>&gt;</span>
<span id="cb156-23"><a href="P6-V6.html#cb156-23" tabindex="-1"></a>      <span class="co">&lt;!-- Skupna vrednost DDV --&gt;</span></span>
<span id="cb156-24"><a href="P6-V6.html#cb156-24" tabindex="-1"></a>      &lt;<span class="kw">D_5025</span>&gt;176&lt;/<span class="kw">D_5025</span>&gt;</span>
<span id="cb156-25"><a href="P6-V6.html#cb156-25" tabindex="-1"></a>      <span class="co">&lt;!-- BT-110: The total VAT amount for the Invoice. --&gt;</span></span>
<span id="cb156-26"><a href="P6-V6.html#cb156-26" tabindex="-1"></a>      &lt;<span class="kw">D_5004</span>&gt;{{ povzetekRacuna.vsotaZneskovDdv }}&lt;/<span class="kw">D_5004</span>&gt;</span>
<span id="cb156-27"><a href="P6-V6.html#cb156-27" tabindex="-1"></a>    &lt;/<span class="kw">C_C516</span>&gt;</span>
<span id="cb156-28"><a href="P6-V6.html#cb156-28" tabindex="-1"></a>  &lt;/<span class="kw">S_MOA</span>&gt;</span>
<span id="cb156-29"><a href="P6-V6.html#cb156-29" tabindex="-1"></a>&lt;/<span class="kw">G_SG50</span>&gt;</span>
<span id="cb156-30"><a href="P6-V6.html#cb156-30" tabindex="-1"></a>&lt;<span class="kw">G_SG50</span>&gt;</span>
<span id="cb156-31"><a href="P6-V6.html#cb156-31" tabindex="-1"></a>  &lt;<span class="kw">S_MOA</span>&gt;</span>
<span id="cb156-32"><a href="P6-V6.html#cb156-32" tabindex="-1"></a>    &lt;<span class="kw">C_C516</span>&gt;</span>
<span id="cb156-33"><a href="P6-V6.html#cb156-33" tabindex="-1"></a>      &lt;<span class="kw">D_5025</span>&gt;388&lt;/<span class="kw">D_5025</span>&gt;</span>
<span id="cb156-34"><a href="P6-V6.html#cb156-34" tabindex="-1"></a>      <span class="co">&lt;!-- BT-112: The total amount of the Invoice with VAT. --&gt;</span></span>
<span id="cb156-35"><a href="P6-V6.html#cb156-35" tabindex="-1"></a>      &lt;<span class="kw">D_5004</span>&gt;{{ povzetekRacuna.vsotaSPopustiInDavki }}&lt;/<span class="kw">D_5004</span>&gt;</span>
<span id="cb156-36"><a href="P6-V6.html#cb156-36" tabindex="-1"></a>    &lt;/<span class="kw">C_C516</span>&gt;</span>
<span id="cb156-37"><a href="P6-V6.html#cb156-37" tabindex="-1"></a>  &lt;/<span class="kw">S_MOA</span>&gt;</span>
<span id="cb156-38"><a href="P6-V6.html#cb156-38" tabindex="-1"></a>&lt;/<span class="kw">G_SG50</span>&gt;</span>
<span id="cb156-39"><a href="P6-V6.html#cb156-39" tabindex="-1"></a>&lt;<span class="kw">G_SG50</span>&gt;</span>
<span id="cb156-40"><a href="P6-V6.html#cb156-40" tabindex="-1"></a>  &lt;<span class="kw">S_MOA</span>&gt;</span>
<span id="cb156-41"><a href="P6-V6.html#cb156-41" tabindex="-1"></a>    &lt;<span class="kw">C_C516</span>&gt;</span>
<span id="cb156-42"><a href="P6-V6.html#cb156-42" tabindex="-1"></a>      &lt;<span class="kw">D_5025</span>&gt;259&lt;/<span class="kw">D_5025</span>&gt;</span>
<span id="cb156-43"><a href="P6-V6.html#cb156-43" tabindex="-1"></a>      <span class="co">&lt;!-- BT-108: Sum of all charges on document level in the Invoice. --&gt;</span></span>
<span id="cb156-44"><a href="P6-V6.html#cb156-44" tabindex="-1"></a>      &lt;<span class="kw">D_5004</span>&gt;{{ povzetekRacuna.vsotaPopustov }}&lt;/<span class="kw">D_5004</span>&gt;</span>
<span id="cb156-45"><a href="P6-V6.html#cb156-45" tabindex="-1"></a>    &lt;/<span class="kw">C_C516</span>&gt;</span>
<span id="cb156-46"><a href="P6-V6.html#cb156-46" tabindex="-1"></a>  &lt;/<span class="kw">S_MOA</span>&gt;</span>
<span id="cb156-47"><a href="P6-V6.html#cb156-47" tabindex="-1"></a>&lt;/<span class="kw">G_SG50</span>&gt;</span>
<span id="cb156-48"><a href="P6-V6.html#cb156-48" tabindex="-1"></a>&lt;<span class="kw">G_SG50</span>&gt;</span>
<span id="cb156-49"><a href="P6-V6.html#cb156-49" tabindex="-1"></a>  &lt;<span class="kw">S_MOA</span>&gt;</span>
<span id="cb156-50"><a href="P6-V6.html#cb156-50" tabindex="-1"></a>    &lt;<span class="kw">C_C516</span>&gt;</span>
<span id="cb156-51"><a href="P6-V6.html#cb156-51" tabindex="-1"></a>      &lt;<span class="kw">D_5025</span>&gt;366&lt;/<span class="kw">D_5025</span>&gt;</span>
<span id="cb156-52"><a href="P6-V6.html#cb156-52" tabindex="-1"></a>      <span class="co">&lt;!-- BT-114: The amount to be added to the invoice total to round the amount to be paid. --&gt;</span></span>
<span id="cb156-53"><a href="P6-V6.html#cb156-53" tabindex="-1"></a>      &lt;<span class="kw">D_5004</span>&gt;0&lt;/<span class="kw">D_5004</span>&gt;</span>
<span id="cb156-54"><a href="P6-V6.html#cb156-54" tabindex="-1"></a>    &lt;/<span class="kw">C_C516</span>&gt;</span>
<span id="cb156-55"><a href="P6-V6.html#cb156-55" tabindex="-1"></a>  &lt;/<span class="kw">S_MOA</span>&gt;</span>
<span id="cb156-56"><a href="P6-V6.html#cb156-56" tabindex="-1"></a>&lt;/<span class="kw">G_SG50</span>&gt;</span>
<span id="cb156-57"><a href="P6-V6.html#cb156-57" tabindex="-1"></a>&lt;<span class="kw">G_SG50</span>&gt;</span>
<span id="cb156-58"><a href="P6-V6.html#cb156-58" tabindex="-1"></a>  &lt;<span class="kw">S_MOA</span>&gt;</span>
<span id="cb156-59"><a href="P6-V6.html#cb156-59" tabindex="-1"></a>    &lt;<span class="kw">C_C516</span>&gt;</span>
<span id="cb156-60"><a href="P6-V6.html#cb156-60" tabindex="-1"></a>      &lt;<span class="kw">D_5025</span>&gt;9&lt;/<span class="kw">D_5025</span>&gt;</span>
<span id="cb156-61"><a href="P6-V6.html#cb156-61" tabindex="-1"></a>      <span class="co">&lt;!-- BT-115: The outstanding amount that is requested to be paid. --&gt;</span></span>
<span id="cb156-62"><a href="P6-V6.html#cb156-62" tabindex="-1"></a>      &lt;<span class="kw">D_5004</span>&gt;{{ povzetekRacuna.vsotaSPopustiInDavki }}&lt;/<span class="kw">D_5004</span>&gt;</span>
<span id="cb156-63"><a href="P6-V6.html#cb156-63" tabindex="-1"></a>    &lt;/<span class="kw">C_C516</span>&gt;</span>
<span id="cb156-64"><a href="P6-V6.html#cb156-64" tabindex="-1"></a>  &lt;/<span class="kw">S_MOA</span>&gt;</span>
<span id="cb156-65"><a href="P6-V6.html#cb156-65" tabindex="-1"></a>&lt;/<span class="kw">G_SG50</span>&gt;</span>
<span id="cb156-66"><a href="P6-V6.html#cb156-66" tabindex="-1"></a>&lt;<span class="kw">G_SG52</span>&gt;</span>
<span id="cb156-67"><a href="P6-V6.html#cb156-67" tabindex="-1"></a>  &lt;<span class="kw">S_TAX</span>&gt;</span>
<span id="cb156-68"><a href="P6-V6.html#cb156-68" tabindex="-1"></a>    &lt;<span class="kw">D_5283</span>&gt;7&lt;/<span class="kw">D_5283</span>&gt;</span>
<span id="cb156-69"><a href="P6-V6.html#cb156-69" tabindex="-1"></a>    &lt;<span class="kw">C_C241</span>&gt;</span>
<span id="cb156-70"><a href="P6-V6.html#cb156-70" tabindex="-1"></a>      &lt;<span class="kw">D_5153</span>&gt;VAT&lt;/<span class="kw">D_5153</span>&gt;</span>
<span id="cb156-71"><a href="P6-V6.html#cb156-71" tabindex="-1"></a>    &lt;/<span class="kw">C_C241</span>&gt;</span>
<span id="cb156-72"><a href="P6-V6.html#cb156-72" tabindex="-1"></a>    &lt;<span class="kw">C_C243</span>&gt;</span>
<span id="cb156-73"><a href="P6-V6.html#cb156-73" tabindex="-1"></a>      <span class="co">&lt;!-- BT-119: The VAT rate, represented as percentage that applies for the relevant VAT category. --&gt;</span></span>
<span id="cb156-74"><a href="P6-V6.html#cb156-74" tabindex="-1"></a>      &lt;<span class="kw">D_5278</span>&gt;22&lt;/<span class="kw">D_5278</span>&gt;</span>
<span id="cb156-75"><a href="P6-V6.html#cb156-75" tabindex="-1"></a>    &lt;/<span class="kw">C_C243</span>&gt;</span>
<span id="cb156-76"><a href="P6-V6.html#cb156-76" tabindex="-1"></a>  &lt;/<span class="kw">S_TAX</span>&gt;</span>
<span id="cb156-77"><a href="P6-V6.html#cb156-77" tabindex="-1"></a>  &lt;<span class="kw">S_MOA</span>&gt;</span>
<span id="cb156-78"><a href="P6-V6.html#cb156-78" tabindex="-1"></a>    <span class="co">&lt;!-- osnova za DDV --&gt;</span></span>
<span id="cb156-79"><a href="P6-V6.html#cb156-79" tabindex="-1"></a>    &lt;<span class="kw">C_C516</span>&gt;</span>
<span id="cb156-80"><a href="P6-V6.html#cb156-80" tabindex="-1"></a>      &lt;<span class="kw">D_5025</span>&gt;125&lt;/<span class="kw">D_5025</span>&gt;</span>
<span id="cb156-81"><a href="P6-V6.html#cb156-81" tabindex="-1"></a>      <span class="co">&lt;!-- BT-116: Sum of all taxable amounts subject to a specific VAT category code and VAT category rate (if the VAT category rate is applicable). --&gt;</span></span>
<span id="cb156-82"><a href="P6-V6.html#cb156-82" tabindex="-1"></a>      &lt;<span class="kw">D_5004</span>&gt;{{ povzetekRacuna.vsotaOsnovZaDdv }}&lt;/<span class="kw">D_5004</span>&gt;</span>
<span id="cb156-83"><a href="P6-V6.html#cb156-83" tabindex="-1"></a>    &lt;/<span class="kw">C_C516</span>&gt;</span>
<span id="cb156-84"><a href="P6-V6.html#cb156-84" tabindex="-1"></a>  &lt;/<span class="kw">S_MOA</span>&gt;</span>
<span id="cb156-85"><a href="P6-V6.html#cb156-85" tabindex="-1"></a>  &lt;<span class="kw">S_MOA</span>&gt;</span>
<span id="cb156-86"><a href="P6-V6.html#cb156-86" tabindex="-1"></a>    &lt;<span class="kw">C_C516</span>&gt;</span>
<span id="cb156-87"><a href="P6-V6.html#cb156-87" tabindex="-1"></a>      &lt;<span class="kw">D_5025</span>&gt;124&lt;/<span class="kw">D_5025</span>&gt;</span>
<span id="cb156-88"><a href="P6-V6.html#cb156-88" tabindex="-1"></a>      <span class="co">&lt;!-- BT-117: The total VAT amount for a given VAT category. --&gt;</span></span>
<span id="cb156-89"><a href="P6-V6.html#cb156-89" tabindex="-1"></a>      &lt;<span class="kw">D_5004</span>&gt;{{ povzetekRacuna.vsotaZneskovDdv }}&lt;/<span class="kw">D_5004</span>&gt;</span>
<span id="cb156-90"><a href="P6-V6.html#cb156-90" tabindex="-1"></a>    &lt;/<span class="kw">C_C516</span>&gt;</span>
<span id="cb156-91"><a href="P6-V6.html#cb156-91" tabindex="-1"></a>  &lt;/<span class="kw">S_MOA</span>&gt;</span>
<span id="cb156-92"><a href="P6-V6.html#cb156-92" tabindex="-1"></a>&lt;/<span class="kw">G_SG52</span>&gt;</span>
<span id="cb156-93"><a href="P6-V6.html#cb156-93" tabindex="-1"></a>&lt;<span class="kw">G_SG52</span>&gt;</span></code></pre></div>
</div>
</div>
<div id="testiranje-generiranja-računov" class="section level4 hasAnchor" number="13.5.2.4">
<h4><span class="header-section-number">13.5.2.4</span> Testiranje generiranja računov<a href="P6-V6.html#testiranje-generiranja-računov" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Če na seznamu 100 najbolje prodajanih pesmi izberemo nekaj pesmi, se nam le-te pojavijo na desni strani v nakupovalni košarici. Takoj ko se v košarici pojavi vsaj 1 pesem, se omogočita tudi gumba za pripravo računa v HTML ali XML obliki. Ob zahtevi priprave računa se prikaže račun z izbranimi pesmimi iz nakupovalne košarice, kot to prikazuje slika <a href="P6-V6.html#fig:slika-E-Racun-kosarica#fig:slika-E-Racun-kosarica">13.5</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:slika-E-Racun-kosarica"></span>
<img src="assets/img/P3.1_V6_eracun_kosarica.png" alt="Primer prikaza e-računa za izbrane pesmi v nakupovalni košarici" width="600" />
<p class="caption">
Slika 13.5: Primer prikaza e-računa za izbrane pesmi v nakupovalni košarici
</p>
</div>
<blockquote>
<p><strong>Opomba</strong>: Generiranje računov iz nakupovalne košarice je neodvisno med uporabniki, kar lahko preverite tako, da odprete dve okni spletnega brskalnika, kjer simulirate neodvisna uporabnika, ki si izbereta različne pesmi in tako dobita tudi različne e-račune.</p>
</blockquote>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js"></script>
<script>
  var options_dodaj = {acrossElements: true, element: "dodaj"};
  var options_izbrisi = {acrossElements: true, element: "izbrisi"};
  
  $(document).ready(function() {
    $("#namestitev-knjižnic-in-vključitev-podatkovne-baze code:eq(2)").markRegExp(/.+/, options_dodaj);
    $("#namestitev-knjižnic-in-vključitev-podatkovne-baze code.json").markRegExp(/.+/, options_dodaj);
    $("#namestitev-knjižnic-in-vključitev-podatkovne-baze code.bash").markRegExp(/npm.+/, options_dodaj);
    $("#namestitev-knjižnic-in-vključitev-podatkovne-baze code:eq(5)").markRegExp(/.+/, options_dodaj);
    $("#namestitev-knjižnic-in-vključitev-podatkovne-baze code:eq(8)").markRegExp(/.+/, options_dodaj);
    $("#seja code:eq(0)").markRegExp(/\?parameter=vrednost/, options_dodaj);
    $("#števec-vseh-dostopov-do-spletne-strani code:eq(0)").markRegExp(/.+/, options_dodaj);
    $("#števec-vseh-dostopov-do-spletne-strani code.javascript").markRegExp(/.+/, options_dodaj);
    $("#števec-dostopov-uporabnika-do-spletne-strani-s-ttl code.javascript:eq(0)").markRegExp(/.+/, options_dodaj);
    $("#števec-dostopov-uporabnika-do-spletne-strani-s-ttl code.javascript:eq(1)").markRegExp(/\s+?if \(\!zahteva\.session\.stDostopov\)[\s\S]+?\+\+/, options_dodaj);
    $("#števec-dostopov-uporabnika-do-spletne-strani-s-ttl code.javascript:eq(1)").markRegExp(/\s+?"medtem ko[\s\S]+?\." \+/, options_dodaj);
    $("#spletna-stran-s-seznamom-pesmi code:eq(2)").markRegExp(/.+/, options_dodaj);
    $("#spletna-stran-s-seznamom-pesmi code.javascript:eq(0)").markRegExp(/.+/, options_dodaj);
    $("#spletna-stran-s-seznamom-pesmi code.javascript:eq(1)").markRegExp(/streznik\.use.+/, options_dodaj);
    $("#spletna-stran-s-seznamom-pesmi code:eq(8)").markRegExp(/.+/, options_dodaj);
    $("#spletna-stran-s-seznamom-pesmi code.html").markRegExp(/.+/, options_dodaj);
    $("#spletna-stran-s-seznamom-pesmi code:eq(10)").markRegExp(/.+/, options_dodaj);
    $("#spletna-stran-s-seznamom-pesmi code:eq(11)").markRegExp(/.+/, options_dodaj);
    $("#spletna-stran-s-seznamom-pesmi code.css").markRegExp(/.+/, options_dodaj);
    $("#dodajanje-funkcionalnosti-košarice code.javascript:eq(0)").markRegExp(/.+/, options_dodaj);
    $("#dodajanje-funkcionalnosti-košarice code.javascript:eq(1)").markRegExp(/.+/, options_dodaj);
    $("#dodajanje-funkcionalnosti-košarice code.javascript:eq(2)").markRegExp(/.+/, options_dodaj);
    $("#dodajanje-funkcionalnosti-košarice code.javascript:eq(3)").markRegExp(/.+/, options_dodaj);
    $("#dodajanje-funkcionalnosti-košarice code.html:eq(0)").markRegExp(/6/, options_dodaj);
    $("#dodajanje-funkcionalnosti-košarice code.html:eq(0)").markRegExp(/12/, options_izbrisi);
    $("#dodajanje-funkcionalnosti-košarice code.html:eq(0)").markRegExp(/\s+?<div class="col-md-6">[\s\S]+?<\/div>[\s\S]+?<\/div>/, options_dodaj);
    $("#dodajanje-funkcionalnosti-košarice code.html:eq(1)").markRegExp(/.+?<script.+/, options_dodaj);
    $("#dodajanje-funkcionalnosti-košarice code:eq(25)").markRegExp(/.+/, options_dodaj);
    $("#dodajanje-funkcionalnosti-košarice code.javascript:eq(4)").markRegExp(/.+/, options_dodaj);
    $("#dokumentacija code").markRegExp(/.+/, options_dodaj);
    $("#testni-primer-e-računa code:eq(0)").markRegExp(/primer\.xml/, options_dodaj);
    $("#testni-primer-e-računa code.xml:eq(0)").markRegExp(/vizualizacija\.xslt/, options_dodaj);
    $("#testni-primer-e-računa code:eq(3)").markRegExp(/vizualizacija\.xslt/, options_dodaj);
    $("#dodajanje-izpisa-e-računa-iz-nakupovalne-košarice-v-seji code:eq(1)").markRegExp(/.+/, options_dodaj);
    $("#dodajanje-izpisa-e-računa-iz-nakupovalne-košarice-v-seji code.javascript:eq(0)").markRegExp(/maxAge: 36.+/, options_dodaj);
    $("#dodajanje-izpisa-e-računa-iz-nakupovalne-košarice-v-seji code.javascript:eq(0)").markRegExp(/maxAge:  .+/, options_izbrisi);
    $("#dodajanje-izpisa-e-računa-iz-nakupovalne-košarice-v-seji code.javascript:eq(0)").markRegExp(/1 h/, options_dodaj);
    $("#dodajanje-izpisa-e-računa-iz-nakupovalne-košarice-v-seji code.javascript:eq(0)").markRegExp(/60 s \(1 min\)/, options_izbrisi);
    $("#dodajanje-izpisa-e-računa-iz-nakupovalne-košarice-v-seji code.javascript:eq(1)").markRegExp(/.+/, options_dodaj);
    $("#dodajanje-izpisa-e-računa-iz-nakupovalne-košarice-v-seji code.javascript:eq(2)").markRegExp(/.+/, options_dodaj);
    $("#dodajanje-izpisa-e-računa-iz-nakupovalne-košarice-v-seji code.html:eq(0)").markRegExp(/\s+?<button[\s\S]+?\/button>/, options_dodaj);
    $("#dodajanje-izpisa-e-računa-iz-nakupovalne-košarice-v-seji code.javascript:eq(3)").markRegExp(/\s+?\/\/ Če je košarica.+/, options_dodaj);
    $("#dodajanje-izpisa-e-računa-iz-nakupovalne-košarice-v-seji code.javascript:eq(3)").markRegExp(/\s+?if[\s\S]+?}/, options_dodaj);
    $("#dodajanje-izpisa-e-računa-iz-nakupovalne-košarice-v-seji code.javascript:eq(4)").markRegExp(/\s+?\/\/ Ker košarica.+/, options_dodaj);
    $("#dodajanje-izpisa-e-računa-iz-nakupovalne-košarice-v-seji code.javascript:eq(4)").markRegExp(/\s+?\$\("#racun.+?false\);/, options_dodaj);
    $("#dodajanje-izpisa-e-računa-iz-nakupovalne-košarice-v-seji code.javascript:eq(5)").markRegExp(/\s+?\/\/ Klik[\s\S]+?xml"\);/, options_dodaj);
    $("#dodajanje-izpisa-e-računa-iz-nakupovalne-košarice-v-seji code.javascript:eq(6)").markRegExp(/\s+?let povzetek[\s\S]+?\}\);/, options_dodaj);
    $("#dodajanje-izpisa-e-računa-iz-nakupovalne-košarice-v-seji code.javascript:eq(6)").markRegExp(/,[\s\n]+?povzetekRacuna: povzetek/, options_dodaj);
    $("#dodajanje-izpisa-e-računa-iz-nakupovalne-košarice-v-seji code.xml:eq(0)").markRegExp(/\{\{#if[\s\S]+?\/if\}\}/, options_dodaj);
    $("#dodajanje-izpisa-e-računa-iz-nakupovalne-košarice-v-seji code:eq(27)").markRegExp(/eslog\.hbs/, options_dodaj);
    $("#dodajanje-izpisa-e-računa-iz-nakupovalne-košarice-v-seji code.xml:eq(1)").markRegExp(/\{\{.+?\}\}/, options_dodaj);
    $("#dodajanje-izpisa-e-računa-iz-nakupovalne-košarice-v-seji code.xml:eq(2)").markRegExp(/\{\{.+?\}\}/, options_dodaj);
  });
</script>

</div>
</div>
</div>
</div>



<div class="footnotes">
<hr />
<ol start="7">
<li id="fn7"><p>angl. <a href="https://en.wikipedia.org/wiki/XSLT">Extensible Stylesheet Language Transformations</a><a href="P6-V6.html#fnref7" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
<script type="text/javascript">
  $(document).ready(function() {
    
    $("a").click(function(e) {
      if (
        $(this).has(".fa-solid").length == 1 || 
        $(this).has(".fa-brands").length == 1 || 
        $(this).has(".fa-regular").length == 1 || 
        $(this).has("img.git").length == 1
      ) {
        e.preventDefault();
        window.open($(this).attr("href"), '_blank');
      }
    });
  });
</script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Q6109Y2092"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Q6109Y2092');
</script>
            </section>

          </div>
        </div>
      </div>
<a href="P6.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="P7.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="assets/lib/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/lib/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="assets/lib/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/lib/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/lib/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/lib/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/lib/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="assets/lib/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": {}
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 1
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
